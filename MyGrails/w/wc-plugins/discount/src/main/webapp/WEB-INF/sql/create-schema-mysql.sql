CREATE TABLE `amount_discount_details` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `single_amount_type` varchar(255) NOT NULL,  `single_amount` double DEFAULT NULL,  `type` varchar(255) NOT NULL,  `minimum_amount_on` varchar(255) DEFAULT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_amount_tier` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `minimum_amount` double NOT NULL,  `amount_type` varchar(255) NOT NULL,  `amount` double NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `amount_discount_details_discount_amount_tier` (  `amount_discount_details_tiers_id` bigint(20) DEFAULT NULL,  `discount_amount_tier_id` bigint(20) DEFAULT NULL,  KEY `FKi4x3mvd42qgvjq6lfud98c3ec` (`discount_amount_tier_id`),  KEY `FKlf5kvk0n97sbced7l6xncxk6w` (`amount_discount_details_tiers_id`),  CONSTRAINT `FKlf5kvk0n97sbced7l6xncxk6w` FOREIGN KEY (`amount_discount_details_tiers_id`) REFERENCES `amount_discount_details` (`id`),  CONSTRAINT `FKi4x3mvd42qgvjq6lfud98c3ec` FOREIGN KEY (`discount_amount_tier_id`) REFERENCES `discount_amount_tier` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_assoc` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `is_applied_all_customer` tinyint(1) NOT NULL,  `is_applied_all_product` tinyint(1) NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_coupon_assoc` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `is_unique_code_each_customer` tinyint(1) NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_coupon_code` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `assoc_id` bigint(20) DEFAULT NULL,  `is_active` tinyint(1) NOT NULL,  `code` varchar(255) NOT NULL,  `customer_id` bigint(20) DEFAULT NULL,  PRIMARY KEY (`id`),  UNIQUE KEY `UK_6vywcttipex70flh5ov5euo4c` (`code`),  KEY `FK4mc2eq6addd2tqfeyeci2lpiq` (`assoc_id`),  KEY `FK4kbti9guqjy5aogppqgao3ufg` (`customer_id`),  CONSTRAINT `FK4kbti9guqjy5aogppqgao3ufg` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`),  CONSTRAINT `FK4mc2eq6addd2tqfeyeci2lpiq` FOREIGN KEY (`assoc_id`) REFERENCES `discount_coupon_assoc` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_coupon` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `created` datetime(6) DEFAULT NULL,  `discount_amount` double DEFAULT NULL,  `assoc_id` bigint(20) NOT NULL,  `is_active` tinyint(1) NOT NULL,  `code_id` bigint(20) NOT NULL,  `created_by_id` bigint(20) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `FK4lvc2ou2fo5xx0o0816iqo6o` (`assoc_id`),  KEY `FK3op3sg9w5bi9ykdewusfanyiu` (`code_id`),  KEY `FKrvl8s84qohletmoxwyvp8jh2` (`created_by_id`),  CONSTRAINT `FKrvl8s84qohletmoxwyvp8jh2` FOREIGN KEY (`created_by_id`) REFERENCES `operator` (`id`),  CONSTRAINT `FK3op3sg9w5bi9ykdewusfanyiu` FOREIGN KEY (`code_id`) REFERENCES `discount_coupon_code` (`id`),  CONSTRAINT `FK4lvc2ou2fo5xx0o0816iqo6o` FOREIGN KEY (`assoc_id`) REFERENCES `discount_coupon_assoc` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `custom_discount` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `is_display_text_partial_discount_condition` tinyint(1) NOT NULL,  `is_display_text_coupon` tinyint(1) NOT NULL,  `is_active` tinyint(1) NOT NULL,  `is_coupon_code_auto_generate` tinyint(1) NOT NULL,  `is_specify_end_date` tinyint(1) NOT NULL,  `discount_details_type` varchar(255) NOT NULL,  `coupon_id` bigint(20) DEFAULT NULL,  `display_text_coupon` varchar(255) DEFAULT NULL,  `is_maximum_use_total` tinyint(1) NOT NULL,  `details_id` bigint(20) NOT NULL,  `is_maximum_discount_allowed` tinyint(1) NOT NULL,  `default_coupon_code` varchar(255) DEFAULT NULL,  `is_create_unique_coupon_each_customer` tinyint(1) NOT NULL,  `start_to` datetime(6) DEFAULT NULL,  `is_exclude_products_on_sale` tinyint(1) NOT NULL,  `maximum_use_customer_count` int(11) DEFAULT NULL,  `created` datetime(6) NOT NULL,  `assoc_id` bigint(20) NOT NULL,  `start_from` datetime(6) DEFAULT NULL,  `updated` datetime(6) NOT NULL,  `is_discount_used_with_other_discount` tinyint(1) NOT NULL,  `display_text_cart` varchar(255) DEFAULT NULL,  `maximum_use_count` int(11) DEFAULT NULL,  `maximum_discount_allowed_amount` double DEFAULT NULL,  `is_display_text_cart` tinyint(1) NOT NULL,  `name` varchar(255) NOT NULL,  `is_display_discount_information_prod_detail` tinyint(1) NOT NULL,  `type` varchar(255) DEFAULT NULL,  `display_text_partial_discount_condition` varchar(255) DEFAULT NULL,  `is_maximum_use_customer` tinyint(1) NOT NULL,  `is_apply_coupon_code` tinyint(1) NOT NULL,  PRIMARY KEY (`id`),  UNIQUE KEY `UK_oxl889tsb9e14y3fw7r5t20r0` (`name`),  KEY `FKg2xwbr1rb7b7o38t6htpxymj3` (`coupon_id`),  KEY `FKmjh1m1p04qwg8byl0ebn8tmuf` (`assoc_id`),  CONSTRAINT `FKmjh1m1p04qwg8byl0ebn8tmuf` FOREIGN KEY (`assoc_id`) REFERENCES `discount_assoc` (`id`),  CONSTRAINT `FKg2xwbr1rb7b7o38t6htpxymj3` FOREIGN KEY (`coupon_id`) REFERENCES `discount_coupon` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `custom_discount_product` (  `custom_discount_exclude_products_id` bigint(20) DEFAULT NULL,  `product_id` bigint(20) DEFAULT NULL,  KEY `FKn7mfs3s0ywfey25q1tnmqsbmo` (`product_id`),  KEY `FKonvsf8s0v0cy5rpexr7h2m9j2` (`custom_discount_exclude_products_id`),  CONSTRAINT `FKonvsf8s0v0cy5rpexr7h2m9j2` FOREIGN KEY (`custom_discount_exclude_products_id`) REFERENCES `custom_discount` (`id`),  CONSTRAINT `FKn7mfs3s0ywfey25q1tnmqsbmo` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_assoc_category` (  `discount_assoc_categories_id` bigint(20) DEFAULT NULL,  `category_id` bigint(20) DEFAULT NULL,  KEY `FKil37637avakuubid6ylqjyc19` (`category_id`),  KEY `FKrr1k2v1v9ju6galhkjdqis5l1` (`discount_assoc_categories_id`),  CONSTRAINT `FKrr1k2v1v9ju6galhkjdqis5l1` FOREIGN KEY (`discount_assoc_categories_id`) REFERENCES `discount_assoc` (`id`),  CONSTRAINT `FKil37637avakuubid6ylqjyc19` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_assoc_customer` (  `discount_assoc_customers_id` bigint(20) DEFAULT NULL,  `customer_id` bigint(20) DEFAULT NULL,  KEY `FK9doar237ckgtcdl4q5gbs7jit` (`customer_id`),  KEY `FKe0t9rnctt4dk7tsyqbxfgyacw` (`discount_assoc_customers_id`),  CONSTRAINT `FKe0t9rnctt4dk7tsyqbxfgyacw` FOREIGN KEY (`discount_assoc_customers_id`) REFERENCES `discount_assoc` (`id`),  CONSTRAINT `FK9doar237ckgtcdl4q5gbs7jit` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_assoc_customer_group` (  `discount_assoc_customer_groups_id` bigint(20) DEFAULT NULL,  `customer_group_id` bigint(20) DEFAULT NULL,  KEY `FK1v92tuav4youbg81mbw67m6t9` (`customer_group_id`),  KEY `FKmj52w4pt2oihjm7rbur5uuyn7` (`discount_assoc_customer_groups_id`),  CONSTRAINT `FKmj52w4pt2oihjm7rbur5uuyn7` FOREIGN KEY (`discount_assoc_customer_groups_id`) REFERENCES `discount_assoc` (`id`),  CONSTRAINT `FK1v92tuav4youbg81mbw67m6t9` FOREIGN KEY (`customer_group_id`) REFERENCES `customer_group` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_assoc_product` (  `discount_assoc_products_id` bigint(20) DEFAULT NULL,  `product_id` bigint(20) DEFAULT NULL,  KEY `FKaj4aii1rghmer48shginv2atq` (`product_id`),  KEY `FK5uu07h8uso71cretn89par3t8` (`discount_assoc_products_id`),  CONSTRAINT `FK5uu07h8uso71cretn89par3t8` FOREIGN KEY (`discount_assoc_products_id`) REFERENCES `discount_assoc` (`id`),  CONSTRAINT `FKaj4aii1rghmer48shginv2atq` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_coupon_usage` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `created` datetime(6) NOT NULL,  `item_id` bigint(20) DEFAULT NULL,  `coupon_id` bigint(20) NOT NULL,  `order_id` bigint(20) NOT NULL,  `customer_id` bigint(20) DEFAULT NULL,  `amount` double NOT NULL,  PRIMARY KEY (`id`),  KEY `FK18xmimyy77l020vbc7mwsxtwa` (`coupon_id`),  CONSTRAINT `FK18xmimyy77l020vbc7mwsxtwa` FOREIGN KEY (`coupon_id`) REFERENCES `discount_coupon` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_qty_tier` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `amount_type` varchar(255) NOT NULL,  `minimum_qty` int(11) NOT NULL,  `amount` double NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `discount_usage` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `created` datetime(6) NOT NULL,  `item_id` bigint(20) DEFAULT NULL,  `order_id` bigint(20) NOT NULL,  `discount_id` bigint(20) NOT NULL,  `customer_id` bigint(20) DEFAULT NULL,  `amount` double NOT NULL,  `applied_coupon_code` varchar(255) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `FKkefkfplkdtri3q1idtreq3i22` (`discount_id`),  CONSTRAINT `FKkefkfplkdtri3q1idtreq3i22` FOREIGN KEY (`discount_id`) REFERENCES `custom_discount` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `product_discount_details` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `cap_price_max_qty` int(11) DEFAULT NULL,  `cap_price` double DEFAULT NULL,  `amount_type` varchar(255) DEFAULT NULL,  `single_amount_type` varchar(255) NOT NULL,  `free_product_max_qty` int(11) DEFAULT NULL,  `single_amount` double DEFAULT NULL,  `type` varchar(255) NOT NULL,  `minimum_qty_on` varchar(255) NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `product_discount_details_category_ids` (  `product_discount_details_id` bigint(20) DEFAULT NULL,  `category_ids_long` bigint(20) DEFAULT NULL,  KEY `FKg14t2wcruosausyucsu58iw7w` (`product_discount_details_id`),  CONSTRAINT `FKg14t2wcruosausyucsu58iw7w` FOREIGN KEY (`product_discount_details_id`) REFERENCES `product_discount_details` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `product_discount_details_discount_qty_tier` (  `product_discount_details_tiers_id` bigint(20) DEFAULT NULL,  `discount_qty_tier_id` bigint(20) DEFAULT NULL,  KEY `FKfi4n7qs07bpk3ua0891a3ungl` (`discount_qty_tier_id`),  KEY `FKgdivokjw5j6oiwotsunskoa0p` (`product_discount_details_tiers_id`),  CONSTRAINT `FKgdivokjw5j6oiwotsunskoa0p` FOREIGN KEY (`product_discount_details_tiers_id`) REFERENCES `product_discount_details` (`id`),  CONSTRAINT `FKfi4n7qs07bpk3ua0891a3ungl` FOREIGN KEY (`discount_qty_tier_id`) REFERENCES `discount_qty_tier` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `product_discount_details_product_ids` (  `product_discount_details_id` bigint(20) DEFAULT NULL,  `product_ids_long` bigint(20) DEFAULT NULL,  KEY `FKcr1bagw0khu8qpkxo6lvebeqc` (`product_discount_details_id`),  CONSTRAINT `FKcr1bagw0khu8qpkxo6lvebeqc` FOREIGN KEY (`product_discount_details_id`) REFERENCES `product_discount_details` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `shipping_discount_details` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `cap_amount` double DEFAULT NULL,  `shipping_class_id` bigint(20) DEFAULT NULL,  `amount_type` varchar(255) DEFAULT NULL,  `maximum_time` int(11) DEFAULT NULL,  `single_amount_type` varchar(255) NOT NULL,  `single_amount` double DEFAULT NULL,  `zone_id` bigint(20) DEFAULT NULL,  `type` varchar(255) NOT NULL,  PRIMARY KEY (`id`),  KEY `FKplt3phelenee49srrtj7oxcbk` (`shipping_class_id`),  KEY `FK4hjkjabf9psxlvc20ck2n9vgn` (`zone_id`),  CONSTRAINT `FK4hjkjabf9psxlvc20ck2n9vgn` FOREIGN KEY (`zone_id`) REFERENCES `zone` (`id`),  CONSTRAINT `FKplt3phelenee49srrtj7oxcbk` FOREIGN KEY (`shipping_class_id`) REFERENCES `shipping_class` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `shipping_discount_details_discount_amount_tier` (  `shipping_discount_details_tiers_id` bigint(20) DEFAULT NULL,  `discount_amount_tier_id` bigint(20) DEFAULT NULL,  KEY `FKb6d3j6ps2tjeocbcm42b1g4cn` (`discount_amount_tier_id`),  KEY `FK9ai1fbuqd79w0balffkp7c2f7` (`shipping_discount_details_tiers_id`),  CONSTRAINT `FK9ai1fbuqd79w0balffkp7c2f7` FOREIGN KEY (`shipping_discount_details_tiers_id`) REFERENCES `shipping_discount_details` (`id`),  CONSTRAINT `FKb6d3j6ps2tjeocbcm42b1g4cn` FOREIGN KEY (`discount_amount_tier_id`) REFERENCES `discount_amount_tier` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
