CREATE TABLE IF NOT EXISTS `loyalty_point` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `product_id` bigint(20) DEFAULT NULL,  `variation_details_id` bigint(20) DEFAULT NULL,  `point` bigint(20) NOT NULL,  `category_id` bigint(20) DEFAULT NULL,  PRIMARY KEY (`id`),  UNIQUE KEY `UK_bjdygx5g4iwpgq56iam36q4av` (`product_id`),  UNIQUE KEY `UK_6cua3ddii516gwq4a6m3nat6q` (`variation_details_id`),  UNIQUE KEY `UK_9lu6og3uqhr2yhgk0v6q8ocjk` (`category_id`),  CONSTRAINT `FKhvrg6f8ywsy3ny8cuosghy38o` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`),  CONSTRAINT `FKiu7iis4q3qv9ak7afp81qbb0b` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `loyalty_point_on_share_history` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `share_medium` varchar(255) NOT NULL,  `is_used` tinyint(1) NOT NULL,  `order_id` bigint(20) NOT NULL,  `product_id` bigint(20) NOT NULL,  `sharing_customer_id` bigint(20) NOT NULL,  `share_id` varchar(255) DEFAULT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `order_referral` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `referral_code` varchar(255) NOT NULL,  `order_id` bigint(20) NOT NULL,  PRIMARY KEY (`id`),  UNIQUE KEY `UK_7uy6q4ct9xpd4cr8cqkitnkx0` (`order_id`),  CONSTRAINT `FKcc7kt71mk1melo45bxl4m3lm3` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `point_history` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `created` datetime(6) NOT NULL,  `point_credited` bigint(20) NOT NULL,  `comment` varchar(255) DEFAULT NULL,  `type` varchar(255) NOT NULL,  `point_debited` bigint(20) NOT NULL,  `customer_id` bigint(20) NOT NULL,  `order_id` bigint(20) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `FK7bpnpboxysn3thylch3iinho2` (`customer_id`),  KEY `FK4uh2n0tehcntg5tvk8x5j398v` (`order_id`),  CONSTRAINT `FK4uh2n0tehcntg5tvk8x5j398v` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`),  CONSTRAINT `FK7bpnpboxysn3thylch3iinho2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `special_point_rule` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `name` varchar(255) NOT NULL,  `point` int(11) NOT NULL,  `rule_type` varchar(255) NOT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `special_point_rule_customer` (  `special_point_rule_customers_id` bigint(20) DEFAULT NULL,  `customer_id` bigint(20) DEFAULT NULL,  `customers_idx` int(11) DEFAULT NULL,  KEY `FKh8sjnebu5qjospx8su42n3xnc` (`customer_id`),  CONSTRAINT `FKh8sjnebu5qjospx8su42n3xnc` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `special_point_rule_customer_group` (  `special_point_rule_customer_groups_id` bigint(20) DEFAULT NULL,  `customer_group_id` bigint(20) DEFAULT NULL,  `customer_groups_idx` int(11) DEFAULT NULL,  KEY `FKdg1f08pc6isluh7k896tgs07s` (`customer_group_id`),  CONSTRAINT `FKdg1f08pc6isluh7k896tgs07s` FOREIGN KEY (`customer_group_id`) REFERENCES `customer_group` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;