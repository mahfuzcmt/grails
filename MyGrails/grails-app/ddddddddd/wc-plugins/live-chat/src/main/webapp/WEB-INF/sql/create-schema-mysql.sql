CREATE TABLE IF NOT EXISTS `chat` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `phone` varchar(255) DEFAULT NULL,  `created` datetime(6) NOT NULL,  `is_complete` tinyint(1) NOT NULL,  `rating` varchar(255) DEFAULT NULL,  `updated` datetime(6) NOT NULL,  `name` varchar(255) NOT NULL,  `agent_id` bigint(20) DEFAULT NULL,  `email` varchar(255) DEFAULT NULL,  `subject` varchar(255) DEFAULT NULL,  PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `chat_agent` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `is_active` tinyint(1) NOT NULL,  `user_id` bigint(20) NOT NULL,  PRIMARY KEY (`id`),  KEY `FK18xdsk7gm4v2jg0j1cnkt7j3t` (`user_id`),  CONSTRAINT `FK18xdsk7gm4v2jg0j1cnkt7j3t` FOREIGN KEY (`user_id`) REFERENCES `operator` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `chat_tag` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `name` varchar(255) NOT NULL,  PRIMARY KEY (`id`),  UNIQUE KEY `UK_orxkrw972wr1gyf3dgs5mxjoq` (`name`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `chat_chat_tag` (  `chat_tags_id` bigint(20) DEFAULT NULL,  `chat_tag_id` bigint(20) DEFAULT NULL,  KEY `FK1r0iaxvh6epql5cj635poovjl` (`chat_tag_id`),  KEY `FKic3mxxhj4km317w4mfrtq578x` (`chat_tags_id`),  CONSTRAINT `FKic3mxxhj4km317w4mfrtq578x` FOREIGN KEY (`chat_tags_id`) REFERENCES `chat` (`id`),  CONSTRAINT `FK1r0iaxvh6epql5cj635poovjl` FOREIGN KEY (`chat_tag_id`) REFERENCES `chat_tag` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `chat_message` (  `id` bigint(20) NOT NULL AUTO_INCREMENT,  `created` datetime(6) NOT NULL,  `sender_type` varchar(255) NOT NULL,  `message` varchar(550) DEFAULT NULL,  `notification_type` varchar(255) DEFAULT NULL,  `chat_id` bigint(20) NOT NULL,  `is_notification` tinyint(1) NOT NULL,  PRIMARY KEY (`id`),  KEY `FKax7xe8g71nf0wvpoychqkqeid` (`chat_id`),  CONSTRAINT `FKax7xe8g71nf0wvpoychqkqeid` FOREIGN KEY (`chat_id`) REFERENCES `chat` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `chat_message_notification_args` (  `chat_message_id` bigint(20) DEFAULT NULL,  `notification_args_string` varchar(255) DEFAULT NULL,  KEY `FKlan4ul2b7th8rs2tjy55dgprg` (`chat_message_id`),  CONSTRAINT `FKlan4ul2b7th8rs2tjy55dgprg` FOREIGN KEY (`chat_message_id`) REFERENCES `chat_message` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;