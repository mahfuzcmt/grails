/*
: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 @website: http://www.datejs.com/
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license  jQuery UI - v1.12.1 - 2017-08-28
 http://jqueryui.com
 Includes: position.js, scroll-parent.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  Chosen, a Select Box Enhancer for jQuery and Prototype
 by Patrick Filler for Harvest, http://getharvest.com

 Version 1.1.0
 Full source at https://github.com/harvesthq/chosen
 Copyright (c) 2011 Harvest http://getharvest.com

 MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
 This file is generated by `grunt build`, do not edit it by hand.
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.findInternal=function(a,b,e){a instanceof String&&(a=String(a));for(var d=a.length,c=0;c<d;c++){var l=a[c];if(b.call(e,l,c,a))return{i:c,v:l}}return{i:-1,v:void 0}};
$jscomp.polyfill=function(a,b,e,d){if(b){e=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var c=a[d];c in e||(e[c]={});e=e[c]}a=a[a.length-1];d=e[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");
$jscomp.checkStringArgs=function(a,b,e){if(null==a)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,e){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var c=b.length,l=a.length;e=Math.max(0,Math.min(e|0,b.length));for(var m=0;m<l&&e<c;)if(b[e++]!=a[m++])return!1;return m>=l}},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,d={next:function(){if(e<a.length){var c=e++;return{value:b(c,a[c]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,e){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===e&&(e=b.length);e=Math.max(0,Math.min(e|0,b.length));for(var c=a.length;0<c&&0<e;)if(b[--e]!=a[--c])return!1;return 0>=c}},"es6","es3");var CONSTANTS={LICENSES:{API:"api",ACL:"allow_acl_feature",PAGE:"page_limit",PRODUCT:"product_limit",OPERATOR:"operator_limit"}};
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function e(a,b){b=b||L;var c=b.createElement("script");c.text=a;b.head.appendChild(c).parentNode.removeChild(c)}function d(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&("array"===c||0===b||"number"==
typeof b&&0<b&&b-1 in a)}function c(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function l(a,b,c){return n.isFunction(b)?n.grep(a,function(a,t){return!!b.call(a,t,a)!==c}):b.nodeType?n.grep(a,function(a){return a===b!==c}):"string"!=typeof b?n.grep(a,function(a){return-1<ua.call(b,a)!==c}):ub.test(b)?n.filter(b,a,c):(b=n.filter(b,a),n.grep(a,function(a){return-1<ua.call(b,a)!==c&&1===a.nodeType}))}function m(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function g(a){var b=
{};return n.each(a.match(ba)||[],function(a,c){b[c]=!0}),b}function f(a){return a}function p(a){throw a;}function q(a,b,c,d){var t;try{a&&n.isFunction(t=a.promise)?t.call(a).done(b).fail(c):a&&n.isFunction(t=a.then)?t.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(Ua){c.apply(void 0,[Ua])}}function v(){L.removeEventListener("DOMContentLoaded",v);a.removeEventListener("load",v);n.ready()}function u(){this.expando=n.expando+u.uid++}function w(a,b,c){var t;if(void 0===c&&1===a.nodeType)if(t="data-"+
b.replace(vb,"-$&").toLowerCase(),c=a.getAttribute(t),"string"==typeof c){try{t=c,c="true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:wb.test(t)?JSON.parse(t):t)}catch(mc){}Y.set(a,b,c)}else c=void 0;return c}function C(a,b,c,d){var t,f=1,g=20,e=d?function(){return d.cur()}:function(){return n.css(a,b,"")},l=e(),m=c&&c[3]||(n.cssNumber[b]?"":"px"),E=(n.cssNumber[b]||"px"!==m&&+l)&&va.exec(n.css(a,b));if(E&&E[3]!==m){m=m||E[3];c=c||[];E=+l||1;do f=f||".5",E/=f,n.style(a,b,E+m);while(f!==(f=e()/
l)&&1!==f&&--g)}return c&&(E=+E||+l||0,t=c[1]?E+(c[1]+1)*c[2]:+c[2],d&&(d.unit=m,d.start=E,d.end=t)),t}function z(a,b){for(var c,t,d=[],f=0,g=a.length;f<g;f++)if(t=a[f],t.style)if(c=t.style.display,b){if("none"===c&&(d[f]=F.get(t,"display")||null,d[f]||(t.style.display="")),""===t.style.display&&wa(t)){c=f;var e=void 0;var l=t.ownerDocument;var m=t.nodeName;l=(t=Va[m])?t:(e=l.body.appendChild(l.createElement(m)),t=n.css(e,"display"),e.parentNode.removeChild(e),"none"===t&&(t="block"),Va[m]=t,t);d[c]=
l}}else"none"!==c&&(d[f]="none",F.set(t,"display",c));for(f=0;f<g;f++)null!=d[f]&&(a[f].style.display=d[f]);return a}function x(a,b){var t;return t="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&c(a,b)?n.merge([a],t):t}function y(a,b){for(var c=0,t=a.length;c<t;c++)F.set(a[c],"globalEval",!b||F.get(b[c],"globalEval"))}function A(a,b,c,d,f){for(var t,g,e,l,m=b.createDocumentFragment(),E=[],
p=0,q=a.length;p<q;p++)if(t=a[p],t||0===t)if("object"===n.type(t))n.merge(E,t.nodeType?[t]:t);else if(zb.test(t)){g=g||m.appendChild(b.createElement("div"));e=(Wa.exec(t)||["",""])[1].toLowerCase();e=ca[e]||ca._default;g.innerHTML=e[1]+n.htmlPrefilter(t)+e[2];for(e=e[0];e--;)g=g.lastChild;n.merge(E,g.childNodes);g=m.firstChild;g.textContent=""}else E.push(b.createTextNode(t));m.textContent="";for(p=0;t=E[p++];)if(d&&-1<n.inArray(t,d))f&&f.push(t);else if(l=n.contains(t.ownerDocument,t),g=x(m.appendChild(t),
"script"),l&&y(g),c)for(e=0;t=g[e++];)Xa.test(t.type||"")&&c.push(t);return m}function D(){return!0}function J(){return!1}function T(){try{return L.activeElement}catch(t){}}function P(a,b,c,d,f,g){var t,e;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(e in b)P(a,e,c,d,b[e],g);return a}if(null==d&&null==f?(f=c,d=c=void 0):null==f&&("string"==typeof c?(f=d,d=void 0):(f=d,d=c,c=void 0)),!1===f)f=J;else if(!f)return a;return 1===g&&(t=f,f=function(a){return n().off(a),t.apply(this,arguments)},
f.guid=t.guid||(t.guid=n.guid++)),a.each(function(){n.event.add(this,b,f,d,c)})}function I(a,b){return c(a,"table")&&c(11!==b.nodeType?b:b.firstChild,"tr")?n(">tbody",a)[0]||a:a}function Z(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function da(a){var b=Ab.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ca(a,b){var c,t,d,f,g,e;if(1===b.nodeType){if(F.hasData(a)&&(c=F.access(a),t=F.set(b,c),e=c.events))for(d in delete t.handle,t.events={},e)for(c=0,t=e[d].length;c<
t;c++)n.event.add(b,d,e[d][c]);Y.hasData(a)&&(f=Y.access(a),g=n.extend({},f),Y.set(b,g))}}function K(a,b,c,d){b=Ya.apply([],b);var t,f,g,l=0,m=a.length,E=m-1,p=b[0],q=n.isFunction(p);if(q||1<m&&"string"==typeof p&&!R.checkClone&&Bb.test(p))return a.each(function(t){var f=a.eq(t);q&&(b[0]=p.call(this,t,f.html()));K(f,b,c,d)});if(m&&(t=A(b,a[0].ownerDocument,!1,a,d),f=t.firstChild,1===t.childNodes.length&&(t=f),f||d)){f=n.map(x(t,"script"),Z);for(g=f.length;l<m;l++){var M=t;l!==E&&(M=n.clone(M,!0,!0),
g&&n.merge(f,x(M,"script")));c.call(a[l],M,l)}if(g)for(t=f[f.length-1].ownerDocument,n.map(f,da),l=0;l<g;l++)M=f[l],Xa.test(M.type||"")&&!F.access(M,"globalEval")&&n.contains(t,M)&&(M.src?n._evalUrl&&n._evalUrl(M.src):e(M.textContent.replace(Cb,""),t))}return a}function ea(a,b,c){for(var t=b?n.filter(b,a):a,d=0;null!=(b=t[d]);d++)c||1!==b.nodeType||n.cleanData(x(b)),b.parentNode&&(c&&n.contains(b.ownerDocument,b)&&y(x(b,"script")),b.parentNode.removeChild(b));return a}function V(a,b,c){var d,t,f,
g,e=a.style;return c=c||oa(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),!R.pixelMarginRight()&&La.test(g)&&Za.test(b)&&(d=e.width,t=e.minWidth,f=e.maxWidth,e.minWidth=e.maxWidth=e.width=g,g=c.width,e.width=d,e.minWidth=t,e.maxWidth=f)),void 0!==g?g+"":g}function ha(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Q(a){var b=n.cssProps[a];if(!b){b=n.cssProps;a:{var c=a;if(!(c in $a)){for(var d=c[0].toUpperCase()+
c.slice(1),t=ab.length;t--;)if(c=ab[t]+d,c in $a)break a;c=void 0}}b=b[a]=c||a}return b}function ia(a,b,c){return(a=va.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function B(a,b,c,d,f){var t=0;for(b=c===(d?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===c&&(t+=n.css(a,c+ja[b],!0,f)),d?("content"===c&&(t-=n.css(a,"padding"+ja[b],!0,f)),"margin"!==c&&(t-=n.css(a,"border"+ja[b]+"Width",!0,f))):(t+=n.css(a,"padding"+ja[b],!0,f),"padding"!==c&&(t+=n.css(a,"border"+ja[b]+"Width",!0,f)));return t}
function S(a,b,c){var d,f=oa(a),t=V(a,b,f),g="border-box"===n.css(a,"boxSizing",!1,f);return La.test(t)?t:(d=g&&(R.boxSizingReliable()||t===a.style[b]),"auto"===t&&(t=a["offset"+b[0].toUpperCase()+b.slice(1)]),t=parseFloat(t)||0,t+B(a,b,c||(g?"border":"content"),d,f)+"px")}function H(a,b,c,d,f){return new H.prototype.init(a,b,c,d,f)}function aa(){Fa&&(!1===L.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(aa):a.setTimeout(aa,n.fx.interval),n.fx.tick())}function pa(){return a.setTimeout(function(){xa=
void 0}),xa=n.now()}function X(a,b){var c=0,d={height:a};for(b=b?1:0;4>c;c+=2-b){var f=ja[c];d["margin"+f]=d["padding"+f]=a}return b&&(d.opacity=d.width=a),d}function U(a,b,c){for(var d,f=(G.tweeners[b]||[]).concat(G.tweeners["*"]),t=0,g=f.length;t<g;t++)if(d=f[t].call(c,b,a))return d}function O(a,b){var c,d,f,t,g;for(c in a)if(d=n.camelCase(c),f=b[d],t=a[c],Array.isArray(t)&&(f=t[1],t=a[c]=t[0]),c!==d&&(a[d]=t,delete a[c]),g=n.cssHooks[d],g&&"expand"in g)for(c in t=g.expand(t),delete a[d],t)c in
a||(a[c]=t[c],b[c]=f);else b[d]=f}function G(a,b,c){var d,f=0,t=G.prefilters.length,g=n.Deferred().always(function(){delete e.elem}),e=function(){if(d)return!1;var b=xa||pa();b=Math.max(0,l.startTime+l.duration-b);for(var c=1-(b/l.duration||0),f=0,t=l.tweens.length;f<t;f++)l.tweens[f].run(c);return g.notifyWith(a,[l,c,b]),1>c&&t?b:(t||g.notifyWith(a,[l,1,0]),g.resolveWith(a,[l]),!1)},l=g.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,
originalOptions:c,startTime:xa||pa(),duration:c.duration,tweens:[],createTween:function(b,c){b=n.Tween(a,l.opts,b,c,l.opts.specialEasing[b]||l.opts.easing);return l.tweens.push(b),b},stop:function(b){var c=0,f=b?l.tweens.length:0;if(d)return this;for(d=!0;c<f;c++)l.tweens[c].run(1);return b?(g.notifyWith(a,[l,1,0]),g.resolveWith(a,[l,b])):g.rejectWith(a,[l,b]),this}});c=l.props;for(O(c,l.opts.specialEasing);f<t;f++)if(b=G.prefilters[f].call(l,a,c,l.opts))return n.isFunction(b.stop)&&(n._queueHooks(l.elem,
l.opts.queue).stop=n.proxy(b.stop,b)),b;return n.map(c,U,l),n.isFunction(l.opts.start)&&l.opts.start.call(a,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),n.fx.timer(n.extend(e,{elem:a,anim:l,queue:l.opts.queue})),l}function la(a){return(a.match(ba)||[]).join(" ")}function ma(a){return a.getAttribute&&a.getAttribute("class")||""}function Da(a,b,c,d){var f;if(Array.isArray(b))n.each(b,function(b,f){c||Db.test(a)?d(a,f):Da(a+"["+("object"==typeof f&&
null!=f?b:"")+"]",f,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(f in b)Da(a+"["+f+"]",b[f],c,d)}function Ga(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d=0,f=b.toLowerCase().match(ba)||[];if(n.isFunction(c))for(;b=f[d++];)"+"===b[0]?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function bb(a,b,c,d){function f(e){var l;return g[e]=!0,n.each(a[e]||[],function(a,e){a=e(b,c,d);return"string"!=typeof a||t||g[a]?t?!(l=a):void 0:(b.dataTypes.unshift(a),
f(a),!1)}),l}var g={},t=a===Ma;return f(b.dataTypes[0])||!g["*"]&&f("*")}function Na(a,b){var c,d,f=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((f[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}var qa=[],L=a.document,Eb=Object.getPrototypeOf,ra=qa.slice,Ya=qa.concat,Oa=qa.push,ua=qa.indexOf,Ha={},cb=Ha.toString,Ia=Ha.hasOwnProperty,db=Ia.toString,Fb=db.call(Object),R={},n=function(a,b){return new n.fn.init(a,b)},Gb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Hb=/^-ms-/,Ib=/-([a-z])/g,
Jb=function(a,b){return b.toUpperCase()};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();n.fn=n.prototype={jquery:"3.2.1",constructor:n,length:0,toArray:function(){return ra.call(this)},get:function(a){return null==a?ra.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=n.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,
function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ra.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Oa,sort:qa.sort,splice:qa.splice};n.extend=n.fn.extend=function(){var a,b,c,d,f=arguments[0]||{},g=1,e=arguments.length,l=!1;"boolean"==typeof f&&(l=f,f=arguments[g]||
{},g++);"object"==typeof f||n.isFunction(f)||(f={});for(g===e&&(f=this,g--);g<e;g++)if(null!=(a=arguments[g]))for(b in a){var m=f[b];var p=a[b];f!==p&&(l&&p&&(n.isPlainObject(p)||(c=Array.isArray(p)))?(c?(c=!1,d=m&&Array.isArray(m)?m:[]):d=m&&n.isPlainObject(m)?m:{},f[b]=n.extend(l,d,p)):void 0!==p&&(f[b]=p))}return f};n.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===n.type(a)},
isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=n.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==cb.call(a))&&(!(b=Eb(a))||(c=Ia.call(b,"constructor")&&b.constructor,"function"==typeof c&&db.call(c)===Fb))},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Ha[cb.call(a)]||"object":typeof a},globalEval:function(a){e(a)},
camelCase:function(a){return a.replace(Hb,"ms-").replace(Ib,Jb)},each:function(a,b){var c,f=0;if(d(a))for(c=a.length;f<c&&!1!==b.call(a[f],f,a[f]);f++);else for(f in a)if(!1===b.call(a[f],f,a[f]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Gb,"")},makeArray:function(a,b){b=b||[];return null!=a&&(d(Object(a))?n.merge(b,"string"==typeof a?[a]:a):Oa.call(b,a)),b},inArray:function(a,b,c){return null==b?-1:ua.call(b,a,c)},merge:function(a,b){for(var c=+b.length,f=0,d=a.length;f<c;f++)a[d++]=
b[f];return a.length=d,a},grep:function(a,b,c){for(var f=[],d=0,g=a.length,e=!c;d<g;d++)c=!b(a[d],d),c!==e&&f.push(a[d]);return f},map:function(a,b,c){var f,g=0,e=[];if(d(a))for(f=a.length;g<f;g++){var l=b(a[g],g,c);null!=l&&e.push(l)}else for(g in a)l=b(a[g],g,c),null!=l&&e.push(l);return Ya.apply([],e)},guid:1,proxy:function(a,b){var c,f,d;if("string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a))return f=ra.call(arguments,2),d=function(){return a.apply(b||this,f.concat(ra.call(arguments)))},d.guid=
a.guid=a.guid||n.guid++,d},now:Date.now,support:R});"function"==typeof Symbol&&(n.fn[Symbol.iterator]=qa[Symbol.iterator]);n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Ha["[object "+b+"]"]=b.toLowerCase()});var fa=function(a){function b(a,b,c,f){var d,g,e,l,t=b&&b.ownerDocument,m=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==m&&9!==m&&11!==m)return c;if(!f&&((b?b.ownerDocument||b:F)!==G&&za(b),b=b||G,P)){if(11!==m&&(l=xa.exec(a)))if(d=
l[1])if(9===m){if(!(g=b.getElementById(d)))return c;if(g.id===d)return c.push(g),c}else{if(t&&(g=t.getElementById(d))&&H(b,g)&&g.id===d)return c.push(g),c}else{if(l[2])return V.apply(c,b.getElementsByTagName(a)),c;if((d=l[3])&&W.getElementsByClassName&&b.getElementsByClassName)return V.apply(c,b.getElementsByClassName(d)),c}if(!(!W.qsa||Q[a+" "]||I&&I.test(a))){if(1!==m){t=b;var p=a}else if("object"!==b.nodeName.toLowerCase()){(e=b.getAttribute("id"))?e=e.replace(ua,va):b.setAttribute("id",e=B);g=
oa(a);for(d=g.length;d--;)g[d]="#"+e+" "+u(g[d]);p=g.join(",");t=na.test(a)&&q(b.parentNode)||b}if(p)try{return V.apply(c,t.querySelectorAll(p)),c}catch(qc){}finally{e===B&&b.removeAttribute("id")}}}return X(a.replace(Y,"$1"),b,c,f)}function c(){function a(c,f){return b.push(c+" ")>N.cacheLength&&delete a[b.shift()],a[c+" "]=f}var b=[];return a}function f(a){return a[B]=!0,a}function d(a){var b=G.createElement("fieldset");try{return!!a(b)}catch(oc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}
function g(a,b){a=a.split("|");for(var c=a.length;c--;)N.attrHandle[a[c]]=b}function e(a,b){var c=b&&a,f=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(f)return f;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function l(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function t(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function m(a){return function(b){return"form"in b?b.parentNode&&
!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&Aa(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function p(a){return f(function(b){return b=+b,f(function(c,f){for(var d,g=a([],c.length,b),e=g.length;e--;)c[d=g[e]]&&(c[d]=!(f[d]=c[d]))})})}function q(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function n(){}function u(a){for(var b=0,c=a.length,f="";b<c;b++)f+=a[b].value;return f}function v(a,b,c){var f=
b.dir,d=b.next,g=d||f,e=c&&"parentNode"===g,l=Ca++;return b.first?function(b,c,d){for(;b=b[f];)if(1===b.nodeType||e)return a(b,c,d);return!1}:function(b,c,t){var m,p,q,E=[da,l];if(t)for(;b=b[f];){if((1===b.nodeType||e)&&a(b,c,t))return!0}else for(;b=b[f];)if(1===b.nodeType||e)if(q=b[B]||(b[B]={}),p=q[b.uniqueID]||(q[b.uniqueID]={}),d&&d===b.nodeName.toLowerCase())b=b[f]||b;else{if((m=p[g])&&m[0]===da&&m[1]===l)return E[2]=m[2];if(p[g]=E,E[2]=a(b,c,t))return!0}return!1}}function x(a){return 1<a.length?
function(b,c,f){for(var d=a.length;d--;)if(!a[d](b,c,f))return!1;return!0}:a[0]}function w(a,b,c,f,d){for(var g,e=[],l=0,t=a.length,m=null!=b;l<t;l++)(g=a[l])&&(c&&!c(g,f,d)||(e.push(g),m&&b.push(l)));return e}function z(a,c,d,g,e,l){return g&&!g[B]&&(g=z(g)),e&&!e[B]&&(e=z(e,l)),f(function(f,l,t,m){var p,q=[],E=[],n=l.length,u;if(!(u=f)){u=c||"*";for(var v=t.nodeType?[t]:t,M=[],x=0,Ea=v.length;x<Ea;x++)b(u,v[x],M);u=M}u=!a||!f&&c?u:w(u,q,a,t,m);v=d?e||(f?a:n||g)?[]:l:u;if(d&&d(u,v,t,m),g){var z=
w(v,E);g(z,[],t,m);for(t=z.length;t--;)(p=z[t])&&(v[E[t]]=!(u[E[t]]=p))}if(f){if(e||a){if(e){z=[];for(t=v.length;t--;)(p=v[t])&&z.push(u[t]=p);e(null,v=[],z,m)}for(t=v.length;t--;)(p=v[t])&&-1<(z=e?aa(f,p):q[t])&&(f[z]=!(l[z]=p))}}else v=w(v===l?v.splice(n,v.length):v),e?e(null,l,v,m):V.apply(l,v)})}function y(a){var b,c,f=a.length,d=N.relative[a[0].type];var g=d||N.relative[" "];for(var e=d?1:0,l=v(function(a){return a===b},g,!0),t=v(function(a){return-1<aa(b,a)},g,!0),m=[function(a,c,f){a=!d&&(f||
c!==J)||((b=c).nodeType?l(a,c,f):t(a,c,f));return b=null,a}];e<f;e++)if(g=N.relative[a[e].type])m=[v(x(m),g)];else{if(g=N.filter[a[e].type].apply(null,a[e].matches),g[B]){for(c=++e;c<f&&!N.relative[a[c].type];c++);return z(1<e&&x(m),1<e&&u(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(Y,"$1"),g,e<c&&y(a.slice(e,c)),c<f&&y(a=a.slice(c)),c<f&&u(a))}m.push(g)}return x(m)}function C(a,c){var d=0<c.length,g=0<a.length,e=function(f,e,l,t,m){var p,q,E=0,n="0",u=f&&[],v=[],M=J,x=f||g&&
N.find.TAG("*",m),Ea=da+=null==M?1:Math.random()||.1,z=x.length;for(m&&(J=e===G||e||m);n!==z&&null!=(p=x[n]);n++){if(g&&p){var y=0;for(e||p.ownerDocument===G||(za(p),l=!P);q=a[y++];)if(q(p,e||G,l)){t.push(p);break}m&&(da=Ea)}d&&((p=!q&&p)&&E--,f&&u.push(p))}if(E+=n,d&&n!==E){for(y=0;q=c[y++];)q(u,v,e,l);if(f){if(0<E)for(;n--;)u[n]||v[n]||(v[n]=ea.call(t));v=w(v)}V.apply(t,v);m&&!f&&0<v.length&&1<E+c.length&&b.uniqueSort(t)}return m&&(da=Ea,J=M),u};return d?f(e):e}var A,D,X,J,U,T,G,O,P,I,Z,K,H,B="sizzle"+
1*new Date,F=a.document,da=0,Ca=0,la=c(),L=c(),Q=c(),R=function(a,b){return a===b&&(T=!0),0},S={}.hasOwnProperty,ia=[],ea=ia.pop,Da=ia.push,V=ia.push,ma=ia.slice,aa=function(a,b){for(var c=0,f=a.length;c<f;c++)if(a[c]===b)return c;return-1},ha=/[\x20\t\r\n\f]+/g,Y=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ba=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,pa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ka=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
Ga=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ja={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},qa=/^(?:input|select|textarea|button)$/i,ra=/^h\d$/i,fa=
/^[^{]+\{\s*\[native \w/,xa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,na=/[+~]/,sa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ta=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},ua=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,va=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},ya=function(){za()},Aa=v(function(a){return!0===a.disabled&&("form"in
a||"label"in a)},{dir:"parentNode",next:"legend"});try{V.apply(ia=ma.call(F.childNodes),F.childNodes),ia[F.childNodes.length].nodeType}catch(nc){V={apply:ia.length?function(a,b){Da.apply(a,ma.call(b))}:function(a,b){for(var c=a.length,f=0;a[c++]=b[f++];);a.length=c-1}}}var W=b.support={};var Ba=b.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName};var za=b.setDocument=function(a){var b,c;a=a?a.ownerDocument||a:F;return a!==G&&9===a.nodeType&&a.documentElement?
(G=a,O=G.documentElement,P=!Ba(G),F!==G&&(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",ya,!1):c.attachEvent&&c.attachEvent("onunload",ya)),W.attributes=d(function(a){return a.className="i",!a.getAttribute("className")}),W.getElementsByTagName=d(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),W.getElementsByClassName=fa.test(G.getElementsByClassName),W.getById=d(function(a){return O.appendChild(a).id=B,!G.getElementsByName||
!G.getElementsByName(B).length}),W.getById?(N.filter.ID=function(a){var b=a.replace(sa,ta);return function(a){return a.getAttribute("id")===b}},N.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&P)return(a=b.getElementById(a))?[a]:[]}):(N.filter.ID=function(a){var b=a.replace(sa,ta);return function(a){return(a="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},N.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&P){var c,f=b.getElementById(a);
if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];var d=b.getElementsByName(a);for(b=0;f=d[b++];)if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),N.find.TAG=W.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):W.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c=[],f=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[f++];)1===a.nodeType&&c.push(a);return c}return b},N.find.CLASS=W.getElementsByClassName&&function(a,
b){if("undefined"!=typeof b.getElementsByClassName&&P)return b.getElementsByClassName(a)},Z=[],I=[],(W.qsa=fa.test(G.querySelectorAll))&&(d(function(a){O.appendChild(a).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||I.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+B+"-]").length||I.push("~=");a.querySelectorAll(":checked").length||I.push(":checked");a.querySelectorAll("a#"+B+"+*").length||I.push(".#.+[+~]")}),d(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=G.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&I.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&
I.push(":enabled",":disabled");O.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled");a.querySelectorAll("*,:x");I.push(",.*:")})),(W.matchesSelector=fa.test(K=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&d(function(a){W.disconnectedMatch=K.call(a,"*");K.call(a,"[s!='']:x");Z.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
I=I.length&&new RegExp(I.join("|")),Z=Z.length&&new RegExp(Z.join("|")),b=fa.test(O.compareDocumentPosition),H=b||fa.test(O.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!(!b||1!==b.nodeType||!(c.contains?c.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},R=b?function(a,b){if(a===b)return T=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!W.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===F&&H(F,a)?-1:b===G||b.ownerDocument===F&&H(F,b)?1:U?aa(U,a)-aa(U,b):0:4&c?-1:1)}:function(a,b){if(a===b)return T=!0,0;var c=0,f=a.parentNode,d=b.parentNode,g=[a],l=[b];if(!f||!d)return a===G?-1:b===G?1:f?-1:d?1:U?aa(U,a)-aa(U,b):0;if(f===d)return e(a,b);for(;a=a.parentNode;)g.unshift(a);for(a=b;a=a.parentNode;)l.unshift(a);for(;g[c]===
l[c];)c++;return c?e(g[c],l[c]):g[c]===F?-1:l[c]===F?1:0},G):G};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&za(a),c=c.replace(pa,"='$1']"),!(!W.matchesSelector||!P||Q[c+" "]||Z&&Z.test(c)||I&&I.test(c)))try{var f=K.call(a,c);if(f||W.disconnectedMatch||a.document&&11!==a.document.nodeType)return f}catch(pc){}return 0<b(c,G,null,[a]).length};b.contains=function(a,b){return(a.ownerDocument||a)!==G&&za(a),H(a,b)};b.attr=function(a,b){(a.ownerDocument||
a)!==G&&za(a);var c=N.attrHandle[b.toLowerCase()];c=c&&S.call(N.attrHandle,b.toLowerCase())?c(a,b,!P):void 0;return void 0!==c?c:W.attributes||!P?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.escape=function(a){return(a+"").replace(ua,va)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],f=0,d=0;if(T=!W.detectDuplicates,U=!W.sortStable&&a.slice(0),a.sort(R),T){for(;b=a[d++];)b===a[d]&&(f=c.push(d));for(;f--;)a.splice(c[f],
1)}return U=null,a};var wa=b.getText=function(a){var b,c="",f=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=wa(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[f++];)c+=wa(b);return c};var N=b.selectors={cacheLength:50,createPseudo:f,match:ja,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace(sa,ta),a[3]=(a[3]||a[4]||a[5]||"").replace(sa,ta),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ja.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ka.test(c)&&(b=oa(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,
b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(sa,ta).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=la[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),la(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,f){return function(d){d=b.attr(d,
a);return null==d?"!="===c:!c||(d+="","="===c?d===f:"!="===c?d!==f:"^="===c?f&&0===d.indexOf(f):"*="===c?f&&-1<d.indexOf(f):"$="===c?f&&d.slice(-f.length)===f:"~="===c?-1<(" "+d.replace(ha," ")+" ").indexOf(f):"|="===c&&(d===f||d.slice(0,f.length+1)===f+"-"))}},CHILD:function(a,b,c,f,d){var g="nth"!==a.slice(0,3),e="last"!==a.slice(-4),l="of-type"===b;return 1===f&&0===d?function(a){return!!a.parentNode}:function(b,c,t){var m,p;c=g!==e?"nextSibling":"previousSibling";var q=b.parentNode,E=l&&b.nodeName.toLowerCase();
t=!t&&!l;var n=!1;if(q){if(g){for(;c;){for(m=b;m=m[c];)if(l?m.nodeName.toLowerCase()===E:1===m.nodeType)return!1;var u=c="only"===a&&!u&&"nextSibling"}return!0}if(u=[e?q.firstChild:q.lastChild],e&&t){m=q;var v=m[B]||(m[B]={});var M=v[m.uniqueID]||(v[m.uniqueID]={});var x=M[a]||[];n=(p=x[0]===da&&x[1])&&x[2];for(m=p&&q.childNodes[p];m=++p&&m&&m[c]||(n=p=0)||u.pop();)if(1===m.nodeType&&++n&&m===b){M[a]=[da,p,n];break}}else if(t&&(m=b,v=m[B]||(m[B]={}),M=v[m.uniqueID]||(v[m.uniqueID]={}),x=M[a]||[],
p=x[0]===da&&x[1],n=p),!1===n)for(;(m=++p&&m&&m[c]||(n=p=0)||u.pop())&&((l?m.nodeName.toLowerCase()!==E:1!==m.nodeType)||!++n||(t&&(v=m[B]||(m[B]={}),M=v[m.uniqueID]||(v[m.uniqueID]={}),M[a]=[da,n]),m!==b)););return n-=d,n===f||0===n%f&&0<=n/f}}},PSEUDO:function(a,c){var d,g=N.pseudos[a]||N.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return g[B]?g(c):1<g.length?(d=[a,a,"",c],N.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,b){for(var f,d=g(a,c),e=d.length;e--;)f=aa(a,d[e]),
a[f]=!(b[f]=d[e])}):function(a){return g(a,0,d)}):g}},pseudos:{not:f(function(a){var b=[],c=[],d=D(a.replace(Y,"$1"));return d[B]?f(function(a,b,c,f){var g;c=d(a,null,f,[]);for(f=a.length;f--;)(g=c[f])&&(a[f]=!(b[f]=g))}):function(a,f,g){return b[0]=a,d(b,null,g,c),b[0]=null,!c.pop()}}),has:f(function(a){return function(c){return 0<b(a,c).length}}),contains:f(function(a){return a=a.replace(sa,ta),function(b){return-1<(b.textContent||b.innerText||wa(b)).indexOf(a)}}),lang:f(function(a){return Ga.test(a||
"")||b.error("unsupported lang: "+a),a=a.replace(sa,ta).toLowerCase(),function(b){var c;do if(c=P?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===O},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:m(!1),disabled:m(!0),
checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!N.pseudos.empty(a)},header:function(a){return ra.test(a.nodeName)},input:function(a){return qa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===
a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:p(function(){return[0]}),last:p(function(a,b){return[b-1]}),eq:p(function(a,b,c){return[0>c?c+b:c]}),even:p(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:p(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:p(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:p(function(a,b,c){for(c=0>c?c+b:c;++c<
b;)a.push(c);return a})}};N.pseudos.nth=N.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[A]=l(A);for(A in{submit:!0,reset:!0})N.pseudos[A]=t(A);n.prototype=N.filters=N.pseudos;N.setFilters=new n;var oa=b.tokenize=function(a,c){var f,d,g,e,l;if(e=L[a+" "])return c?0:e.slice(0);e=a;var t=[];for(l=N.preFilter;e;){m&&!(f=ba.exec(e))||(f&&(e=e.slice(f[0].length)||e),t.push(d=[]));var m=!1;(f=ca.exec(e))&&(m=f.shift(),d.push({value:m,type:f[0].replace(Y," ")}),e=e.slice(m.length));
for(g in N.filter)!(f=ja[g].exec(e))||l[g]&&!(f=l[g](f))||(m=f.shift(),d.push({value:m,type:g,matches:f}),e=e.slice(m.length));if(!m)break}return c?e.length:e?b.error(a):L(a,t).slice(0)};return D=b.compile=function(a,b){var c,f=[],d=[],g=Q[a+" "];if(!g){b||(b=oa(a));for(c=b.length;c--;)g=y(b[c]),g[B]?f.push(g):d.push(g);g=Q(a,C(d,f));g.selector=a}return g},X=b.select=function(a,b,c,f){var d,g,e,l,t,m="function"==typeof a&&a,p=!f&&oa(a=m.selector||a);if(c=c||[],1===p.length){if(g=p[0]=p[0].slice(0),
2<g.length&&"ID"===(e=g[0]).type&&9===b.nodeType&&P&&N.relative[g[1].type]){if(b=(N.find.ID(e.matches[0].replace(sa,ta),b)||[])[0],!b)return c;m&&(b=b.parentNode);a=a.slice(g.shift().value.length)}for(d=ja.needsContext.test(a)?0:g.length;d--&&(e=g[d],!N.relative[l=e.type]);)if((t=N.find[l])&&(f=t(e.matches[0].replace(sa,ta),na.test(g[0].type)&&q(b.parentNode)||b))){if(g.splice(d,1),a=f.length&&u(g),!a)return V.apply(c,f),c;break}}return(m||D(a,p))(f,b,!P,c,!b||na.test(a)&&q(b.parentNode)||b),c},W.sortStable=
B.split("").sort(R).join("")===B,W.detectDuplicates=!!T,za(),W.sortDetached=d(function(a){return 1&a.compareDocumentPosition(G.createElement("fieldset"))}),d(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),W.attributes&&d(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",
function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),d(function(a){return null==a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var f;if(!c)return!0===a[b]?b.toLowerCase():(f=a.getAttributeNode(b))&&f.specified?f.value:null}),b}(a);n.find=fa;n.expr=fa.selectors;n.expr[":"]=n.expr.pseudos;n.uniqueSort=n.unique=fa.uniqueSort;n.text=fa.getText;n.isXMLDoc=
fa.isXML;n.contains=fa.contains;n.escapeSelector=fa.escape;var na=function(a,b,c){for(var f=[],d=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(d&&n(a).is(c))break;f.push(a)}return f},fb=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},gb=n.expr.match.needsContext,hb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ub=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var f=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===f.nodeType?n.find.matchesSelector(f,
a)?[f]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))};n.fn.extend({find:function(a){var b,c=this.length,f=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;b<c;b++)if(n.contains(f[b],this))return!0}));var d=this.pushStack([]);for(b=0;b<c;b++)n.find(a,f[b],d);return 1<c?n.uniqueSort(d):d},filter:function(a){return this.pushStack(l(this,a||[],!1))},not:function(a){return this.pushStack(l(this,a||[],!0))},is:function(a){return!!l(this,"string"==typeof a&&
gb.test(a)?n(a):a||[],!1).length}});var Lb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(n.fn.init=function(a,b,c){var f,d;if(!a)return this;if(c=c||Mb,"string"==typeof a){if(f="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Lb.exec(a),!f||!f[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(f[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(f[1],b&&b.nodeType?b.ownerDocument||b:L,!0)),hb.test(f[1])&&n.isPlainObject(b))for(f in b)n.isFunction(this[f])?this[f](b[f]):
this.attr(f,b[f]);return this}return d=L.getElementById(f[2]),d&&(this[0]=d,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):n.makeArray(a,this)}).prototype=n.fn;var Mb=n(L);var Nb=/^(?:parents|prev(?:Until|All))/,Ob={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){var c,f=
0,d=this.length,g=[],e="string"!=typeof a&&n(a);if(!gb.test(a))for(;f<d;f++)for(c=this[f];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(e?-1<e.index(c):1===c.nodeType&&n.find.matchesSelector(c,a))){g.push(c);break}return this.pushStack(1<g.length?n.uniqueSort(g):g)},index:function(a){return a?"string"==typeof a?ua.call(n(a),this[0]):ua.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},
addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});n.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return na(a,"parentNode")},parentsUntil:function(a,b,c){return na(a,"parentNode",c)},next:function(a){return m(a,"nextSibling")},prev:function(a){return m(a,"previousSibling")},nextAll:function(a){return na(a,"nextSibling")},prevAll:function(a){return na(a,"previousSibling")},nextUntil:function(a,b,c){return na(a,"nextSibling",
c)},prevUntil:function(a,b,c){return na(a,"previousSibling",c)},siblings:function(a){return fb((a.parentNode||{}).firstChild,a)},children:function(a){return fb(a.firstChild)},contents:function(a){return c(a,"iframe")?a.contentDocument:(c(a,"template")&&(a=a.content||a),n.merge([],a.childNodes))}},function(a,b){n.fn[a]=function(c,f){var d=n.map(this,b,c);return"Until"!==a.slice(-5)&&(f=c),f&&"string"==typeof f&&(d=n.filter(f,d)),1<this.length&&(Ob[a]||n.uniqueSort(d),Nb.test(a)&&d.reverse()),this.pushStack(d)}});
var ba=/[^\x20\t\r\n\f]+/g;n.Callbacks=function(a){a="string"==typeof a?g(a):n.extend({},a);var b,c,f,d,e=[],l=[],t=-1,m=function(){d=d||a.once;for(f=b=!0;l.length;t=-1)for(c=l.shift();++t<e.length;)!1===e[t].apply(c[0],c[1])&&a.stopOnFalse&&(t=e.length,c=!1);a.memory||(c=!1);b=!1;d&&(e=c?[]:"")},p={add:function(){return e&&(c&&!b&&(t=e.length-1,l.push(c)),function yb(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&p.has(c)||e.push(c):c&&c.length&&"string"!==n.type(c)&&yb(c)})}(arguments),c&&
!b&&m()),this},remove:function(){return n.each(arguments,function(a,b){for(var c;-1<(c=n.inArray(b,e,c));)e.splice(c,1),c<=t&&t--}),this},has:function(a){return a?-1<n.inArray(a,e):0<e.length},empty:function(){return e&&(e=[]),this},disable:function(){return d=l=[],e=c="",this},disabled:function(){return!e},lock:function(){return d=l=[],c||b||(e=c=""),this},locked:function(){return!!d},fireWith:function(a,c){return d||(c=c||[],c=[a,c.slice?c.slice():c],l.push(c),b||m()),this},fire:function(){return p.fireWith(this,
arguments),this},fired:function(){return!!f}};return p};n.extend({Deferred:function(b){var c=[["notify","progress",n.Callbacks("memory"),n.Callbacks("memory"),2],["resolve","done",n.Callbacks("once memory"),n.Callbacks("once memory"),0,"resolved"],["reject","fail",n.Callbacks("once memory"),n.Callbacks("once memory"),1,"rejected"]],d="pending",g={state:function(){return d},always:function(){return e.done(arguments).fail(arguments),this},"catch":function(a){return g.then(null,a)},pipe:function(){var a=
arguments;return n.Deferred(function(b){n.each(c,function(c,f){var d=n.isFunction(a[f[4]])&&a[f[4]];e[f[1]](function(){var a=d&&d.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[f[0]+"With"](this,d?[a]:arguments)})});a=null}).promise()},then:function(b,d,g){function e(b,c,d,g){return function(){var t=this,m=arguments,q=function(){var a;if(!(b<l)){if(a=d.apply(t,m),a===c.promise())throw new TypeError("Thenable self-resolution");var q=
a&&("object"==typeof a||"function"==typeof a)&&a.then;n.isFunction(q)?g?q.call(a,e(l,c,f,g),e(l,c,p,g)):(l++,q.call(a,e(l,c,f,g),e(l,c,p,g),e(l,c,f,c.notifyWith))):(d!==f&&(t=void 0,m=[a]),(g||c.resolveWith)(t,m))}},E=g?q:function(){try{q()}catch(eb){n.Deferred.exceptionHook&&n.Deferred.exceptionHook(eb,E.stackTrace),b+1>=l&&(d!==p&&(t=void 0,m=[eb]),c.rejectWith(t,m))}};b?E():(n.Deferred.getStackHook&&(E.stackTrace=n.Deferred.getStackHook()),a.setTimeout(E))}}var l=0;return n.Deferred(function(a){c[0][3].add(e(0,
a,n.isFunction(g)?g:f,a.notifyWith));c[1][3].add(e(0,a,n.isFunction(b)?b:f));c[2][3].add(e(0,a,n.isFunction(d)?d:p))}).promise()},promise:function(a){return null!=a?n.extend(a,g):g}},e={};return n.each(c,function(a,b){var f=b[2],l=b[5];g[b[1]]=f.add;l&&f.add(function(){d=l},c[3-a][2].disable,c[0][2].lock);f.add(b[3].fire);e[b[0]]=function(){return e[b[0]+"With"](this===e?void 0:this,arguments),this};e[b[0]+"With"]=f.fireWith}),g.promise(e),b&&b.call(e,e),e},when:function(a){var b=arguments.length,
c=b,f=Array(c),d=ra.call(arguments),g=n.Deferred(),e=function(a){return function(c){f[a]=this;d[a]=1<arguments.length?ra.call(arguments):c;--b||g.resolveWith(f,d)}};if(1>=b&&(q(a,g.done(e(c)).resolve,g.reject,!b),"pending"===g.state()||n.isFunction(d[c]&&d[c].then)))return g.then();for(;c--;)q(d[c],e(c),g.reject);return g.promise()}});var Pb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;n.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Pb.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+
b.message,b.stack,c)};n.readyException=function(b){a.setTimeout(function(){throw b;})};var Qa=n.Deferred();n.fn.ready=function(a){return Qa.then(a)["catch"](function(a){n.readyException(a)}),this};n.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--n.readyWait:n.isReady)||(n.isReady=!0,!0!==a&&0<--n.readyWait||Qa.resolveWith(L,[n]))}});n.ready.then=Qa.then;"complete"===L.readyState||"loading"!==L.readyState&&!L.documentElement.doScroll?a.setTimeout(n.ready):(L.addEventListener("DOMContentLoaded",
v),a.addEventListener("load",v));var ka=function(a,b,c,f,d,g,e){var l=0,t=a.length,m=null==c;if("object"===n.type(c))for(l in d=!0,c)ka(a,b,l,c[l],!0,g,e);else if(void 0!==f&&(d=!0,n.isFunction(f)||(e=!0),m&&(e?(b.call(a,f),b=null):(m=b,b=function(a,b,c){return m.call(n(a),c)})),b))for(;l<t;l++)b(a[l],c,e?f:f.call(a[l],l,b(a[l],c)));return d?a:m?b.call(a):t?b(a[0],c):g},Ja=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};u.uid=1;u.prototype={cache:function(a){var b=a[this.expando];
return b||(b={},Ja(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var f;a=this.cache(a);if("string"==typeof b)a[n.camelCase(b)]=c;else for(f in b)a[n.camelCase(f)]=b[f];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][n.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,
f=a[this.expando];if(void 0!==f){if(void 0!==b)for(Array.isArray(b)?b=b.map(n.camelCase):(b=n.camelCase(b),b=b in f?[b]:b.match(ba)||[]),c=b.length;c--;)delete f[b[c]];(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!n.isEmptyObject(a)}};var F=window.$_priv_data=new u,Y=window.$_pub_data=new u,wb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vb=/[A-Z]/g;n.extend({hasData:function(a){return Y.hasData(a)||F.hasData(a)},
data:function(a,b,c){return Y.access(a,b,c)},removeData:function(a,b){Y.remove(a,b)},_data:function(a,b,c){return F.access(a,b,c)},_removeData:function(a,b){F.remove(a,b)}});n.fn.extend({data:function(a,b){var c,f,d,g=this[0],e=g&&g.attributes;if(void 0===a){if(this.length&&(d=Y.get(g),1===g.nodeType&&!F.get(g,"hasDataAttrs"))){for(c=e.length;c--;)e[c]&&(f=e[c].name,0===f.indexOf("data-")&&(f=n.camelCase(f.slice(5)),w(g,f,d[f])));F.set(g,"hasDataAttrs",!0)}return d}return"object"==typeof a?this.each(function(){Y.set(this,
a)}):ka(this,function(b){var c;if(g&&void 0===b){if((c=Y.get(g,a),void 0!==c)||(c=w(g,a),void 0!==c))return c}else this.each(function(){Y.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Y.remove(this,a)})}});n.extend({queue:function(a,b,c){var f;if(a)return b=(b||"fx")+"queue",f=F.get(a,b),c&&(!f||Array.isArray(c)?f=F.access(a,b,n.makeArray(c)):f.push(c)),f||[]},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),f=c.length,d=c.shift(),g=n._queueHooks(a,
b),e=function(){n.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),f--);d&&("fx"===b&&c.unshift("inprogress"),delete g.stop,d.call(a,e,g));!f&&g&&g.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return F.get(a,c)||F.access(a,c,{empty:n.Callbacks("once memory").add(function(){F.remove(a,[b+"queue",c])})})}});n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);
n._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,f=1,d=n.Deferred(),g=this,e=this.length,l=function(){--f||d.resolveWith(g,[g])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";e--;)(c=F.get(g[e],a+"queueHooks"))&&c.empty&&(f++,c.empty.add(l));return l(),d.promise(b)}});var ib=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,va=
new RegExp("^(?:([+-])=|)("+ib+")([a-z%]*)$","i"),ja=["Top","Right","Bottom","Left"],wa=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&n.contains(a.ownerDocument,a)&&"none"===n.css(a,"display")},jb=function(a,b,c,f){var d,g={};for(d in b)g[d]=a.style[d],a.style[d]=b[d];c=c.apply(a,f||[]);for(d in b)a.style[d]=g[d];return c},Va={};n.fn.extend({show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():
this.each(function(){wa(this)?n(this).show():n(this).hide()})}});var kb=/^(?:checkbox|radio)$/i,Wa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xa=/^$|\/(?:java|ecma)script/i,ca={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ca.optgroup=ca.option;ca.tbody=ca.tfoot=ca.colgroup=ca.caption=ca.thead;ca.th=ca.td;
var zb=/<|&#?\w+;/;!function(){var a=L.createDocumentFragment().appendChild(L.createElement("div")),b=L.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);R.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";R.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();var Ka=L.documentElement,Qb=/^key/,Rb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,lb=/^([^.]*)(?:\.(.+)|)/;
n.event={global:{},add:function(a,b,c,f,d){var g,e,l,m,t,p,q,u;if(m=F.get(a))for(c.handler&&(g=c,c=g.handler,d=g.selector),d&&n.find.matchesSelector(Ka,d),c.guid||(c.guid=n.guid++),(l=m.events)||(l=m.events={}),(e=m.handle)||(e=m.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(ba)||[""],m=b.length;m--;){var v=lb.exec(b[m])||[];var E=u=v[1];v=(v[2]||"").split(".").sort();E&&(p=n.event.special[E]||{},E=(d?p.delegateType:
p.bindType)||E,p=n.event.special[E]||{},t=n.extend({type:E,origType:u,data:f,handler:c,guid:c.guid,selector:d,needsContext:d&&n.expr.match.needsContext.test(d),namespace:v.join(".")},g),(q=l[E])||(q=l[E]=[],q.delegateCount=0,p.setup&&!1!==p.setup.call(a,f,v,e)||a.addEventListener&&a.addEventListener(E,e)),p.add&&(p.add.call(a,t),t.handler.guid||(t.handler.guid=c.guid)),d?q.splice(q.delegateCount++,0,t):q.push(t),n.event.global[E]=!0)}},remove:function(a,b,c,f,d){var g,e,l,m,t,p,q,u,v=F.hasData(a)&&
F.get(a);if(v&&(m=v.events)){b=(b||"").match(ba)||[""];for(t=b.length;t--;)if(l=lb.exec(b[t])||[],p=u=l[1],q=(l[2]||"").split(".").sort(),p){var E=n.event.special[p]||{};p=(f?E.delegateType:E.bindType)||p;var x=m[p]||[];l=l[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=g=x.length;g--;){var w=x[g];!d&&u!==w.origType||c&&c.guid!==w.guid||l&&!l.test(w.namespace)||f&&f!==w.selector&&("**"!==f||!w.selector)||(x.splice(g,1),w.selector&&x.delegateCount--,E.remove&&E.remove.call(a,w))}e&&
!x.length&&(E.teardown&&!1!==E.teardown.call(a,q,v.handle)||n.removeEvent(a,p,v.handle),delete m[p])}else for(p in m)n.event.remove(a,p+b[t],c,f,!0);n.isEmptyObject(m)&&F.remove(a,"handle events")}},dispatch:function(a){var b=n.event.fix(a),c,f,d,g,e=Array(arguments.length);var l=(F.get(this,"events")||{})[b.type]||[];var m=n.event.special[b.type]||{};e[0]=b;for(c=1;c<arguments.length;c++)e[c]=arguments[c];if(b.delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,b)){var t=n.event.handlers.call(this,
b,l);for(c=0;(d=t[c++])&&!b.isPropagationStopped();)for(b.currentTarget=d.elem,l=0;(g=d.handlers[l++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,f=((n.event.special[g.origType]||{}).handle||g.handler).apply(d.elem,e),void 0!==f&&!1===(b.result=f)&&(b.preventDefault(),b.stopPropagation()));return m.postDispatch&&m.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,f=[],d=b.delegateCount,g=a.target;if(d&&g.nodeType&&
!("click"===a.type&&1<=a.button))for(;g!==this;g=g.parentNode||this)if(1===g.nodeType&&("click"!==a.type||!0!==g.disabled)){var e=[];var l={};for(c=0;c<d;c++){var m=b[c];var t=m.selector+" ";void 0===l[t]&&(l[t]=m.needsContext?-1<n(t,this).index(g):n.find(t,this,null,[g]).length);l[t]&&e.push(m)}e.length&&f.push({elem:g,handlers:e})}return g=this,d<b.length&&f.push({elem:g,handlers:b.slice(d)}),f},addProp:function(a,b){Object.defineProperty(n.Event.prototype,a,{enumerable:!0,configurable:!0,get:n.isFunction(b)?
function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[n.expando]?a:new n.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},
click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(a){return c(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===
a.defaultPrevented&&!1===a.returnValue?D:J,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)};n.Event.prototype={constructor:n.Event,isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=
D;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=D;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=D;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};n.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&Qb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Rb.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},n.event.addProp);n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]=
{delegateType:b,bindType:b,handle:function(a){var c,f=a.relatedTarget,d=a.handleObj;return f&&(f===this||n.contains(this,f))||(a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b),c}}});n.fn.extend({on:function(a,b,c,f){return P(this,a,b,c,f)},one:function(a,b,c,f){return P(this,a,b,c,f,1)},off:function(a,b,c){var f,d;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,n(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof a){for(d in a)this.off(d,
b,a[d]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=J),this.each(function(){n.event.remove(this,a,c,b)})}});var Sb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Tb=/<script|<style|<link/i,Bb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/^true\/(.*)/,Cb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(a){return a.replace(Sb,"<$1></$2>")},clone:function(a,b,c){var f,d=a.cloneNode(!0),g=n.contains(a.ownerDocument,
a);if(!(R.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){var e=x(d);var l=x(a);var m=0;for(f=l.length;m<f;m++){var p=l[m],t=e[m],q=t.nodeName.toLowerCase();"input"===q&&kb.test(p.type)?t.checked=p.checked:"input"!==q&&"textarea"!==q||(t.defaultValue=p.defaultValue)}}if(b)if(c)for(l=l||x(a),e=e||x(d),m=0,f=l.length;m<f;m++)Ca(l[m],e[m]);else Ca(a,d);return e=x(d,"script"),0<e.length&&y(e,!g&&x(a,"script")),d},cleanData:function(a){for(var b,c,f,d=n.event.special,g=0;void 0!==(c=a[g]);g++)if(Ja(c)){if(b=
c[F.expando]){if(b.events)for(f in b.events)d[f]?n.event.remove(c,f):n.removeEvent(c,f,b.handle);c[F.expando]=void 0}c[Y.expando]&&(c[Y.expando]=void 0)}}});n.fn.extend({detach:function(a){return ea(this,a,!0)},remove:function(a){return ea(this,a)},text:function(a){return ka(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return K(this,arguments,
function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,a).appendChild(a)})},prepend:function(){return K(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=I(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(x(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return ka(this,function(a){var b=this[0]||{},c=0,f=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Tb.test(a)&&!ca[(Wa.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;c<f;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(x(b,!1)),b.innerHTML=
a);b=0}catch(Ua){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return K(this,arguments,function(b){var c=this.parentNode;0>n.inArray(this,a)&&(n.cleanData(x(this)),c&&c.replaceChild(b,this))},a)}});n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c=[],f=n(a),d=f.length-1,g=0;g<=d;g++)a=g===d?this:this.clone(!0),n(f[g])[b](a),Oa.apply(c,a.get());return this.pushStack(c)}});
var Za=/^margin/,La=new RegExp("^("+ib+")(?!px)[a-z%]+$","i"),oa=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";l.innerHTML="";Ka.appendChild(e);var b=a.getComputedStyle(l);c="1%"!==b.top;g="2px"===b.marginLeft;f="4px"===b.width;l.style.marginRight="50%";d="4px"===b.marginRight;Ka.removeChild(e);l=
null}}var c,f,d,g,e=L.createElement("div"),l=L.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",R.clearCloneStyle="content-box"===l.style.backgroundClip,e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(l),n.extend(R,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),f},pixelMarginRight:function(){return b(),d},reliableMarginLeft:function(){return b(),
g}}))}();var Ub=/^(none|table(?!-c[ea]).+)/,mb=/^--/,Vb={position:"absolute",visibility:"hidden",display:"block"},nb={letterSpacing:"0",fontWeight:"400"},ab=["Webkit","Moz","ms"],$a=L.createElement("div").style;n.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=V(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},
style:function(a,b,c,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,g,e,l=n.camelCase(b),m=mb.test(b),p=a.style;return m||(b=Q(l)),e=n.cssHooks[b]||n.cssHooks[l],void 0===c?e&&"get"in e&&void 0!==(d=e.get(a,!1,f))?d:p[b]:(g=typeof c,"string"===g&&(d=va.exec(c))&&d[1]&&(c=C(a,b,d),g="number"),null!=c&&c===c&&("number"===g&&(c+=d&&d[3]||(n.cssNumber[l]?"":"px")),R.clearCloneStyle||""!==c||0!==b.indexOf("background")||(p[b]="inherit"),e&&"set"in e&&void 0===(c=e.set(a,c,f))||(m?p.setProperty(b,
c):p[b]=c)),void 0)}},css:function(a,b,c,f){var d,g,e,l=n.camelCase(b);return mb.test(b)||(b=Q(l)),e=n.cssHooks[b]||n.cssHooks[l],e&&"get"in e&&(d=e.get(a,!0,c)),void 0===d&&(d=V(a,b,f)),"normal"===d&&b in nb&&(d=nb[b]),""===c||c?(g=parseFloat(d),!0===c||isFinite(g)?g||0:d):d}});n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,f){if(c)return!Ub.test(n.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?S(a,b,f):jb(a,Vb,function(){return S(a,b,f)})},
set:function(a,c,f){var d,g=f&&oa(a);f=f&&B(a,b,f,"border-box"===n.css(a,"boxSizing",!1,g),g);return f&&(d=va.exec(c))&&"px"!==(d[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),ia(a,c,f)}}});n.cssHooks.marginLeft=ha(R.reliableMarginLeft,function(a,b){if(b)return(parseFloat(V(a,"marginLeft"))||a.getBoundingClientRect().left-jb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){var f=0,d=
{};for(c="string"==typeof c?c.split(" "):[c];4>f;f++)d[a+ja[f]+b]=c[f]||c[f-2]||c[0];return d}};Za.test(a)||(n.cssHooks[a+b].set=ia)});n.fn.extend({css:function(a,b){return ka(this,function(a,b,c){var f,d={},g=0;if(Array.isArray(b)){c=oa(a);for(f=b.length;g<f;g++)d[b[g]]=n.css(a,b[g],!1,c);return d}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,1<arguments.length)}});n.Tween=H;H.prototype={constructor:H,init:function(a,b,c,f,d,g){this.elem=a;this.prop=c;this.easing=d||n.easing._default;this.options=
b;this.start=this.now=this.cur();this.end=f;this.unit=g||(n.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),
this}};H.prototype.init.prototype=H.prototype;H.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&
a.elem.parentNode&&(a.elem[a.prop]=a.now)}};n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};n.fx=H.prototype.init;n.fx.step={};var xa,Fa,Wb=/^(?:toggle|show|hide)$/,Xb=/queueHooks$/;n.Animation=n.extend(G,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return C(c.elem,a,va.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(ba);for(var c,f=0,d=a.length;f<d;f++)c=a[f],G.tweeners[c]=G.tweeners[c]||[],G.tweeners[c].unshift(b)},
prefilters:[function(a,b,c){var f,d,g,e,l,m,p,q,t="width"in b||"height"in b,u=this,v={},x=a.style,w=a.nodeType&&wa(a),y=F.get(a,"fxshow");c.queue||(e=n._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,l=e.empty.fire,e.empty.fire=function(){e.unqueued||l()}),e.unqueued++,u.always(function(){u.always(function(){e.unqueued--;n.queue(a,"fx").length||e.empty.fire()})}));for(f in b)if(d=b[f],Wb.test(d)){if(delete b[f],g=g||"toggle"===d,d===(w?"hide":"show")){if("show"!==d||!y||void 0===y[f])continue;
w=!0}v[f]=y&&y[f]||n.style(a,f)}if(m=!n.isEmptyObject(b),m||!n.isEmptyObject(v))for(f in t&&1===a.nodeType&&(c.overflow=[x.overflow,x.overflowX,x.overflowY],p=y&&y.display,null==p&&(p=F.get(a,"display")),q=n.css(a,"display"),"none"===q&&(p?q=p:(z([a],!0),p=a.style.display||p,q=n.css(a,"display"),z([a]))),("inline"===q||"inline-block"===q&&null!=p)&&"none"===n.css(a,"float")&&(m||(u.done(function(){x.display=p}),null==p&&(q=x.display,p="none"===q?"":q)),x.display="inline-block")),c.overflow&&(x.overflow=
"hidden",u.always(function(){x.overflow=c.overflow[0];x.overflowX=c.overflow[1];x.overflowY=c.overflow[2]})),m=!1,v)m||(y?"hidden"in y&&(w=y.hidden):y=F.access(a,"fxshow",{display:p}),g&&(y.hidden=!w),w&&z([a],!0),u.done(function(){w||z([a]);F.remove(a,"fxshow");for(f in v)n.style(a,f,v[f])})),m=U(w?y[f]:0,f,u),f in y||(y[f]=m.start,w&&(m.end=m.start,m.start=0))}],prefilter:function(a,b){b?G.prefilters.unshift(a):G.prefilters.push(a)}});n.speed=function(a,b,c){var f=a&&"object"==typeof a?n.extend({},
a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return n.fx.off?f.duration=0:"number"!=typeof f.duration&&(f.duration in n.fx.speeds?f.duration=n.fx.speeds[f.duration]:f.duration=n.fx.speeds._default),null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=function(){n.isFunction(f.old)&&f.old.call(this);f.queue&&n.dequeue(this,f.queue)},f};n.fn.extend({fadeTo:function(a,b,c,f){return this.filter(wa).css("opacity",0).show().end().animate({opacity:b},
a,c,f)},animate:function(a,b,c,f){var d=n.isEmptyObject(a),g=n.speed(b,c,f);b=function(){var b=G(this,n.extend({},a),g);(d||F.get(this,"finish"))&&b.stop(!0)};return b.finish=b,d||!1===g.queue?this.each(b):this.queue(g.queue,b)},stop:function(a,b,c){var f=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",g=n.timers,e=F.get(this);if(d)e[d]&&e[d].stop&&f(e[d]);else for(d in e)e[d]&&
e[d].stop&&Xb.test(d)&&f(e[d]);for(d=g.length;d--;)g[d].elem!==this||null!=a&&g[d].queue!==a||(g[d].anim.stop(c),b=!1,g.splice(d,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=F.get(this),c=b[a+"queue"];var f=b[a+"queueHooks"];var d=n.timers,g=c?c.length:0;b.finish=!0;n.queue(this,a,[]);f&&f.stop&&f.stop.call(this,!0);for(f=d.length;f--;)d[f].elem===this&&d[f].queue===a&&(d[f].anim.stop(!0),d.splice(f,1));for(f=0;f<g;f++)c[f]&&c[f].finish&&
c[f].finish.call(this);delete b.finish})}});n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,f,d){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(X(b,!0),a,f,d)}});n.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});n.timers=[];n.fx.tick=function(){var a=0,b=n.timers;for(xa=n.now();a<
b.length;a++){var c=b[a];c()||b[a]!==c||b.splice(a--,1)}b.length||n.fx.stop();xa=void 0};n.fx.timer=function(a){n.timers.push(a);n.fx.start()};n.fx.interval=13;n.fx.start=function(){Fa||(Fa=!0,aa())};n.fx.stop=function(){Fa=null};n.fx.speeds={slow:600,fast:200,_default:400};n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,f){var d=a.setTimeout(c,b);f.stop=function(){a.clearTimeout(d)}})};(function(){var a=L.createElement("input"),b=L.createElement("select").appendChild(L.createElement("option"));
a.type="checkbox";R.checkOn=""!==a.value;R.optSelected=b.selected;a=L.createElement("input");a.value="t";a.type="radio";R.radioValue="t"===a.value})();var ya=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return ka(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}});n.extend({attr:function(a,b,c){var f,d,g=a.nodeType;if(3!==g&&8!==g&&2!==g)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===g&&n.isXMLDoc(a)||(d=n.attrHooks[b.toLowerCase()]||
(n.expr.match.bool.test(b)?Yb:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):d&&"set"in d&&void 0!==(f=d.set(a,c,b))?f:(a.setAttribute(b,c+""),c):d&&"get"in d&&null!==(f=d.get(a,b))?f:(f=n.find.attr(a,b),null==f?void 0:f))},attrHooks:{type:{set:function(a,b){if(!R.radioValue&&"radio"===b&&c(a,"input")){var f=a.value;return a.setAttribute("type",b),f&&(a.value=f),b}}}},removeAttr:function(a,b){var c=0,f=b&&b.match(ba);if(f&&1===a.nodeType)for(;b=f[c++];)a.removeAttribute(b)}});var Yb={set:function(a,
b,c){return!1===b?n.removeAttr(a,c):a.setAttribute(c,c),c}};n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ya[b]||n.find.attr;ya[b]=function(a,b,f){var d,g,e=b.toLowerCase();return f||(g=ya[e],ya[e]=d,d=null!=c(a,b,f)?e:null,ya[e]=g),d}});var Zb=/^(?:input|select|textarea|button)$/i,$b=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return ka(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}});n.extend({prop:function(a,
b,c){var f,d,g=a.nodeType;if(3!==g&&8!==g&&2!==g)return 1===g&&n.isXMLDoc(a)||(b=n.propFix[b]||b,d=n.propHooks[b]),void 0!==c?d&&"set"in d&&void 0!==(f=d.set(a,c,b))?f:a[b]=c:d&&"get"in d&&null!==(f=d.get(a,b))?f:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):Zb.test(a.nodeName)||$b.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});R.optSelected||(n.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&
a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){n.propFix[this.toLowerCase()]=this});n.fn.extend({addClass:function(a){var b,c,f,d,g,e,l=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,ma(this)))});if("string"==typeof a&&a)for(b=a.match(ba)||[];c=this[l++];)if(d=
ma(c),f=1===c.nodeType&&" "+la(d)+" "){for(e=0;g=b[e++];)0>f.indexOf(" "+g+" ")&&(f+=g+" ");f=la(f);d!==f&&c.setAttribute("class",f)}return this},removeClass:function(a){var b,c,f,d,g,e,l=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,ma(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(ba)||[];c=this[l++];)if(d=ma(c),f=1===c.nodeType&&" "+la(d)+" "){for(e=0;g=b[e++];)for(;-1<f.indexOf(" "+g+" ");)f=f.replace(" "+
g+" "," ");f=la(f);d!==f&&c.setAttribute("class",f)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,ma(this),b),b)}):this.each(function(){var b,f;if("string"===c){var d=0;var g=n(this);for(f=a.match(ba)||[];b=f[d++];)g.hasClass(b)?g.removeClass(b):g.addClass(b)}else void 0!==a&&"boolean"!==c||(b=ma(this),b&&F.set(this,"__className__",b),this.setAttribute&&
this.setAttribute("class",b||!1===a?"":F.get(this,"__className__")||""))})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+la(ma(b))+" ").indexOf(a))return!0;return!1}});var ac=/\r/g;n.fn.extend({val:function(a){var b,c,f,d=this[0];if(arguments.length)return f=n.isFunction(a),this.each(function(c){var d;1===this.nodeType&&(d=f?a.call(this,c,n(this).val()):a,null==d?d="":"number"==typeof d?d+="":Array.isArray(d)&&(d=n.map(d,function(a){return null==a?"":a+""})),
b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,d,"value")||(this.value=d))});if(d)return b=n.valHooks[d.type]||n.valHooks[d.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(d,"value"))?c:(c=d.value,"string"==typeof c?c.replace(ac,""):null==c?"":c)}});n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:la(n.text(a))}},select:{get:function(a){var b,f,d=a.options,g=a.selectedIndex,e="select-one"===a.type,
l=e?null:[],m=e?g+1:d.length;for(f=0>g?m:e?g:0;f<m;f++)if(b=d[f],!(!b.selected&&f!==g||b.disabled||b.parentNode.disabled&&c(b.parentNode,"optgroup"))){if(a=n(b).val(),e)return a;l.push(a)}return l},set:function(a,b){for(var c,f=a.options,d=n.makeArray(b),g=f.length;g--;)b=f[g],(b.selected=-1<n.inArray(n.valHooks.option.get(b),d))&&(c=!0);return c||(a.selectedIndex=-1),d}}}});n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<n.inArray(n(a).val(),
b)}};R.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ob=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,f,d){var g,e,l,m,p,q=[f||L],u=Ia.call(b,"type")?b.type:b;var v=Ia.call(b,"namespace")?b.namespace.split("."):[];if(g=e=f=f||L,3!==f.nodeType&&8!==f.nodeType&&!ob.test(u+n.event.triggered)&&(-1<u.indexOf(".")&&(v=u.split("."),u=v.shift(),v.sort()),l=0>u.indexOf(":")&&"on"+u,b=b[n.expando]?b:new n.Event(u,"object"==typeof b&&
b),b.isTrigger=d?2:3,b.namespace=v.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=f),c=null==c?[b]:n.makeArray(c,[b]),p=n.event.special[u]||{},d||!p.trigger||!1!==p.trigger.apply(f,c))){if(!d&&!p.noBubble&&!n.isWindow(f)){var x=p.delegateType||u;for(ob.test(x+u)||(g=g.parentNode);g;g=g.parentNode)q.push(g),e=g;e===(f.ownerDocument||L)&&q.push(e.defaultView||e.parentWindow||a)}for(v=0;(g=q[v++])&&!b.isPropagationStopped();)b.type=
1<v?x:p.bindType||u,(m=(F.get(g,"events")||{})[b.type]&&F.get(g,"handle"))&&m.apply(g,c),(m=l&&g[l])&&m.apply&&Ja(g)&&(b.result=m.apply(g,c),!1===b.result&&b.preventDefault());return b.type=u,d||b.isDefaultPrevented()||p._default&&!1!==p._default.apply(q.pop(),c)||!Ja(f)||l&&n.isFunction(f[u])&&!n.isWindow(f)&&(e=f[l],e&&(f[l]=null),n.event.triggered=u,f[u](),n.event.triggered=void 0,e&&(f[l]=e)),b.result}},simulate:function(a,b,c){a=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(a,
null,b)}});n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return n.event.trigger(a,b,c,!0)}});n.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});n.fn.extend({hover:function(a,
b){return this.mouseenter(a).mouseleave(b||a)}});R.focusin="onfocusin"in a;R.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var f=this.ownerDocument||this,d=F.access(f,b);d||f.addEventListener(a,c,!0);F.access(f,b,(d||0)+1)},teardown:function(){var f=this.ownerDocument||this,d=F.access(f,b)-1;d?F.access(f,b,d):(f.removeEventListener(a,c,!0),F.remove(f,b))}}});var Aa=a.location,pb=n.now(),
Ra=/\?/;n.parseXML=function(b){if(!b||"string"!=typeof b)return null;try{var c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(M){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var Db=/\[\]$/,qb=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,f=[],d=function(a,b){b=n.isFunction(b)?b():b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==b?"":b)};if(Array.isArray(a)||
a.jquery&&!n.isPlainObject(a))n.each(a,function(){d(this.name,this.value)});else for(c in a)Da(c,a[c],b,d);return f.join("&")};n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(a)&&(this.checked||!kb.test(a))}).map(function(a,b){a=n(this).val();return null==
a?null:Array.isArray(a)?n.map(a,function(a){return{name:b.name,value:a.replace(qb,"\r\n")}}):{name:b.name,value:a.replace(qb,"\r\n")}}).get()}});var dc=/%20/g,ec=/#.*$/,fc=/([?&])_=[^&]*/,gc=/^(.*?):[ \t]*([^\r\n]*)$/gm,hc=/^(?:GET|HEAD)$/,ic=/^\/\//,rb={},Ma={},sb="*/".concat("*"),Sa=L.createElement("a");Sa.href=Aa.href;n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Aa.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Aa.protocol),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Na(Na(a,n.ajaxSettings),
b):Na(n.ajaxSettings,a)},ajaxPrefilter:Ga(rb),ajaxTransport:Ga(Ma),ajax:function(b,c){function f(b,c,f,e){var p,q,z,C=c;if(!J){J=!0;l&&a.clearTimeout(l);d=void 0;g=e||"";D.readyState=0<b?4:0;e=200<=b&&300>b||304===b;if(f){var A=u;for(var E=D,U,G,T,O,P=A.contents,M=A.dataTypes;"*"===M[0];)M.shift(),void 0===U&&(U=A.mimeType||E.getResponseHeader("Content-Type"));if(U)for(G in P)if(P[G]&&P[G].test(U)){M.unshift(G);break}if(M[0]in f)T=M[0];else{for(G in f){if(!M[0]||A.converters[G+" "+M[0]]){T=G;break}O||
(O=G)}T=T||O}f=T?(T!==M[0]&&M.unshift(T),f[T]):void 0;A=f}a:{f=u;U=A;G=D;T=e;var I,Z,B;A={};E=f.dataTypes.slice();if(E[1])for(I in f.converters)A[I.toLowerCase()]=f.converters[I];for(O=E.shift();O;)if(f.responseFields[O]&&(G[f.responseFields[O]]=U),!B&&T&&f.dataFilter&&(U=f.dataFilter(U,f.dataType)),B=O,O=E.shift())if("*"===O)O=B;else if("*"!==B&&B!==O){if(I=A[B+" "+O]||A["* "+O],!I)for(K in A)if(Z=K.split(" "),Z[1]===O&&(I=A[B+" "+Z[0]]||A["* "+Z[0]])){!0===I?I=A[K]:!0!==A[K]&&(O=Z[0],E.unshift(Z[1]));
break}if(!0!==I)if(I&&f["throws"])U=I(U);else try{U=I(U)}catch(Kb){var K={state:"parsererror",error:I?Kb:"No conversion from "+B+" to "+O};break a}}K={state:"success",data:U}}A=K;e?(u.ifModified&&(z=D.getResponseHeader("Last-Modified"),z&&(n.lastModified[X]=z),z=D.getResponseHeader("etag"),z&&(n.etag[X]=z)),204===b||"HEAD"===u.type?C="nocontent":304===b?C="notmodified":(C=A.state,p=A.data,q=A.error,e=!q)):(q=C,!b&&C||(C="error",0>b&&(b=0)));D.status=b;D.statusText=(c||C)+"";e?w.resolveWith(v,[p,C,
D]):w.rejectWith(v,[D,C,q]);D.statusCode(y);y=void 0;m&&x.trigger(e?"ajaxSuccess":"ajaxError",[D,u,e?p:q]);t.fireWith(v,[D,C]);m&&(x.trigger("ajaxComplete",[D,u]),--n.active||n.event.trigger("ajaxStop"))}}"object"==typeof b&&(c=b,b=void 0);c=c||{};var d,g,e,l,m,p,q,u=n.ajaxSetup({},c),v=u.context||u,x=u.context&&(v.nodeType||v.jquery)?n(v):n.event,w=n.Deferred(),t=n.Callbacks("once memory"),y=u.statusCode||{},z={},C={},A="canceled",D={readyState:0,getResponseHeader:function(a){var b;if(J){if(!e)for(e=
{};b=gc.exec(g);)e[b[1].toLowerCase()]=b[2];b=e[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return J?g:null},setRequestHeader:function(a,b){return null==J&&(a=C[a.toLowerCase()]=C[a.toLowerCase()]||a,z[a]=b),this},overrideMimeType:function(a){return null==J&&(u.mimeType=a),this},statusCode:function(a){var b;if(a)if(J)D.always(a[D.status]);else for(b in a)y[b]=[y[b],a[b]];return this},abort:function(a){a=a||A;return d&&d.abort(a),f(0,a),this}};if(w.promise(D),u.url=((b||
u.url||Aa.href)+"").replace(ic,Aa.protocol+"//"),u.type=c.method||c.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(ba)||[""],null==u.crossDomain){b=L.createElement("a");try{b.href=u.url,b.href=b.href,u.crossDomain=Sa.protocol+"//"+Sa.host!=b.protocol+"//"+b.host}catch(Pa){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=n.param(u.data,u.traditional)),bb(rb,u,c,D),J)return D;(m=n.event&&u.global)&&0===n.active++&&n.event.trigger("ajaxStart");u.type=
u.type.toUpperCase();u.hasContent=!hc.test(u.type);var X=u.url.replace(ec,"");u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(dc,"+")):(q=u.url.slice(X.length),u.data&&(X+=(Ra.test(X)?"&":"?")+u.data,delete u.data),!1===u.cache&&(X=X.replace(fc,"$1"),q=(Ra.test(X)?"&":"?")+"_="+pb++ +q),u.url=X+q);u.ifModified&&(n.lastModified[X]&&D.setRequestHeader("If-Modified-Since",n.lastModified[X]),n.etag[X]&&D.setRequestHeader("If-None-Match",
n.etag[X]));(u.data&&u.hasContent&&!1!==u.contentType||c.contentType)&&D.setRequestHeader("Content-Type",u.contentType);D.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+sb+"; q=0.01":""):u.accepts["*"]);for(p in u.headers)D.setRequestHeader(p,u.headers[p]);if(u.beforeSend&&(!1===u.beforeSend.call(v,D,u)||J))return D.abort();if(A="abort",t.add(u.complete),D.done(u.success),D.fail(u.error),d=bb(Ma,u,c,D)){if(D.readyState=1,m&&
x.trigger("ajaxSend",[D,u]),J)return D;u.async&&0<u.timeout&&(l=a.setTimeout(function(){D.abort("timeout")},u.timeout));try{var J=!1;d.send(z,f)}catch(Pa){if(J)throw Pa;f(-1,Pa)}}else f(-1,"No Transport");return D},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}});n.each(["get","post"],function(a,b){n[b]=function(a,c,f,d){return n.isFunction(c)&&(d=d||f,f=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:d,data:c,success:f},n.isPlainObject(a)&&
a))}});n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};n.fn.extend({wrapAll:function(a){var b;return this[0]&&(n.isFunction(a)&&(a=a.call(this[0])),b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){n(this).replaceWith(this.childNodes)}),this}});n.expr.pseudos.hidden=function(a){return!n.expr.pseudos.visible(a)};n.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};n.ajaxSettings.xhr=
function(){try{return new a.XMLHttpRequest}catch(t){}};var jc={0:200,1223:204},Ba=n.ajaxSettings.xhr();R.cors=!!Ba&&"withCredentials"in Ba;R.ajax=Ba=!!Ba;n.ajaxTransport(function(b){var c,f;if(R.cors||Ba&&!b.crossDomain)return{send:function(d,g){var e,l=b.xhr();if(l.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(e in b.xhrFields)l[e]=b.xhrFields[e];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");
for(e in d)l.setRequestHeader(e,d[e]);c=function(a){return function(){c&&(c=f=l.onload=l.onerror=l.onabort=l.onreadystatechange=null,"abort"===a?l.abort():"error"===a?"number"!=typeof l.status?g(0,"error"):g(l.status,l.statusText):g(jc[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}};l.onload=c();f=l.onerror=c("error");void 0!==l.onabort?l.onabort=f:l.onreadystatechange=function(){4===
l.readyState&&a.setTimeout(function(){c&&f()})};c=c("abort");try{l.send(b.hasContent&&b.data||null)}catch(xb){if(c)throw xb;}},abort:function(){c&&c()}}});n.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}});n.ajaxPrefilter("script",function(a){void 0===
a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(f,d){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&d("error"===a.type?404:200,a.type)});L.head.appendChild(b[0])},abort:function(){c&&c()}}}});var tb=[],Ta=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=tb.pop()||n.expando+"_"+pb++;return this[a]=!0,a}});n.ajaxPrefilter("json jsonp",
function(b,c,f){var d,g,e,l=!1!==b.jsonp&&(Ta.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ta.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return d=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Ta,"$1"+d):!1!==b.jsonp&&(b.url+=(Ra.test(b.url)?"&":"?")+b.jsonp+"="+d),b.converters["script json"]=function(){return e||n.error(d+" was not called"),e[0]},b.dataTypes[0]="json",
g=a[d],a[d]=function(){e=arguments},f.always(function(){void 0===g?n(a).removeProp(d):a[d]=g;b[d]&&(b.jsonpCallback=c.jsonpCallback,tb.push(d));e&&n.isFunction(g)&&g(e[0]);e=g=void 0}),"script"});R.createHTMLDocument=function(){var a=L.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}();n.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var f,d,g;return b||(R.createHTMLDocument?(b=L.implementation.createHTMLDocument(""),
f=b.createElement("base"),f.href=L.location.href,b.head.appendChild(f)):b=L),d=hb.exec(a),g=!c&&[],d?[b.createElement(d[1])]:(d=A([a],b,g),g&&g.length&&n(g).remove(),n.merge([],d.childNodes))};n.fn.load=function(a,b,c){var f,d,g,e=this,l=a.indexOf(" ");return-1<l&&(f=la(a.slice(l)),a=a.slice(0,l)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(d="POST"),0<e.length&&n.ajax({url:a,type:d||"GET",dataType:"html",data:b}).done(function(a){g=arguments;e.html(f?n("<div>").append(n.parseHTML(a)).find(f):
a)}).always(c&&function(a,b){e.each(function(){c.apply(this,g||[a.responseText,b,a])})}),this};n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){n.fn[b]=function(a){return this.on(b,a)}});n.expr.pseudos.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};n.offset={setOffset:function(a,b,c){var f,d,g,e=n.css(a,"position"),l=n(a),m={};"static"===e&&(a.style.position="relative");var p=l.offset();var q=n.css(a,"top");var u=
n.css(a,"left");("absolute"===e||"fixed"===e)&&-1<(q+u).indexOf("auto")?(f=l.position(),g=f.top,d=f.left):(g=parseFloat(q)||0,d=parseFloat(u)||0);n.isFunction(b)&&(b=b.call(a,c,n.extend({},p)));null!=b.top&&(m.top=b.top-p.top+g);null!=b.left&&(m.left=b.left-p.left+d);"using"in b?b.using.call(a,m):l.css(m)}};n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,f,d,g=this[0];if(g)return g.getClientRects().length?(f=g.getBoundingClientRect(),
b=g.ownerDocument,c=b.documentElement,d=b.defaultView,{top:f.top+d.pageYOffset-c.clientTop,left:f.left+d.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,f=this[0],d={top:0,left:0};return"fixed"===n.css(f,"position")?b=f.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),c(a[0],"html")||(d=a.offset()),d={top:d.top+n.css(a[0],"borderTopWidth",!0),left:d.left+n.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-n.css(f,"marginTop",!0),left:b.left-d.left-
n.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ka})}});n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(f){return ka(this,function(a,f,d){var g;return n.isWindow(a)?g=a:9===a.nodeType&&(g=a.defaultView),void 0===d?g?g[b]:a[f]:void(g?g.scrollTo(c?g.pageXOffset:d,c?d:g.pageYOffset):a[f]=d)},a,f,arguments.length)}});
n.each(["top","left"],function(a,b){n.cssHooks[b]=ha(R.pixelPosition,function(a,c){if(c)return c=V(a,b),La.test(c)?n(a).position()[b]+"px":c})});n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,f){n.fn[f]=function(d,g){var e=arguments.length&&(c||"boolean"!=typeof d),l=c||(!0===d||!0===g?"margin":"border");return ka(this,function(b,c,d){var g;return n.isWindow(b)?0===f.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+
a]:9===b.nodeType?(g=b.documentElement,Math.max(b.body["scroll"+a],g["scroll"+a],b.body["offset"+a],g["offset"+a],g["client"+a])):void 0===d?n.css(b,c,l):n.style(b,c,d,l)},b,e?d:void 0,e)}})});n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,f){return this.on(b,a,c,f)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});n.holdReady=function(a){a?n.readyWait++:n.ready(!0)};
n.isArray=Array.isArray;n.parseJSON=JSON.parse;n.nodeName=c;"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var kc=a.jQuery,lc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=lc),b&&a.jQuery===n&&(a.jQuery=kc),n},b||(a.jQuery=a.$=n),n});
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){a.ui=a.ui||{};a.ui.version="1.12.1";(function(){function b(a,b,c){return[parseFloat(a[0])*(q.test(a[0])?b/100:1),parseFloat(a[1])*(q.test(a[1])?c/100:1)]}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,
left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}var d,c=Math.max,l=Math.abs,m=/left|center|right/,g=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,q=/%$/,v=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==d)return d;var b,c,f=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),b=g.offsetWidth,f.css("overflow","scroll"),
c=g.offsetWidth,b===c&&(c=f[0].clientWidth),f.remove(),d=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),f=b.isWindow||b.isDocument?"":b.element.css("overflow-y");c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),f=a.isWindow(c[0]),d=!!c[0]&&9===c[0].nodeType;
return{element:c,isWindow:f,isDocument:d,offset:f||d?{left:0,top:0}:a(b).offset(),scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}};a.fn.position=function(d){if(!d||!d.of)return v.apply(this,arguments);d=a.extend({},d);var q,u,z,x,y,A,D=a(d.of),J=a.position.getWithinInfo(d.within),T=a.position.getScrollInfo(J),P=(d.collision||"flip").split(" "),I={};return A=e(D),D[0].preventDefault&&(d.at="left top"),u=A.width,z=A.height,x=A.offset,y=a.extend({},x),
a.each(["my","at"],function(){var a=(d[this]||"").split(" ");1===a.length&&(a=m.test(a[0])?a.concat(["center"]):g.test(a[0])?["center"].concat(a):["center","center"]);a[0]=m.test(a[0])?a[0]:"center";a[1]=g.test(a[1])?a[1]:"center";var b=f.exec(a[0]);var c=f.exec(a[1]);I[this]=[b?b[0]:0,c?c[0]:0];d[this]=[p.exec(a[0])[0],p.exec(a[1])[0]]}),1===P.length&&(P[1]=P[0]),"right"===d.at[0]?y.left+=u:"center"===d.at[0]&&(y.left+=u/2),"bottom"===d.at[1]?y.top+=z:"center"===d.at[1]&&(y.top+=z/2),q=b(I.at,u,
z),y.left+=q[0],y.top+=q[1],this.each(function(){var f,g=a(this),e=g.outerWidth(),m=g.outerHeight(),p=parseInt(a.css(this,"marginLeft"),10)||0,v=parseInt(a.css(this,"marginTop"),10)||0,w=e+p+(parseInt(a.css(this,"marginRight"),10)||0)+T.width,C=m+v+(parseInt(a.css(this,"marginBottom"),10)||0)+T.height,A=a.extend({},y),B=b(I.my,g.outerWidth(),g.outerHeight());"right"===d.my[0]?A.left-=e:"center"===d.my[0]&&(A.left-=e/2);"bottom"===d.my[1]?A.top-=m:"center"===d.my[1]&&(A.top-=m/2);A.left+=B[0];A.top+=
B[1];var S={marginLeft:p,marginTop:v};a.each(["left","top"],function(b,c){a.ui.position[P[b]]&&a.ui.position[P[b]][c](A,{targetWidth:u,targetHeight:z,elemWidth:e,elemHeight:m,collisionPosition:S,collisionWidth:w,collisionHeight:C,offset:[q[0]+B[0],q[1]+B[1]],my:d.my,at:d.at,within:J,elem:g})});d.using&&(f=function(a){var b=x.left-A.left,f=b+u-e,p=x.top-A.top,q=p+z-m,v={target:{element:D,left:x.left,top:x.top,width:u,height:z},element:{element:g,left:A.left,top:A.top,width:e,height:m},horizontal:0>
f?"left":0<b?"right":"center",vertical:0>q?"top":0<p?"bottom":"middle"};e>u&&u>l(b+f)&&(v.horizontal="center");m>z&&z>l(p+q)&&(v.vertical="middle");v.important=c(l(b),l(f))>c(l(p),l(q))?"horizontal":"vertical";d.using.call(this,a,v)});g.offset(a.extend(A,{using:f}))})};a.ui.position={fit:{left:function(a,b){var f,d=b.within,g=d.isWindow?d.scrollLeft:d.offset.left;d=d.width;var e=a.left-b.collisionPosition.marginLeft,l=g-e,m=e+b.collisionWidth-d-g;b.collisionWidth>d?0<l&&0>=m?(f=a.left+l+b.collisionWidth-
d-g,a.left+=l-f):a.left=0<m&&0>=l?g:l>m?g+d-b.collisionWidth:g:0<l?a.left+=l:0<m?a.left-=m:a.left=c(a.left-e,a.left)},top:function(a,b){var f,d=b.within;d=d.isWindow?d.scrollTop:d.offset.top;var g=b.within.height,e=a.top-b.collisionPosition.marginTop,l=d-e,m=e+b.collisionHeight-g-d;b.collisionHeight>g?0<l&&0>=m?(f=a.top+l+b.collisionHeight-g-d,a.top+=l-f):a.top=0<m&&0>=l?d:l>m?d+g-b.collisionHeight:d:0<l?a.top+=l:0<m?a.top-=m:a.top=c(a.top-e,a.top)}},flip:{left:function(a,b){var c,f,d=b.within,g=
d.offset.left+d.scrollLeft,e=d.width;d=d.isWindow?d.scrollLeft:d.offset.left;var m=a.left-b.collisionPosition.marginLeft,p=m-d;m=m+b.collisionWidth-e-d;var q="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,v="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,u=-2*b.offset[0];0>p?(c=a.left+q+v+u+b.collisionWidth-e-g,(0>c||l(p)>c)&&(a.left+=q+v+u)):0<m&&(f=a.left-b.collisionPosition.marginLeft+q+v+u-d,(0<f||m>l(f))&&(a.left+=q+v+u))},top:function(a,b){var c,f,d=b.within,
g=d.offset.top+d.scrollTop,e=d.height;d=d.isWindow?d.scrollTop:d.offset.top;var m=a.top-b.collisionPosition.marginTop,p=m-d;m=m+b.collisionHeight-e-d;var q="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,v="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,u=-2*b.offset[1];0>p?(f=a.top+q+v+u+b.collisionHeight-e-g,(0>f||l(p)>f)&&(a.top+=q+v+u)):0<m&&(c=a.top-b.collisionPosition.marginTop+q+v+u-d,(0<c||m>l(c))&&(a.top+=q+v+u))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,
arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}}})();a.ui.position;a.fn.scrollParent=function(b){var e=this.css("position"),d="absolute"===e,c=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=a(this);return d&&"static"===b.css("position")?!1:c.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==e&&b.length?b:a(this[0].ownerDocument||
document)};a.effects={effect:{}};(function(a,e){function b(a,b,c){var f=q[b.type]||{};return null==a?c||!b.def?null:b.def:(a=f.floor?~~a:parseFloat(a),isNaN(a)?b.def:f.mod?(a+f.mod)%f.mod:0>a?0:a>f.max?f.max:a)}function c(b){var c=f(),d=c._rgba=[];return b=b.toLowerCase(),w(g,function(a,f){var g;a=(a=f.re.exec(b))&&f.parse(a);f=f.space||"rgba";return a?(g=c[f](a),c[p[f].cache]=g[p[f].cache],d=c._rgba=g._rgba,!1):e}),d.length?("0,0,0,0"===d.join()&&a.extend(d,C.transparent),c):C[b]}function l(a,b,
c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var m=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,f,d){return new a.Color.fn.parse(b,c,f,d)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},q={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},v=f.support={},u=a("<p>")[0],w=a.each;u.style.cssText="background-color:rgba(1,1,1,.5)";v.rgba=-1<u.style.backgroundColor.indexOf("rgba");w(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});f.fn=a.extend(f.prototype,{parse:function(d,g,l,m){if(d===e)return this._rgba=[null,null,
null,null],this;(d.jquery||d.nodeType)&&(d=a(d).css(g),g=e);var q=this,v=a.type(d),u=this._rgba=[];return g!==e&&(d=[d,g,l,m],v="array"),"string"===v?this.parse(c(d)||C._default):"array"===v?(w(p.rgba.props,function(a,c){u[c.idx]=b(d[c.idx],c)}),this):"object"===v?(d instanceof f?w(p,function(a,b){d[b.cache]&&(q[b.cache]=d[b.cache].slice())}):w(p,function(c,f){var g=f.cache;w(f.props,function(a,c){if(!q[g]&&f.to){if("alpha"===a||null==d[a])return;q[g]=f.to(q._rgba)}q[g][c.idx]=b(d[a],c,!0)});q[g]&&
0>a.inArray(null,q[g].slice(0,3))&&(q[g][3]=1,f.from&&(q._rgba=f.from(q[g])))}),this):e},is:function(a){var b=f(a),c=!0,d=this;return w(p,function(a,f){var g,l=b[f.cache];return l&&(g=d[f.cache]||f.to&&f.to(d._rgba)||[],w(f.props,function(a,b){return null!=l[b.idx]?c=l[b.idx]===g[b.idx]:e})),c}),c},_space:function(){var a=[],b=this;return w(p,function(c,f){b[f.cache]&&a.push(c)}),a.pop()},transition:function(a,c){var d=f(a);a=d._space();var g=p[a],e=0===this.alpha()?f("transparent"):this,l=e[g.cache]||
g.to(e._rgba),m=l.slice();return d=d[g.cache],w(g.props,function(a,f){a=f.idx;var g=l[a],e=d[a],p=q[f.type]||{};null!==e&&(null===g?m[a]=e:(p.mod&&(e-g>p.mod/2?g+=p.mod:g-e>p.mod/2&&(g-=p.mod)),m[a]=b((e-g)*c+g,f)))}),this[a](m)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),g=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*g[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});return 1===c[3]&&(c.pop(),
b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),f=c.pop();return b&&c.push(~~(255*f)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});f.fn.parse.prototype=f.fn;p.hsla.to=
function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,f=a[0]/255,d=a[1]/255,g=a[2]/255;a=a[3];var e=Math.max(f,d,g),l=Math.min(f,d,g),m=e-l,p=e+l,q=.5*p;return b=l===e?0:f===e?60*(d-g)/m+360:d===e?60*(g-f)/m+120:60*(f-d)/m+240,c=0===m?0:.5>=q?m/p:m/(2-p),[Math.round(b)%360,c,q,null==a?1:a]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],f=a[2];a=a[3];c=.5>=f?f*(1+c):f+c-f*c;f=2*f-c;return[Math.round(255*
l(f,c,b+1/3)),Math.round(255*l(f,c,b)),Math.round(255*l(f,c,b-1/3)),a]};w(p,function(c,d){var g=d.props,l=d.cache,p=d.to,q=d.from;f.fn[c]=function(c){if(p&&!this[l]&&(this[l]=p(this._rgba)),c===e)return this[l].slice();var d,m=a.type(c),v="array"===m||"object"===m?c:arguments,u=this[l].slice();return w(g,function(a,c){a=v["object"===m?a:c.idx];null==a&&(a=u[c.idx]);u[c.idx]=b(a,c)}),q?(d=f(q(u)),d[l]=u,d):f(u)};w(g,function(b,d){f.fn[b]||(f.fn[b]=function(f){var g,e=a.type(f),l="alpha"===b?this._hsla?
"hsla":"rgba":c,p=this[l](),q=p[d.idx];return"undefined"===e?q:("function"===e&&(f=f.call(this,q),e=a.type(f)),null==f&&d.empty?this:("string"===e&&(g=m.exec(f),g&&(f=q+parseFloat(g[2])*("+"===g[1]?1:-1))),p[d.idx]=f,this[l](p)))})})});f.hook=function(b){b=b.split(" ");w(b,function(b,d){a.cssHooks[d]={set:function(b,g){var e,l="";if("transparent"!==g&&("string"!==a.type(g)||(e=c(g)))){if(g=f(e||g),!v.rgba&&1!==g._rgba[3]){for(e="backgroundColor"===d?b.parentNode:b;(""===l||"transparent"===l)&&e&&
e.style;)try{l=a.css(e,"backgroundColor"),e=e.parentNode}catch(P){}g=g.blend(l&&"transparent"!==l?l:"_default")}g=g.toRgbaString()}try{b.style[d]=g}catch(P){}}};a.fx.step[d]=function(b){b.colorInit||(b.start=f(b.elem,d),b.end=f(b.end),b.colorInit=!0);a.cssHooks[d].set(b.elem,b.start.transition(b.end,b.pos))}})};f.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor=
{expand:function(a){var b={};return w(["Top","Right","Bottom","Left"],function(c,f){b["border"+f+"Color"]=a}),b}};var C=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(a);(function(){function b(b){var c=b.ownerDocument.defaultView?
b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,d={};if(c&&c.length&&c[0]&&c[c[0]])for(b=c.length;b--;){var g=c[b];"string"==typeof c[g]&&(d[a.camelCase(g)]=c[g])}else for(g in c)"string"==typeof c[g]&&(d[g]=c[g]);return d}var e=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,d){a.fx.step[d]=function(b){("none"!==
b.end&&!b.setAttr||1===b.pos&&!b.setAttr)&&(a.style(b.elem,d,b.end),b.setAttr=!0)}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(c,l,m,g){var f=a.speed(l,m,g);return this.queue(function(){var g=a(this),l=g.attr("class")||"",m=f.children?g.find("*").addBack():g;m=m.map(function(){return{el:a(this),start:b(this)}});var u=function(){a.each(e,function(a,b){c[b]&&g[b+"Class"](c[b])})};u();m=m.map(function(){this.end=
b(this.el[0]);var c=this.start,f=this.end,g,e={};for(g in f){var l=f[g];c[g]!==l&&(d[g]||(a.fx.step[g]||!isNaN(parseFloat(l)))&&(e[g]=l))}return this.diff=e,this});g.attr("class",l);m=m.map(function(){var b=this,c=a.Deferred(),d=a.extend({},f,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()});a.when.apply(a,m.get()).done(function(){u();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});f.complete.call(g[0])})})};a.fn.extend({addClass:function(b){return function(c,
d,g,f){return d?a.effects.animateClass.call(this,{add:c},d,g,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,g,f){return 1<arguments.length?a.effects.animateClass.call(this,{remove:c},d,g,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,g,f,e){return"boolean"==typeof d||void 0===d?g?a.effects.animateClass.call(this,d?{add:c}:{remove:c},g,f,e):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,g,f)}}(a.fn.toggleClass),
switchClass:function(b,d,e,g,f){return a.effects.animateClass.call(this,{add:d,remove:b},e,g,f)}})})();(function(){function b(b,d,e,g){return a.isPlainObject(b)&&(d=b,b=b.effect),b={effect:b},null==d&&(d={}),a.isFunction(d)&&(g=d,e=null,d={}),("number"==typeof d||a.fx.speeds[d])&&(g=e,e=d,d={}),a.isFunction(e)&&(g=e,e=null),d&&a.extend(b,d),e=e||d.duration,b.duration=a.fx.off?0:"number"==typeof e?e:e in a.fx.speeds?a.fx.speeds[e]:a.fx.speeds._default,b.complete=g||d.complete,b}function e(b){return!b||
"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}function d(a,b){var c=b.outerWidth();b=b.outerHeight();a=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(a)||["",0,c,b,0];return{top:parseFloat(a[1])||0,right:"auto"===a[2]?c:parseFloat(a[2]),bottom:"auto"===a[3]?b:parseFloat(a[3]),left:parseFloat(a[4])||0}}a.expr&&a.expr.filters&&
a.expr.filters.animated&&(a.expr.filters.animated=function(b){return function(c){return!!a(c).data("ui-effects-animated")||b(c)}}(a.expr.filters.animated));!1!==a.uiBackCompat&&a.extend(a.effects,{save:function(a,b){for(var c=0,d=b.length;d>c;c++)null!==b[c]&&a.data("ui-effects-"+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c,d=0,f=b.length;f>d;d++)null!==b[d]&&(c=a.data("ui-effects-"+b[d]),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();
var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(p){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).trigger("focus"),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),
zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,f){c[f]=b.css(f);isNaN(parseInt(c[f],10))&&(c[f]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(g),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).trigger("focus")),b}});a.extend(a.effects,{version:"1.12.1",define:function(b,d,e){return e||(e=d,d="effect"),
a.effects.effect[b]=e,a.effects.effect[b].mode=d,e},scaledDimensions:function(a,b,d){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var c="horizontal"!==d?(b||100)/100:1;b="vertical"!==d?(b||100)/100:1;return{height:a.height()*b,width:a.width()*c,outerHeight:a.outerHeight()*b,outerWidth:a.outerWidth()*c}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,d){var c=a.queue();1<b&&c.splice.apply(c,
[1,0].concat(c.splice(b,d)));a.dequeue()},saveStyle:function(a){a.data("ui-effects-style",a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data("ui-effects-style")||"";a.removeData("ui-effects-style")},mode:function(a,b){a=a.is(":hidden");return"toggle"===b&&(b=a?"show":"hide"),(a?"hide"===b:"show"===b)&&(b="none"),b},getBaseline:function(a,b){switch(a[0]){case "top":var c=0;break;case "middle":c=.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":a=
0;break;case "center":a=.5;break;case "right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createPlaceholder:function(b){var c,d=b.css("position"),g=b.position();return b.css({marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()),/^(static|relative)/.test(d)&&(d="absolute",c=a("<"+b[0].nodeName+">").insertAfter(b).css({display:/^(inline|ruby)/.test(b.css("display"))?
"inline-block":"block",visibility:"hidden",marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight"),"float":b.css("float")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).addClass("ui-effects-placeholder"),b.data("ui-effects-placeholder",c)),b.css({position:d,left:g.left,top:g.top}),c},removePlaceholder:function(a){var b=a.data("ui-effects-placeholder");b&&(b.remove(),a.removeData("ui-effects-placeholder"))},cleanUp:function(b){a.effects.restoreStyle(b);
a.effects.removePlaceholder(b)},setTransition:function(b,d,e,g){return g=g||{},a.each(d,function(a,c){a=b.cssUnit(c);0<a[0]&&(g[c]=a[0]*e+a[1])}),g}});a.fn.extend({effect:function(){function c(b){function c(){l.removeData("ui-effects-animated");a.effects.cleanUp(l);"hide"===d.mode&&l.hide();f()}function f(){a.isFunction(q)&&q.call(l[0]);a.isFunction(b)&&b()}var l=a(this);d.mode=u.shift();!1===a.uiBackCompat||g?"none"===d.mode?(l[v](),f()):e.call(l[0],d,c):(l.is(":hidden")?"hide"===v:"show"===v)?(l[v](),
f()):e.call(l[0],d,f)}var d=b.apply(this,arguments),e=a.effects.effect[d.effect],g=e.mode,f=d.queue,p=f||"fx",q=d.complete,v=d.mode,u=[],w=function(b){var c=a(this),f=a.effects.mode(c,v)||g;c.data("ui-effects-animated",!0);u.push(f);g&&("show"===f||f===g&&"hide"===f)&&c.show();g&&"none"===f||a.effects.saveStyle(c);a.isFunction(b)&&b()};return a.fx.off||!e?v?this[v](d.duration,q):this.each(function(){q&&q.call(this)}):!1===f?this.each(w).each(c):this.queue(p,w).queue(p,c)},show:function(a){return function(c){if(e(c))return a.apply(this,
arguments);var d=b.apply(this,arguments);return d.mode="show",this.effect.call(this,d)}}(a.fn.show),hide:function(a){return function(c){if(e(c))return a.apply(this,arguments);var d=b.apply(this,arguments);return d.mode="hide",this.effect.call(this,d)}}(a.fn.hide),toggle:function(a){return function(c){if(e(c)||"boolean"==typeof c)return a.apply(this,arguments);var d=b.apply(this,arguments);return d.mode="toggle",this.effect.call(this,d)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em",
"px","%","pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])}),d},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):d(this.css("clip"),this)},transfer:function(b,d){var c=a(this),g=a(b.to),f="fixed"===g.css("position"),e=a("body"),l=f?e.scrollTop():0;e=f?e.scrollLeft():0;var v=g.offset();g={top:v.top-l,left:v.left-e,height:g.innerHeight(),width:g.innerWidth()};v=c.offset();var u=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:v.top-
l,left:v.left-e,height:c.innerHeight(),width:c.innerWidth(),position:f?"fixed":"absolute"}).animate(g,b.duration,b.easing,function(){u.remove();a.isFunction(d)&&d()})}});a.fx.step.clip=function(b){b.clipInit||(b.start=a(b.elem).cssClip(),"string"==typeof b.end&&(b.end=d(b.end,b.elem)),b.clipInit=!0);a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-
b.start.left)+b.start.left})}})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,d){b[d]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;((b=Math.pow(2,--c))-1)/11>a;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*
b-2)/22-a,2)}});a.each(b,function(b,d){a.easing["easeIn"+b]=d;a.easing["easeOut"+b]=function(a){return 1-d(1-a)};a.easing["easeInOut"+b]=function(a){return.5>a?d(2*a)/2:1-d(-2*a+2)/2}})})();a.effects.define("blind","hide",function(b,e){var d={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},c=a(this),l=b.direction||"up",m=c.cssClip(),g={clip:a.extend({},m)},f=a.effects.createPlaceholder(c);g.clip[d[l][0]]=
g.clip[d[l][1]];"show"===b.mode&&(c.cssClip(g.clip),f&&f.css(a.effects.clipToBox(g)),g.clip=m);f&&f.animate(a.effects.clipToBox(g),b.duration,b.easing);c.animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:e})});a.effects.define("bounce",function(b,e){var d,c=a(this),l=b.mode,m="hide"===l;l="show"===l;var g=b.direction||"up";var f=b.distance,p=b.times||5,q=2*p+(l||m?1:0),v=b.duration/q;b=b.easing;var u="up"===g||"down"===g?"top":"left",w="up"===g||"left"===g,C=0,z=c.queue().length;a.effects.createPlaceholder(c);
g=c.css(u);f||(f=c["top"===u?"outerHeight":"outerWidth"]()/3);l&&(d={opacity:1},d[u]=g,c.css("opacity",0).css(u,w?2*-f:2*f).animate(d,v,b));m&&(f/=Math.pow(2,p-1));d={};for(d[u]=g;p>C;C++){var x={};x[u]=(w?"-=":"+=")+f;c.animate(x,v,b).animate(d,v,b);f=m?2*f:f/2}m&&(x={opacity:0},x[u]=(w?"-=":"+=")+f,c.animate(x,v,b));c.queue(e);a.effects.unshift(c,z,q+1)});a.effects.define("clip","hide",function(b,e){var d={},c=a(this);var l=b.direction||"vertical";var m="both"===l,g=m||"horizontal"===l;m=m||"vertical"===
l;l=c.cssClip();d.clip={top:m?(l.bottom-l.top)/2:l.top,right:g?(l.right-l.left)/2:l.right,bottom:m?(l.bottom-l.top)/2:l.bottom,left:g?(l.right-l.left)/2:l.left};a.effects.createPlaceholder(c);"show"===b.mode&&(c.cssClip(d.clip),d.clip=l);c.animate(d,{queue:!1,duration:b.duration,easing:b.easing,complete:e})});a.effects.define("drop","hide",function(b,e){var d=a(this),c="show"===b.mode;var l=b.direction||"left";var m="up"===l||"down"===l?"top":"left",g="up"===l||"left"===l?"-=":"+=",f="+="===g?"-=":
"+=",p={opacity:0};a.effects.createPlaceholder(d);l=b.distance||d["top"===m?"outerHeight":"outerWidth"](!0)/2;p[m]=g+l;c&&(d.css(p),p[m]=f+l,p.opacity=1);d.animate(p,{queue:!1,duration:b.duration,easing:b.easing,complete:e})});a.effects.define("explode","hide",function(b,e){function d(){w.push(this);w.length===m*g&&(f.css({visibility:"visible"}),a(w).remove(),e())}var c,l,m=b.pieces?Math.round(Math.sqrt(b.pieces)):3,g=m,f=a(this),p="show"===b.mode,q=f.show().css("visibility","hidden").offset(),v=
Math.ceil(f.outerWidth()/g),u=Math.ceil(f.outerHeight()/m),w=[];for(c=0;m>c;c++){var C=q.top+c*u;var z=c-(m-1)/2;for(l=0;g>l;l++){var x=q.left+l*v;var y=l-(g-1)/2;f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-l*v,top:-c*u}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:u,left:x+(p?y*v:0),top:C+(p?z*u:0),opacity:p?0:1}).animate({left:x+(p?0:y*v),top:C+(p?0:z*u),opacity:p?1:0},b.duration||500,b.easing,
d)}}});a.effects.define("fade","toggle",function(b,e){var d="show"===b.mode;a(this).css("opacity",d?0:1).animate({opacity:d?1:0},{queue:!1,duration:b.duration,easing:b.easing,complete:e})});a.effects.define("fold","hide",function(b,e){var d=a(this),c=b.mode,l="show"===c;c="hide"===c;var m=b.size||15,g=/([0-9]+)%/.exec(m),f=b.horizFirst?["right","bottom"]:["bottom","right"],p=b.duration/2,q=a.effects.createPlaceholder(d),v=d.cssClip(),u={clip:a.extend({},v)},w={clip:a.extend({},v)},C=[v[f[0]],v[f[1]]],
z=d.queue().length;g&&(m=parseInt(g[1],10)/100*C[c?0:1]);u.clip[f[0]]=m;w.clip[f[0]]=m;w.clip[f[1]]=0;l&&(d.cssClip(w.clip),q&&q.css(a.effects.clipToBox(w)),w.clip=v);d.queue(function(c){q&&q.animate(a.effects.clipToBox(u),p,b.easing).animate(a.effects.clipToBox(w),p,b.easing);c()}).animate(u,p,b.easing).animate(w,p,b.easing).queue(e);a.effects.unshift(d,z,4)});a.effects.define("highlight","show",function(b,e){var d=a(this),c={backgroundColor:d.css("backgroundColor")};"hide"===b.mode&&(c.opacity=
0);a.effects.saveStyle(d);d.css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(c,{queue:!1,duration:b.duration,easing:b.easing,complete:e})});a.effects.define("size",function(b,e){var d,c,l=a(this),m=["fontSize"],g=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=b.mode,q="effect"!==p,v=b.scale||"both",u=b.origin||["middle","center"],w=l.css("position"),C=l.position(),z=a.effects.scaledDimensions(l),
x=b.from||z,y=b.to||a.effects.scaledDimensions(l,0);a.effects.createPlaceholder(l);"show"===p&&(c=x,x=y,y=c);var A={y:x.height/z.height,x:x.width/z.width};var D={y:y.height/z.height,x:y.width/z.width};("box"===v||"both"===v)&&(A.y!==D.y&&(x=a.effects.setTransition(l,g,A.y,x),y=a.effects.setTransition(l,g,D.y,y)),A.x!==D.x&&(x=a.effects.setTransition(l,f,A.x,x),y=a.effects.setTransition(l,f,D.x,y)));("content"===v||"both"===v)&&A.y!==D.y&&(x=a.effects.setTransition(l,m,A.y,x),y=a.effects.setTransition(l,
m,D.y,y));u&&(d=a.effects.getBaseline(u,z),x.top=(z.outerHeight-x.outerHeight)*d.y+C.top,x.left=(z.outerWidth-x.outerWidth)*d.x+C.left,y.top=(z.outerHeight-y.outerHeight)*d.y+C.top,y.left=(z.outerWidth-y.outerWidth)*d.x+C.left);l.css(x);"content"!==v&&"both"!==v||(g=g.concat(["marginTop","marginBottom"]).concat(m),f=f.concat(["marginLeft","marginRight"]),l.find("*[width]").each(function(){var c=a(this),d=a.effects.scaledDimensions(c),e={height:d.height*A.y,width:d.width*A.x,outerHeight:d.outerHeight*
A.y,outerWidth:d.outerWidth*A.x};d={height:d.height*D.y,width:d.width*D.x,outerHeight:d.height*D.y,outerWidth:d.width*D.x};A.y!==D.y&&(e=a.effects.setTransition(c,g,A.y,e),d=a.effects.setTransition(c,g,D.y,d));A.x!==D.x&&(e=a.effects.setTransition(c,f,A.x,e),d=a.effects.setTransition(c,f,D.x,d));q&&a.effects.saveStyle(c);c.css(e);c.animate(d,b.duration,b.easing,function(){q&&a.effects.restoreStyle(c)})}));l.animate(y,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){var b=l.offset();
0===y.opacity&&l.css("opacity",x.opacity);q||(l.css("position","static"===w?"relative":w).offset(b),a.effects.saveStyle(l));e()}})});a.effects.define("scale",function(b,e){var d=a(this),c=b.mode;c=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"effect"!==c?0:100);d=a.extend(!0,{from:a.effects.scaledDimensions(d),to:a.effects.scaledDimensions(d,c,b.direction||"both"),origin:b.origin||["middle","center"]},b);b.fade&&(d.from.opacity=1,d.to.opacity=0);a.effects.effect.size.call(this,d,e)});a.effects.define("puff",
"hide",function(b,e){b=a.extend(!0,{},b,{fade:!0,percent:parseInt(b.percent,10)||150});a.effects.effect.scale.call(this,b,e)});a.effects.define("pulsate","show",function(b,e){var d=a(this),c=b.mode,l="show"===c;c=2*(b.times||5)+(l||"hide"===c?1:0);var m=b.duration/c,g=0,f=1,p=d.queue().length;for((l||!d.is(":visible"))&&(d.css("opacity",0).show(),g=1);c>f;f++)d.animate({opacity:g},m,b.easing),g=1-g;d.animate({opacity:g},m,b.easing);d.queue(e);a.effects.unshift(d,p,c+1)});a.effects.define("shake",
function(b,e){var d=1,c=a(this),l=b.direction||"left",m=b.distance||20,g=b.times||3,f=2*g+1,p=Math.round(b.duration/f),q="up"===l||"down"===l?"top":"left";l="up"===l||"left"===l;var v={},u={},w={},C=c.queue().length;a.effects.createPlaceholder(c);v[q]=(l?"-=":"+=")+m;u[q]=(l?"+=":"-=")+2*m;w[q]=(l?"-=":"+=")+2*m;for(c.animate(v,p,b.easing);g>d;d++)c.animate(u,p,b.easing).animate(w,p,b.easing);c.animate(u,p,b.easing).animate(v,p/2,b.easing).queue(e);a.effects.unshift(c,C,f+1)});a.effects.define("slide",
"show",function(b,e){var d=a(this),c={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},l=b.mode,m=b.direction||"left",g="up"===m||"down"===m?"top":"left",f="up"===m||"left"===m,p=b.distance||d["top"===g?"outerHeight":"outerWidth"](!0),q={};a.effects.createPlaceholder(d);var v=d.cssClip();var u=d.position()[g];q[g]=(f?-1:1)*p+u;q.clip=d.cssClip();q.clip[c[m][1]]=q.clip[c[m][0]];"show"===l&&(d.cssClip(q.clip),d.css(g,q[g]),q.clip=v,q[g]=u);d.animate(q,{queue:!1,
duration:b.duration,easing:b.easing,complete:e})});!1!==a.uiBackCompat&&a.effects.define("transfer",function(b,e){a(this).transfer(b,e)})});
var browser={init:function(){this.id=this.searchString(this.dataBrowser)||"An unknown browser";this[this.id]=!0;this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";this.lang=navigator.userLanguage||navigator.language||navigator.language||"en"},searchString:function(a){for(var b=0;b<a.length;b++){var e=a[b].string,d=a[b].prop;this.versionSearchString=a[b].versionSearch||a[b].identity;
if(e){if(-1!=e.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"ie",versionSearch:"Edge"},{string:navigator.userAgent,prop:window.opera,subString:"OPR",identity:"op",versionSearch:"OPR"},{string:navigator.userAgent,subString:"Chrome",versionSearch:"Chrome",identity:"gc"},
{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"ow"},{string:navigator.vendor,subString:"Apple",identity:"sf",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",versionSearch:"iCab",identity:"ic"},{string:navigator.vendor,subString:"KDE",versionSearch:"Konqueror",identity:"kq"},{string:navigator.userAgent,subString:"Firefox",versionSearch:"Firefox",identity:"ff"},{string:navigator.vendor,subString:"Camino",versionSearch:"Camino",identity:"cn"},{string:navigator.userAgent,
subString:"Netscape",versionSearch:"Netscape",identity:"ns"},{string:navigator.userAgent,subString:"MSIE",identity:"ie",versionSearch:"MSIE"},{string:navigator.userAgent,subString:".NET",identity:"ie",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"mz",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"mz",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",
identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};browser.init();
$(function(){$(document.body).addClass(browser.id);$(document.body).addClass(browser.id+browser.version);browser.key={isDigit:function(a){return 48<=a&&57>=a},BACKSPACE:8,TAB:9,DELETE:46,isArrows:function(a){return 37<=a&&40>=a||96<=a&&105>=a},is:function(a,b){return a.charCodeAt(0)==b},NUM_MINUS:109,MINUS:browser.ff?173:189,NUM_POINT:110,POINT:190,isReturn:function(a){return 10==a||13==a}};browser.event_capture=$("<div></div>")[0].setCapture});var bm={cache:{}};
window.console&&window.console.log||((window.console||(window.console={})).log=function(a){var b=$(".log-container");b.length||(b=$("<div class='log-container'></div>").appendTo(document.body));b.append($("<div class='log-entry'></div>").append(""+a))});window.log=function(){Function.prototype.apply.call(console.log,console,arguments)};console.dir||(console.dir=console.log);window.dir=function(){Function.prototype.apply.call(console.dir,console,arguments)};
function QueueManager(a,b,e){function d(){for(m=null;this.hasFreeSlot()&&l.length;){var a=this.pop();e?(g.inc(),setTimeout(function(){b(a);g.dec()},1)):b(a)}l.length&&(m=setTimeout($.proxy(d,this),1E3))}var c=0,l=[],m,g={push:function(a,b){b?l.unshift(a):l.push(a);this.hasFreeSlot()?e&&d():m||(m=setTimeout($.proxy(d,this),1E3))},pop:function(){return l.shift()},inc:function(){c++},dec:function(){c--},hasFreeSlot:function(){return c<a},index:function(a){var b=null;$.each(l,function(c){if(a.call(this,
c))return b=c,!1});return b},top:function(a){if(l.length>a&&0<=a){var b=l[a];l.splice(a,1);l.unshift(b)}},remove:function(a){$.each(l,function(b){if(a.call(this,b))return l.splice(b,1),!1})},clear:function(){m&&clearTimeout(m);l=[]}};if(this instanceof QueueManager)$.extend(this,g);else return g}bm.ajax_queue_manager=QueueManager(30,function(a){bm.ajax_queue_manager.inc();a=a.settings;var b=$.ajax(a);bm.chainDeffereds(b,a.deferred_interceptor)});function CacheManager(){this.cache={}}
CacheManager.prototype={get:function(a){var b=this.cache[a];if(b)if(b.duration&&Date.now().getTime()-b.time>b.duration)delete this.cache[a];else return b.entry},set:function(a,b,e){this.cache[a]={duration:b,entry:e,time:Date.now().getTime()}}};bm.ajax_cache_manager=new CacheManager;bm.show_response_status=!0;window.on_login_call_queue=[];
$.extend(bm,{_modified_ajax_settings:function(a){function b(){a.deferred_interceptor=$.Deferred();a.deferred_interceptor.done(function(b){if(!window.inline_login_displaying){var c=Array.prototype.slice.call(arguments);c.push(a);"json"==a.dataType&&"error"==b.status?a.consumer_deferred.reject.apply(a.consumer_deferred,c):a.consumer_deferred.resolve.apply(a.consumer_deferred,c)}}).fail(function(){if(!window.inline_login_displaying){var b=Array.prototype.slice.call(arguments),d=b[0].responseText;"json"==
a.dataType&&(d=404==b[0].status?{error:!0,message:$.i18n.prop("expected.resource.not.found"),code:"404"}:200==b[0].status?{error:!0,message:$.i18n.prop("server.response.unrecongnized"),code:"500"}:d?JSON.parse(d):{error:!0,message:$.i18n.prop("error.occurred.in.server"),code:"500"});b[2]=d;b.push(a);a.consumer_deferred.reject.apply(a.consumer_deferred,b)}}).progress(function(){var b=Array.prototype.slice.call(arguments);b.push(a);a.consumer_deferred.notify.apply(a.consumer_deferred,b)})}a=$.extend({traditional:!0,
show_response_status:bm.show_response_status,show_error_status:!0,show_success_status:!0,dataType:"json",type:a.type||(a.data?"post":"get")},a);a.fill&&(a.dataType="html");var e=a.error,d=a.success;a.error=function(c,d){function l(a){try{return JSON.parse(a)}catch(q){return{status:"error",message:a,code:c.status}}}if(310==c.status){if("json"==a.dataType){var g=l(c.responseText);window.location.href=g.url}else window.location.href=c.responseText;throw $.error("Redirect Action Processing");}403==c.status&&
("json"==a.dataType?(g=l(c.responseText),g=g.message):g=c.responseText,bm.notify(g,"error"));g=c.responseText;a.fill&&(!1!==a.loader&&a.fill.loader(!1),app.production||a.fill.html(g),delete a.fill.nat.filling_xhr);if(401==c.status){if("json"==a.dataType&&(g=JSON.parse(g).login_html),a.on_login&&window.on_login_call_queue.push(function(){b();a.on_login()}),!window.inline_login_displaying){d=window.inline_login_displaying=!0;var f={content:g};app.is_front_end&&(app.edit_mode?f={ajax_url:app.baseUrl+
"page/embeddedLogin",title:null}:(d=!1,bm.alert($.i18n.prop("your.session.timed.out"),"time-out",function(){location.href=app.baseUrl+"customer/login?referer="+location.href})));d&&($(g).find("input[name=email]").val(app.login_email).prop("disabled",!0),bm.embeddedLogin(f,function(){window.on_login_call_queue.every(function(){this.call(window)});window.on_login_call_queue=[];window.inline_login_displaying=!1}))}}else"json"==a.dataType?(200==c.status?(g=$.i18n.prop("server.response.unrecongnized"),
g={status:"error",code:"500",message:g}):g=g?l(g):{status:"error",code:"500"},a.response&&a.response.apply(this,["error",g,d,c]),a.show_response_status&&a.show_error_status&&g.message&&bm.notify(g.message,g.status)):a.response&&a.response.apply(this,["error",g,d,c]),e&&e.apply(this,[c,d,g])};a.success=function(b,l,m){a.response&&a.response.apply(this,["json"==a.dataType&&"error"==b.status?"error":"success",b,l,m]);"json"==a.dataType&&a.show_response_status&&b.message&&("error"==b.status&&a.show_error_status||
a.show_success_status)&&bm.notify(b.message,b.status);if("json"==a.dataType&&"error"==b.status)e&&e.apply(this,[m,l,b]);else{if(a.fill){!1!==a.loader&&a.fill.loader(!1);delete a.fill.nat.filling_xhr;a.fill.html(b).updateUi();if(a.processor)if(a.processor.isString){if(a.processor.contains(":")){var c=a.processor.split(":");var f=c[0];var p=c[1]}else p=f=a.processor;bm.onReady(app.processors,p,{ready:function(){app.processors[p](a.fill)},not:function(){bm.loadScript(app.base+"js/app/processors/"+(f||
p)+".js")}})}else $.isFunction(a.processor)&&a.processor(a.fill);bm.handleUrlNavigation(a.url||a.controller+"/"+a.action,a.fill)}d&&d.apply(this,[b,l,m])}};b();return a},addScript:function(a,b){var e=$("head"),d=document.createElement("script");d.setAttribute("type","text/javascript");a.startsWith("http")||a.startsWith("/")||(a=app.baseUrl+a);d.setAttribute("src",a);b&&d.setAttribute("async","");e[0].appendChild(d)},addStyle:function(a){var b=$("head"),e=document.createElement("link");e.setAttribute("rel",
"stylesheet");e.setAttribute("type","text/css");e.setAttribute("href",app.baseUrl+a);b[0].appendChild(e)},ajax:function(a){var b=a.response;a.response=function(){bm.ajax_queue_manager.dec();b&&b.apply(this,arguments)};a=bm._modified_ajax_settings(a);if(a.cache_flag||a.cache_duration){var e=a.cache_flag;e||(e=a.url,a.data&&(e+="?"+$.param(a.data)));if(e=bm.ajax_cache_manager.get(e)){var d=$.Deferred();e.done(function(c,g,e){a.response=b;a.success&&a.success.call(a,c,g);a.complete&&a.complete.call(a,
{status:e.status,responseText:e.responseText},g);d.resolve(c,g)});e.fail(function(c,g){a.response=b;c={status:c.status,responseText:c.responseText};a.error&&a.error.call(a,c,g);a.complete&&a.complete.call(a,c,g);d.reject(c,g)});return d}}if(a.cache_flag||a.cache_duration){var c=$.Deferred();var l=a.cache_duration;e=a.cache_flag;e||(e=a.url,a.data&&(e+="?"+$.param(a.data)));l||(l=400);-1==l&&(l=void 0);bm.ajax_cache_manager.set(e,l,c)}var m=bm.getUUID();bm.ajax_queue_manager.push({id:m,settings:a});
if(!bm.ajax_queue_manager.hasFreeSlot())return e=c||$.Deferred(),a.consumer_deferred=$.extend(e,{aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){bm.ajax_queue_manager.remove(function(){return this.id==m})}}),a.consumer_deferred;e=bm.ajax_queue_manager.pop();bm.ajax_queue_manager.inc();a=e.settings;(browser.ie||browser.ed)&&a.type.toLowerCase().equals("get",!1)&&(a.data?
a.data._=Date.now():a.data={_:Date.now()});a.on_login=function(){g=a.url?$.ajax(a):$.ajax(app.baseUrl+a.controller+"/"+(a.action||"index"),a);bm.chainDeffereds(g,a.deferred_interceptor)};a.consumer_deferred=$.Deferred();a.fill&&a.fill.isString&&(a.fill=$(a.fill));a.beforeAjax&&a.beforeAjax(a);var g=a.url?$.ajax(a):$.ajax(app.baseUrl+a.controller+"/"+(a.action||"index"),a);a.fill&&(a.fill.nat.filling_xhr&&a.fill.nat.filling_xhr.abort(),a.fill.nat.filling_xhr=g,a.fill.one("remove.xhr",function(){g.abort()}),
g.always(function(){a.fill.off("remove.xhr")}),!1!==a.loader&&a.fill.loader());bm.chainDeffereds(g,a.deferred_interceptor);c&&bm.chainDeffereds(a.consumer_deferred,c);g.success=function(b){a.consumer_deferred.done(b);return g};g.error=function(b){a.consumer_deferred.fail(b);return g};g.complete=function(b){a.consumer_deferred.always(b);return g};return $.extend({},g,a.consumer_deferred)},autoType:function(a){return"{}"==a?{}:"[]"==a?[]:/^\[("[^"]+"[^=:]|\d+)/.test(a)||/^({|\[{)"[^"]+":/.test(a)?JSON.parse(a):
/^\s*-?\d+(\.\d*)?\s*$/.test(a)?+a:/^\s*(true|yes|on)\s*$/.test(a)?!0:/^\s*(false|no|off)\s*$/.test(a)?!1:a},baseUrl:window.app&&app.baseUrl||"/",buildQuery:function(a){var b=!0,e="";$.each(a,function(a,c){b?b=!1:e+="&";e+=a+"="+encodeURIComponent(c)});return e},center:function(a,b,e){var d=$(window).height();a=$(window).width()/2-a/2;b=d/2-b/2;e||(e=$(window).scrollTop(),d=$(window).scrollLeft(),a+=d,b+=e);return{left:Math.max(20,a),top:Math.max(20,b)}},chainDeffereds:function(a,b){a.done(b.resolve).fail(b.reject).progress(b.notify)},
collect:function(a,b){var e=[];$.isFunction(b)?$.each(a,function(a,c){e.push(b.call(c,a,c))}):$.each(b,function(){e.push(a[this])});return e},convertMilliToHMS:function(a){var b=Math.floor(a/36E5);a-=36E5*b;var e=Math.floor(a/6E4);return b+"h "+e+"m "+(a-6E4*e)/1E3+"s"},creteCookie:function(a,b,e,d,c){a=a+"="+b+"";e&&(!e instanceof Date&&(e=new Date((new Date).getTime()+864E5*parseInt(e))),a+="expires="+e.gmtString()+"");d&&(a+="path="+d+"");c&&(a+="domain="+c+"");document.cookie=a},download:function(a){var b=
$.find("iframe#dynamic-download-iframe");0==b.length?(b=$('<iframe id="dynamic-download-iframe">'),b.appendTo("body"),b.css({position:"absolute",left:"-10000px",top:"-10000px"}),b.attr("src",a)):$(b).attr("src",a)},dumpInForm:function(a,b){for(var e in b){var d=a.find("[name='"+e+"']"),c=b[e]||[];c=c.isString?[c]:c.clone();var l=$();d.each(function(){var a=this.jqObject;if(a.is(":text")||a.is("textarea"))c.length?a.val(c.shift()):a.val("");else if(a.is("select[multiple]"))a.find("option:selected").prop("selected",
!1),a.find("option").each(function(){c.contains(this.value)&&(this.selected=!0,c.remove(this.value))}),a.select("refresh");else if(a.is("select"))if(c.length)a.select("val",c.shift());else{var b=a.find("option:first").val();a.select("val",b)}else a.is(":radio")?l&&(c.contains(this.value)?(a.prop("checked",!0),l=null,c.remove(this.value)):l=l.add(a)):a.is(":checkbox")&&(c.contains(this.value)?(a.prop("checked",!0),c.remove(this.value)):(a.prop("checked",!1),(a=a.attr("data-uncheck-value"))&&c.contains(a)&&
c.remove(a)))});l&&l.filter("[checked]").prop("checked",!0);c.every(function(){a.append("<input type='hidden'>".jqObject.attr("name",e).val(this))})}},dumpInMemory:function(a){return a.serializeObject()},encodePath:function(a){return a.replace(/%/g,"%25").replace(/ /g,"%20").replace(/#/g,"%23")},embeddedLogin:function(a,b){return new POPUP($.extend({clazz:"login-popup",title:$.i18n.prop("session.timed.out"),show_close:!1,close_on_escape:!1,is_always_up:!0,events:{content_loaded:function(a){var d=
this.find("form");app.login_email&&(d.find("input[name=email]").prop("disabled",!0).val(app.login_email),d.append('<input type="hidden" name="email" value="'+app.login_email+'">'),d.find(".not-admin").html($.i18n.prop("not.x.operator",["<span class='user'>"+app.login_email+"</span>"])));d.form({ajax:{success:function(c){"error"==c.status?bm.notify($.i18n.prop("invalid.email.password"),"alert"):(a.close(),b(c))},error:function(){bm.notify($.i18n.prop("invalid.email.password"),"alert")}}})}}},a))},
equal:function(a,b){var e=function(a,b){var c=!0;$.each(a,function(a,d){c=bm.equal(d,b[a]);if(!c)return!1});return c};return a?$.isFunction(a.equals)?a.equals(b):$.isArray(a)||a instanceof $?$.isArray(b)||b instanceof $?a.length==b.length?e(a,b):!1:!1:$.isPlainObject(a)?$.isPlainObject(b)?e(a,b):!1:a==b:b?!1:!0},fileExtension:function(a){var b=a.lastIndexOf(".");return 0<b?a.substring(b+1):""},filter:function(a,b){var e={};$.each(a,function(a,c){b(a,c)&&(e[a]=c)});return e},filterOwnProperties:function(a){var b=
{};for(key in a)a.hasOwnProperty(key)&&(b[key]=a[key]);return b},getAbsoluteURL:function(a){var b=location.port;return location.host+bm.baseUrl+(b?":"+b:"")+a},getBaseURLProtocol:function(){return location.protocol},getCookie:function(a){a=(new RegExp("(?:^"+a+"|s*"+a+")=(.*?)(?:|$)","g")).exec(document.cookie);return null===a?null:a[1]},getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16).toUpperCase()})},
handleUrlNavigation:function(a,b){var e;a.startsWith(app.base)&&(a=a.substring(app.base.length));Object.keys(app.routes||{}).revery(function(){if(e=a.match(new RegExp(this)))return d=app.routes[this],!1});if(d)if(d.isString){if(e.shift(),e.every(function(a,b){d=d.replace("{"+a+"}",b)}),app.processors&&$.isFunction(app.processors[d]))app.processors[d](b)}else if($.isFunction(d))d(b);else{e.shift();var d=$.extend({},d);$.each(d,function(a,b){e.every(function(a,c){b=b.replace("{"+(a+1)+"}",c)});d[a]=
b});if(d.controller&&d.action){var c=d.controller.capitalize()+"Controller";if(app.controllers[c]&&app.controllers[c].prototype[d.action])(new app.controllers[c])[d.action](b,d)}}},hash:function(a){var b=function(a){var b=0;$.each(a,function(a,d){b+=bm.hash(a);b+=bm.hash(d)});return b};return!a||$.isFunction(a)?0:$.isFunction(a.hash)?a.hash():$.isArray(a)||$.isPlainObject(a)?b(a):(""+a).hash()},htmlEncode:function(a){return(""+a).htmlEncode()},i18n:function(a,b){return $.i18n.prop(a,b)},intersect:function(a,
b){var e=a.right-a.left+b.right-b.left-(a.right>b.right?a.right:b.right)+(a.left<b.left?a.left:b.left);if(0>=e)return 0;e=e/(b.right-b.left)*100;a=a.bottom-a.top+b.bottom-b.top-(a.bottom>b.bottom?a.bottom:b.bottom)+(a.top<b.top?a.top:b.top);if(0>=a)return 0;a=a/(b.bottom-b.top)*100;return e<a?e:a},isOverAxis:function(a,b,e){return a>=b&&a<=b+e},isString:function(a){return a instanceof String||"string"==typeof a},iterate:function(a,b){var e=[];$.each(a,function(a){e.push(a)});e.iterate(function(d){b.call(a[this],
d,this)})},jquerify:function(a,b,e){e||(e={});var d=a.camelCase(!1);window.jquery_conflict_prefix&&(d=window.jquery_conflict_prefix+d);var c=b.prototype.destroy,l=function(){this.elm.tag("bmui-"+a+"-obj",void 0);this.elm.trigger(a+"-uninitialized")};c=c?c.blend(l):l;b.prototype.destroy=c;$.prototype[d]=function(c){if(!this.length)return"inst"==c?null:"isInitialized"==c?!1:this;if(c&&c.isString){var d=void 0,f=function(){var b=this.tag("bmui-"+a+"-obj");if("inst"==c)return b;if(b){if("isInitialized"==
c)return!0;if("option"==c){if(2==arguments.length)return $.isFunction(b._getOption)?b._getOption(arguments[1]):b.options[arguments[1]];$.isFunction(b._setOption)?b._setOption(arguments[1],arguments[2]):bm.prop(b.options,arguments[1],arguments[2]);return this}"extendObjElement"==c&&arguments[1].tag("bmui-"+a+"-obj",b);"removeObjElement"==c&&arguments[1].tag("bmui-"+a+"-obj",void 0);if(!$.isFunction(b[c])||c.startsWith("_"))throw Error("Undefined function "+c);return b[c].apply(b,Array.prototype.splice.call(arguments,
1))}if("isInitialized"==c)return!1;throw $.error("Function is called prior to initialization");},l=Array.prototype.splice.call(arguments,0);this.each(function(){var a=f.apply(this.jqObject,l);if(void 0!==a)return d=a,!1});return void 0===d?this:d}var m=function(){var d=$.extend({},c,this.config(e.markup_config_key||a)),f=new b(this,d);f.elm=this;f.options||(f.options=d);this.tag("bmui-"+a+"-obj",f);this.trigger(a+"-initialized")};1<this.length&&!e.common_for_multi_element?this.each(function(){m.call($(this))}):
m.call(this);return this};b.prototype.trigger||(b.prototype.trigger=function(){Array.prototype.unshift.call(arguments,a);bm.trigger.apply(this,arguments)})},keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},positionReference:function(a){var b=0,e=a.acss("left"),d=a.acss("right"),c=a.acss("top"),l=a.acss("bottom");"auto"==e?"auto"!=d&&(b=1):"auto"!=d&&(b=2);"auto"==c?"auto"!=l&&(b+=3):"auto"!=
l&&(b+=6);"static"==a.css("position")&&(5<b?b-=6:0==(b+1)%3&&(b-=2));return b},omit:function(a,b,e){var d={},c;for(c in a)b.contains(c)||e&&$.isFunction(d[c])||(d[c]=a[c]);return d},onReady:function(a,b,e,d){"undefined"==typeof d&&(d=10);0<d?"undefined"==typeof a[b]?($.isPlainObject(e)&&e.not&&(e=$.extend({},e),e.not.call(a),e.not=void 0),setTimeout(function(){bm.onReady(a,b,e,--d)},2E3)):($.isPlainObject(e)?e.ready:e).call(a[b]):$.isPlainObject(e)&&e.fail&&e.fail.call(a)},path:function(a){var b=
a.split(/[\\\/]/),e;if(!b.length)return{};b[0].endsWith(":")&&(e=b[0].substring(0,b[0].length-1));var d=b[b.length-1];a=d.indexOf("?");if(-1<a){var c=d.substring(a+1);d=d.substring(0,a)}a=c||d;var l=a.indexOf("#");-1<l&&c&&(c=a.substring(0,l));a=-1<l?a.substring(l+1):null;var m=d.lastIndexOf(".");l=-1<m?d.substring(m+1):null;d=-1<m?d.substring(0,m):d;c=c?bm.query(c):{};var g,f=e||2<b.length&&""==b[0]&&""==b[1];return g={host:f?b[2]:null,protocol:e,full:function(){var a=g.protocol?g.protocol+"://":
"";a+=g.host?(a?"":"//")+g.host+"/":"";var c=b.slice(f?3:0,b.length-1);a=a+(c.length?c.join("/")+"/":"")+g.file_name();c=$.param(g.query);return a+(c?"?"+c:"")+(g.fragmentPart?"#"+g.fragmentPart:"")},name:d,file_name:function(){return this.name+(this.ext?"."+this.ext:"")},ext:l,query:c,fragment:a}},pick:function(a,b){var e={},d;for(d in a)b.contains(d)&&(e[d]=a[d]);return e},prop:function(a,b,e){for(var d=b.split(/\./),c=3==arguments.length,l=0;l<d.length-1;l++){var m=""+d[l];if(!(m in a))if(c)a[m]=
{};else return;a=a[m];if("object"!=typeof a)return}if(void 0==e)return a[d[d.length-1]];a[d[d.length-1]]=e},query:function(a){var b={};a=decodeURIComponent(a);a=a.split("&");$(a).each(function(e){e=a[e].split("=");e[1]=e[1].replace(/\+/g," ");void 0==b[e[0]]?b[e[0]]=e[1]:$.isArray(b[e[0]])?b[e[0]].push(e[1]):b[e[0]]=[b[e[0]],e[1]]});return b},queryParams:function(a){a=(new RegExp("[?&]"+a+"=([^&#]*)")).exec(window.location.href);return null==a?null:a[1]||0},removeAll:function(a,b){var e;for(e in a){var d=
!1;for(var c in b)if(e==c){d=!0;break}d&&delete a[e]}},serializeMix:function(a,b){var e={};$.each(a,function(a,c){"undefined"==typeof b[a]?e[a]=c:$.isArray(c)?e[a]=c.concat(b[a]):$.isArray(b[a])?e[a]=b[a].concat(c):e[a]=[c,b[a]]});$.each(b,function(a,b){"undefined"==typeof e[a]&&(e[a]=b)});return e},saveSiteConfig:function(a,b,e){var d={type:[]};$.each(a,function(a,b){d.type.push(a);$.each(b,function(b,c){d[a+"."+b]=c})});bm.ajax({url:app.baseUrl+"setting/saveConfigurations",data:d,show_response_status:!1,
success:b,error:e})},synchronized:function(a,b){b||(b="skip-if-loaded");if("queue-if-loaded"==b){var e=new QueueManager(1,function(b){a.apply(window,b)},!0);return function(){e.push(arguments)}}if("skip-if-loaded"==b){var d=!1;return function(){if(!d){var b=arguments;d=!0;setTimeout(function(){a.apply(window,b);d=!1},1)}}}return function(){}},template:function(a,b){if(!b)return a;for(var e=b.length,d=0;d<e;d++)a=a.replaceAll("{"+d+"}",b[d]);return a},trigger:function(a,b,e,d,c){if(b instanceof $)return bm.trigger.call(a,
b,e,d,c);var l;$.isArray(d)||(d=[d]);a.isString&&(d=e,e=b,b=a,a=this.elm);$.isFunction(this["on"+e.capitalize()])&&(l=this["on"+e.capitalize()].apply(this,d));if(!1===l)return!1;if(this.options){if(this.options.events?$.isFunction(this.options.events[e])&&(l=this.options.events[e].apply(this,d)):$.isFunction(this.options[e])&&(l=this.options[e].apply(this,d)),!1===l)return!1}else if(this.events&&($.isFunction(this.events[e])&&(l=this.events[e].apply(this,d)),!1===l))return!1;return a.trigger(b+":"+
e,d)},editInlineText:function(a){var b=$.Deferred(),e=a.text().trim(),d=a.parents(".editable").addClass("active");a.html("<input type='text' class='inline-edit-input'><span class='tool-icon reset' tabindex='0'></span>");a.find(".reset").on("mousedown",function(){a.text(e);b.reject();d.removeClass("active")});var c=a.find("input").on("blur keydown.key_return",function(){var c=this,f=a.attr("data-editable-validation"),g=function(){var f=a.attr("data-editable-submit-url");f?bm.ajax({url:f,data:{value:c.value},
show_success_status:!1}).always(function(){d.removeClass("active")}).done(function(){a.text(c.value).trigger("inlinechange");b.resolve(c.value)}).fail(function(){a.text(e);b.reject()}):(a.text(c.value).trigger("inlinechange"),b.resolve(c.value),d.removeClass("active"))};if(f)if(f=ValidationField.validateAs(this.jqObject,f,a.config("editable-validation")),null!=f)if(f.promise)f.done(function(a){null!=a?bm.notify(bm.template(a.msg_template,a.msg_params),"alert"):g()});else if("after"==a.data("showError")){var l=
("<div class='errorlist after'><div class='message-block error-message'>"+bm.template(f.msg_template,f.msg_params)+"</div></div>").jqObject;a.next(".message-block.error-message").length?a.next(".message-block.error-message").replaceWith(l):a.after(l);b.done(function(){l.remove()}).fail(function(){l.remove()})}else bm.notify(bm.template(f.msg_template,f.msg_params),"alert");else g();else g()}).val(e);c.nat.focus();for(var l=a.nat.attributes,m=0;m<l.length;m++){var g=l[m].name,f=l[m].value;g.startsWith("data-editable-validation")&&
c.attr("data"+g.substring(13),f)}return b},editInlinePrice:function(a){var b=$.Deferred(),e=a.text().trim();a.html("<input type='text' class='inline-edit-input'><span class='tool-icon reset' tabindex='0'></span>");a.find(".reset").on("mousedown",function(){a.text($text);b.reject()});var d=a.find("input").on("blur keydown.key_return",function(){var c=this,d=a.attr("data-editable-validation"),g=function(){var d=a.attr("data-editable-submit-url");bm.ajax({url:d,data:{value:c.value},show_success_status:!1}).done(function(){a.text("$"+
c.value).trigger("inlinechange");b.resolve(c.value)}).fail(function(){a.text(e);b.reject()})};d?(d=ValidationField.validateAs(this.jqObject,d,a.config("editable-validation")),null!=d?d.promise?d.done(function(a){null!=a?bm.notify(bm.template(a.msg_template,a.msg_params),"alert"):g()}):bm.notify(bm.template(d.msg_template,d.msg_params),"alert"):g()):g()}).val(e.substring(1));d.nat.focus();for(var c=a.nat.attributes,l=0;l<c.length;l++){var m=c[l].name,g=c[l].value;m.startsWith("data-editable-validation")&&
d.attr("data"+m.substring(13),g)}return b},copy:function(a,b){b=$("<input>");$("body").append(b);b.val(a).select();a=document.execCommand("copy");b.remove();return a}});bm.expando="BM"+bm.getUUID();bm.view={};
$.extend(bm,{alert:function(a,b,e){var d=$("<div><div class='header-line'><span class='icon "+b+"'></span><span class='ok'></span></div><div class='body'><span class='message content'></span></div></div>"),c=d.find(".ok").text($.i18n.prop("ok"));return d.popup({is_fixed:!0,is_always_up:!0,clazz:"alert-popup "+b,content:a,events:{render:function(a){c.click(function(){e&&e(0);a.close(0)});if(e)a.on("close",function(a,b){b&&e(1)})}}}).obj(POPUP)},attachModernUiPanel:function(){var a=this,b=a.body.find(".modern-list-left-panel");
if(b.length){var e=$.extend({thumbPanel:$(),url:"",thumb_menu_entries:[],thumbMenuClick:function(a){},leftNavigationClick:function(a){}},a.leftPanelConfig||{});b.find(".left-panel-btn button").click(function(){function d(){if(m.validate()){var c=m.elm.val();bm.ajax({show_response_status:!1,url:e.url,data:{name:c},success:function(c){a.reload(c.id,!0,function(a){b.find(".item-thumb[item-id="+a+"]").trigger("click")})},error:function(a,b,c){m.elm.focus();m.showError({msg_template:c.message,msg_params:[],
rule:void 0})}})}else m.elm.focus()}var c=b.find(".item-thumb.new-item"),l=b.find(".body .selected").attr("item-id");if(c.length)c.find(".item-title").focus();else{c=e.thumbPanel.clone();a.body.find(".left-panel .item-wrapper").prepend(c);var m=ValidationField.createDetachedField(c.find("input"),{error_position:"after"}),g=!1;c.find(".item-title").focus().on("keyup.key_return",function(){d()}).on("blur",function(){g||a.reload(l,!0);g=!1});c.find(".tool-icon.apply").mousedown(function(){g=!0}).click(function(){d()})}});
bm.menu(e.thumb_menu_entries,a.body.find(".left-panel .float-menu-navigator"),null,{hide:function(a){a.parent().removeClass("float-menu-opened")},click:function(b,c){c=c.closest(".item-thumb").config("item");e.thumbMenuClick.call(a,b,c)}},"click",["center bottom","right+22 top+7"]);a.body.find(".item-thumb").on("click",function(b){var c=$(this);$(b.target).is(".float-menu-navigator")||(a.body.find(".item-thumb.selected").removeClass("selected"),c.addClass("selected"),b=c.attr("item-id"),a.reload(b))});
b.find(".one-line-scroll-content").scrollbar({show_vertical:!1,show_horizontal:!0,use_bar:!1,visible_on:"auto",horizontal:{handle:{left:b.find(".left-scroller"),right:b.find(".right-scroller")},step:"auto"}});b.find(".navigation-button").on("click",function(){var b=$(this);e.leftNavigationClick.call(a,b.attr("item-type"))})}},autoToggle:function(a){function b(b){var c=b.filter(":radio");b=b.not(c);var d=[];c.each(function(){var f=$(this),g=f.attr("name");if(!d.contains(g)){d.push(g);var e=c.filter("[name='"+
g+"']:checked");e.length||(e=a.find("[name='"+g+"']:checked"));e.length||(e=f);b=b.add(e)}});return b}function e(a,c,d){var f=a.find("[toggle-target]");a.is("[toggle-target]")&&(f=f.add(a));f=b(f);f.each(function(){var a=$(this),b=a.is("select, :checkbox, :radio")?"change":"click";c?a.triggerHandler(b+"."+l,[!1,d]):a.triggerHandler(b+"."+l,[!0,d])})}function d(a,b,c,d){a.each(function(){var a=$(this);if(!d||!a.is(d)){var f=a.is("[do-reverse-toggle]"),g=b;f&&(g=!b);f="none"==a.css("display");g&&f?
(g=function(){e(a,!0,d)},c?a.show(c,g):(a.show(),g())):g||f?e(a,g,d):(g=function(){var b=a.find('[validation]:not([validate-on="call-only"])');a.is("[validation]")&&(b=b.add(a));b.trigger('[validation]:not([validate-on="call-only"])');e(a,!1,d);a.find("input").valid()},c?a.hide(c,g):(a.hide(),g()))}})}function c(b){var c=!1;a.find("[toggle-target]").each(function(){var d=$(this).attr("toggle-target");$(this).is("select")?$(this).find("option").each(function(){var f="."+d+"-"+$(this).val();if(b.closest(f,
a[0]).length)return c=!0,!1}):c=b.closest("."+d,a[0]).length;if(c)return!1});return c}var l=bm.getUUID(),m=function(b){var c=b;b.each(function(){var b=$(this);if(b.is("select")){var d=b.val().replaceAll("\\.","_");b=a.find("."+b.attr("toggle-target")+"-"+d)}else b=a.find("."+b.attr("toggle-target"));b.length&&(d=b.find("[toggle-target]"),d=d.add(b.filter("[toggle-target]")),d.length&&(c=c.add(m(d))))});return c},g=a.find("[toggle-target]").each(function(){var b=$(this),c=b.attr("toggle-anim")?b.attr("toggle-anim"):
"blind";"none"==c&&(c=null);if(b.is("select"))b.on("change."+l,function(f,g,e){"boolean"!=typeof g&&(g=!1,e=null);var l=b.val().replaceAll("\\.","_"),p="."+b.attr("toggle-target")+"-"+l,q=$();b.find("option").each(function(c,d){c=$(d).val().replaceAll("\\.","_");c!=l&&(c=b.attr("toggle-target")+"-"+c,c=a.find("."+c),q=q.add(c.not(p)))});p=a.find(p);f=e?e.add(m(p)):m(p);d(q,!1,c,f);d(p,g?!1:!0,c,e)});else if(b.is(":checkbox, :radio")){var g=function(f,g,e,l){"boolean"!=typeof g&&(g=!1,e=null);if(!g){f=
a.find("[name='"+b.attr("name")+"']").not(b).filter("[toggle-target]:not([independent])");var p=$();f.each(function(b,c){b=a.find("."+$(c).attr("toggle-target"));p=p.add(b.not(w))});d(p,!1,c,l?e?e.add(m(w)):m(w):e)}f=b.prop("checked");b.state=f;b.is(".toggle-reverse")&&(f=!f);d(w,g?!1:f,c,e,l)};var e="change";var u="."+b.attr("toggle-target"),w=a.find(u);b.on(e+"."+l,function(a,b,c){g(a,b,c,!0)});if(b.is(":radio"))a.find("[name='"+b.attr("name")+"']:radio").not("[toggle-target]").on(e+"."+l,function(a,
c,d){"boolean"!=typeof c&&(d=null);(b.state||void 0===b.state)&&g(a,!0,d)})}else e="click",w=a.find("."+b.attr("toggle-target")),b.on(e+"."+l,function(a,f,g){a="true"==b.attr("row-expanded");"undefined"==typeof f&&(a=!a,b.attr("row-expanded",""+a));d(w,f?!1:a,c,g)})});b(g).each(function(){var a=$(this),b=a.is("select, :checkbox, :radio")?"change":"click";c(a)||a.triggerHandler(b+"."+l,[!1])});return a},cBaseDoc:function(a){var b=$("<div id='documentation-slide' style='display: none'><div class='icon-block'><span class='tool-icon close-icon' title='"+
$.i18n.prop("close")+"'></span></div><iframe src='about:blank'></iframe></div>"),e=$(document.body);a.each(function(){var a=$(this);a.attr("attached")||(a.click(function(){var c=a.attr("target-url");b.is(":hidden")&&(e.prepend(b),b.css({height:window.innerHeight}),b.find(".tool-icon.close-icon").click(function(){b.toggle("slide",{direction:"right"},function(){e.find("#documentation-slide").remove()})}),b.toggle("slide",{direction:"right"}));b.find("iframe").attr("src",c)}),a.attr("attached",!0))})},
clearTextSelection:function(a){a||(a=document);var b=null,e=a.defaultView;e.getSelection?b=e.getSelection():a.selection&&(b=a.selection);b&&(b.empty&&b.empty(),b.removeAllRanges&&b.removeAllRanges())},confirm:function(a,b,e,d,c){c||(c={});$.extend(c,{focus_button_class:"yes-button"});var l=$("<div><div class='header-line'><span class='title'></span><span class='icon close'></span></div><div class='body'><span class='message content'></span></div><div class='button-line'></div></div>");l.find(".title").text($.i18n.prop("confirmation"));
return l.popup({close_on_escape:!1,is_fixed:!0,is_always_up:!0,clazz:"confirm-popup "+(c.clazz?c.clazz:""),content:a,events:{render:function(a){var g=this.find(".button-line");l.find(".icon").click(function(){a.close()});if(b instanceof Array)b.every(function(){var b=this,c=$("<button class='"+b.clazz+"'></button>");c.text($.i18n.prop(b.text));g.append(c);c.on("click",function(){b.handler.call(a);a.close()});c.focus()});else if(b){if(e&&(f=$("<button class='no-button'></button>"),f.text($.i18n.prop("no")),
g.append(f),f.click(function(){$.isFunction(e)&&e.call(a);a.close()}),d)){var f=$("<button class='cancel-button'></button>");f.text($.i18n.prop("cancel"));g.append(f);f.click(function(){$.isFunction(d)&&d();a.close()})}f=$("<button class='yes-button'></button>");f.text($.i18n.prop("yes"));g.append(f);f.click(function(){a.close();b.call(a)})}if(0!=c.focus_button_class){var m=g.find("."+c.focus_button_class).addClass("confirm-focus");a.el.on("keyup",function(a){if(m.hasClass("confirm-focus")){switch(a.keyCode){case 13:m.trigger("click");
break;case 37:a=m.prev("button");m=a.length?a:m;break;case 39:a=m.next("button"),m=m=a.length?a:m}a=m;g.find("button").removeClass("confirm-focus");a.addClass("confirm-focus")}})}}}}).obj(POPUP)},countryChange:function(a,b){a.find("#countryId").on("change",function(){var e=this.name,d;e.indexOf(".")&&(d=e.split(".")[0]);e=$(this).attr("name").endsWith("default_country");var c=$(this).val();d=$.extend({},{id:c,inputClass:"large",stateLabel:e?"default.state":"state",stateName:(d?d+".":"")+(e?"default_state":
"state"),noSelection:null},b);bm.ajax({url:app.baseUrl+"app/loadStateForCountry",dataType:"html",data:d,success:function(b){a.find(".form-row.state-selector-row").remove();a.find(".form-row.country-selector-row").after(b);a.find(".form-row.state-selector-row").updateUi();a.trigger("state-load")}})})},countryChangeSelection:function(a,b,e){function d(a){a.find("select[name=zone\\.state\\.id]").change(function(){var a=$(this).val();a&&1<a.length?m.hide():m&&m.show()}).trigger("change")}var c=a.closest(".form-row"),
l=c.next(".state-selector-row"),m=c.siblings(".post-code");l&&d(l);var g=a.val();(!g||1<g.length)&&m.hide();a.change(function(){var a=$(this).val();l.remove();a&&1==a.length||!b?($.extend(e,{id:b?a[0]:a}),bm.ajax({url:app.baseUrl+"app/loadStateForCountry",dataType:"html",data:e,success:function(a){if(l=$(a).insertAfter(c))d(l),l.updateUi();c.parents("form").trigger("state-load")}}),m.show()):b&&m.hide()})},createMenu:function(a,b){if(a instanceof $)return a.addClass("floating-menu");var e=$("<div class='floating-menu' tabindex='0'></div>");
$.each(a,function(){var a=this.ui_class;if("item-separator"==a)var c=$("<div class='"+a+"'></div>");else c=$("<div class='menu-item'><span class='icon'></span><span class='label'></span></div>"),this.href&&(c.addClass(this.ui_class),c=c.wrap("<a></a>").parent().attr("href",this.href).attr("target",this.target||"_self")),c.find(".label").text(this.text),c.addClass(this.ui_class),this.license&&app.licenses&&!app.licenses[this.license]&&c.addClass("restricted insufficient-provision"),this.permission&&
c.attr("permission",this.permission),c.attr("action",(b?b+">":"")+(this.action||a)),this.data&&(c[0].data=this.data);var l=c[0];e.append(c);this.sub&&(l.sub=bm.createMenu(this.sub,a).addClass("sub-menu"))});return e},customerAndGroupSelectionPopup:function(a,b){var e=b.url||app.baseUrl+"customerAdmin/selectCustomerAndGroups",d=b.title||$.i18n.prop("select.customers.or.groups",[app.ecommerce.bool()?"Customer":"Member"]),c=b.emphasized,l=b.success;var m=b.customerField||"customer";var g=b.groupField||
"customerGroup";var f=b.data||{};$.extend(f,{customerField:m,groupField:g});var p=b.preview_panel||a,q=b.previewer||function(a,b){p.find("input[name=isCustomerSelectorDirty]").length||p.append('<input type="hidden" name="isCustomerSelectorDirty" value="true">');p.find("input[name='"+m+"'], input[name='"+g+"']").remove();b.find("input:hidden[name]").each(function(){var a=$(this).attr("name");a=$("<input type='hidden' name='"+a+"' value='"+$(this).val()+"'>");p.append(a)})};f={};var v=f[m]=[],u=f[g]=
[];p.find("input:hidden[name]").each(function(){var a=$(this),b=a.attr("name");a.parents("tr");f[b]&&f[b].push(a.val())});f=$.extend({customerField:m,groupField:g,customer:v,customerGroup:u},b.data);return bm.editPopup(e,d,c,f,{width:b.width?b.width:850,height:b.height?b.height:730,events:{content_loaded:function(){var a=bm.twoSideSelection(this,10,"customer","customerAdmin/loadCustomerForMultiSelect",{view:!1,edit:!1,"column-sort":!1},[m]),b=$('<span class="tool-icon remove-search" style="display: none"></span>'),
c=this.find("input.search-text"),d=this.find(".search-form");d.prepend(b);a.beforeLoadTableContent=function(a){var d={searchText:c.val()};$.extend(a,d);c.val()?b.show():b.hide()};this.find("select[name='selection-type']").change(function(){"customer"==this.value?a.setUrl("customerAdmin/loadCustomerForMultiSelect","customer",{view:!1,edit:!1,"column-sort":!0},[m]):a.setUrl("customerGroup/loadCustomerGroupForMultiSelect","customer-group",{view:!1,edit:!1,"column-sort":!0},[g])});d.form({preSubmit:function(){a.reload();
return!1}});b.on("click",function(){c.val("");a.reload()})}},beforeSubmit:b.beforeSubmit||function(b,c,d){var f={};f[m]=[];f[g]=[];b.find("input:hidden[name]").each(function(){var a=$(this),b=a.attr("name"),c=a.parents("tr");f[b].push({name:c.find("td:eq(0)").text().trim(),value:a.val()})});q(f,b,p);a.trigger("change");d.close();return!1},success:l})},customTooltip:function(a,b,e,d,c,l){config={auto_close_on_success:!0,disable_on_submit:!0,disable_on_invalid:!0,disable_button_text:void 0,modify_ui:!0,
on_load_loader:!1};e[b-1].length||(b+=1,d="7",c="-7");var m=config.events||{};$(e[b-1]).addClass("active");m.content_loaded=function(a){this.updateUi();if(2<b){d="7";c="-7";var f=$("<button type='button' class='submit-button-pre'></button>");f.text($.i18n.prop("prev"));this.find(".pop-bottom").append(f)}8==b&&(this.find(".submit-button-next").remove(),f=$("<button type='button' class='submit-button-done'></button>"),f.text($.i18n.prop("done")),this.find(".pop-bottom").prepend(f),f=$("<div class='show-next-wrapper'><input type='checkbox' name='remember' class='single'><span class='show-next'> Show on next login</span></div>"),
this.find(".pop-bottom").append(f));var g=!0;this.find(".single").on("change",function(){g=this.checked?!1:!0});this.find(".submit-button-done, .submit-button-skip").click(function(){bm.ajax({url:app.baseUrl+"user/saveIsMatured",data:{check:g},success:function(a){l&&l.getStart&&l.getStart()}});a.close(1);$(e[b-1]).removeClass("active")});this.find(".submit-button-next").click(function(){b++;a.close(1);$(e[b-2]).removeClass("active");d="7";c="-7";c=3==b?"+15":"-7";b<e.length+1&&bm.customTooltip(app.baseUrl+
"dashboard/loadOnScreenHelp",b,e,d,c,l)});this.find(".submit-button-pre").click(function(){a.close(1);if(1<b)switch($(e[b-1]).removeClass("active"),b--,b){case 1:d="100";c="-100";break;case 3:d="7";c="+15";break;default:d="7",c="-7"}bm.customTooltip(app.baseUrl+"dashboard/loadOnScreenHelp",b,e,d,c,l)});this.find(".tool-tip-close").click(function(){$(e[b-1]).removeClass("active");a.close(1);l&&l.getStart&&l.getStart(1)});this.addClass("loaded")};delete config.events;return new POPUP($.extend({template:"<div></div>",
show_title:!1,width:380,height:150,ajax_url:a,ajax_settings:{data:{count:b,wizard:e[0].length?!0:null}},ui_position:{my:"right top+10",at:"right"+c+" bottom+"+d,of:e[b-1]},draggable:!1},config,{clazz:"tool-tip-popup",events:m}))},disableTextSelection:function(a){a||(a=document);browser.ff?(bm.clearTextSelection(a),a.body.style.MozUserSelect="none"):a.onselectstart=function(){return!1}},editPopup:function(a,b,e,d,c){c=$.extend({},{auto_close_on_success:!0,disable_on_submit:!0,disable_on_invalid:!0,
disable_button_text:void 0,modify_ui:!0,width:500,form_selector:".edit-popup-form",buttonLine:"button-line",scroll:!0},c);var l=c.events||{},m=l?l.content_loaded:void 0;l.content_loaded=function(a){var b=this.find(c.form_selector);if("string"==typeof c.buttonLine){var d=b.find("."+c.buttonLine);var g=d.clone();d.remove()}else g=c.buttonLine;d=g.find(".submit-button, button[type=submit]").addClass("edit-popup-form-submit").on("click",function(){b.submit()});this.append(g);c.scroll&&this.find("> .content").scrollbar({reduce_margin_from_offset:!1,
vertical:{offset:0}});this.updateUi();var e=c.ajax&&c.ajax.success||c.success;b.form({ajax:null==this.find(".edit-popup-form").attr("no-ajax"),disable_on_submit:c.disable_on_submit,disable_on_invalid:c.disable_on_invalid,disable_button_text:c.disable_button_text,submitButton:d,preSubmit:function(d){$.extend(d,{response:c.response,error:c.error},c.ajax,{success:function(){c.auto_close_on_success&&a.close();e&&e.apply(this,arguments)}});if(c.beforeSubmit)return c.beforeSubmit.call(a.getDom(),b,d?d.data=
d.data||{}:null,a)}});b.find("[default-focus]").focus();var l=b.find(".bmui-tab:first");if(l.length)b.on("invalid",function(a,b){l.tabs&&l.tabs instanceof Function&&l.tabs("activate",b.validator.elm)});this.find(".cancel-button").click(function(){a.close(1)});a.on("content-change",function(a,c,d){c&&b.obj(ValidationPanel).attach(c.filter("[validation]").add(c.find("[validation]")));d&&b.obj(ValidationPanel).detach(d.filter("[validation]").add(d.find("[validation]")))});b.on("trash-restore",function(){a.close()});
m&&m.apply(this,[a,b])};delete c.events;return new POPUP($.extend({title:b+(e?" - <span class='emphasized'>"+bm.htmlEncode(e)+"</span>":""),width:430,ajax_url:a,ajax_settings:{data:d},draggable:!1},c,{clazz:"edit-popup"+(c.clazz?" "+c.clazz:""),events:l}))},enableTextSelection:function(a){a||(a=document);browser.ff?a.body.style.MozUserSelect="":a.onselectstart=null},errorHighlight:function(a,b){a.addClass("error-highlight");setTimeout(function(){a.removeClass("error-highlight")},b?b:1E3)},floatingPanel:function(a,
b,e,d){d=d?d:{};d.clazz="floating-panel-popup"+(d.clazz?" "+d.clazz:"");return new POPUP($.extend({ajax_url:b,ajax_settings:{data:e},show_title:!1,masking:!1,show_close:!1,close_on_blur:!0,modal:!1,is_center:!1,width:350,ui_position:{my:"right top",at:"right+10 bottom+7",of:a,collision:d.position_collison}},d))},floatingPopup:function(a,b){a.find(".popup-body").hide();a.find(".action-navigator").click(function(){var a=$.extend({},b),d=this.jqObject,c=d.data("popup");if(c)c.show();else{var l=d.next(".popup-body");
a=$.extend({content:l,position_collison:"none",events:{content_loaded:function(a){l.show()}}},a);c=bm.floatingPanel(d,null,{},a);c.close=c.hide;d.data("popup",c)}});return a},getTopScroller:function(a){return $(/webkit/i.test(navigator.userAgent)||"BackCompat"==a.compatMode?a.body:a.documentElement)},highlight:function(a,b,e){a.addClass("highlight-row"+(e?" blink":""));setTimeout(function(){a.removeClass("highlight-row"+(e?" blink":""))},b?b:3E3)},initArticleSelection:function(a,b,e){"undefined"==
typeof b&&(b="article");var d=$.extend({tab:null,view:!1,edit:!1,"column-sort":!0},e),c=this.twoSideSelection(a,10,"article",app.baseUrl+"content/loadArticlesForSelection",d,[b]),l=a.find("select.section-selector").change(function(){c.reload()}),m=a.find("select.article-sorting").change(function(){c.reload()});a.find(".icon-search").click(function(){c.reload()});c.beforeLoadTableContent=function(b){var c={searchText:a.find("input.search-text").val(),section:l.val(),sortBy:m.val()};$.extend(b,c)};
a.find(".filter-block").form({disable_on_submit:!1,preSubmit:function(){c.reload()}});c.onViewClick=function(a,b,c,d){app.tabs.content.viewArticle(b.article)};c.onEditClick=function(a,c,e,l){app.tabs.content.editArticle(c[b],e,d.tab)};return c},initBrandSelection:function(a,b,e){"undefined"==typeof b&&(b="brand");var d=$.extend({tab:null,view:!1,edit:!1,"column-sort":!0},e),c=this.twoSideSelection(a,10,"brand",app.baseUrl+"brandAdmin/loadBrandForSelection",d,[b]),l=a.find("input.search-text"),m=$('<span class="remove-search" title="'+
$.i18n.prop("remove.search")+'">').tooltipster();m.on("click",function(){l.val("");m.hide();c.reload()});l.before(m);m.hide();c.beforeLoadTableContent=function(a){var b={searchText:l.val()};$.extend(a,b)};a.find(".filter-block").form({disable_on_submit:!1,preSubmit:function(){c.reload();l.val()?m.show():m.hide()}});c.onEditClick=function(a,c,e,l){app.tabs.brand.editBrand(c[b],e,d.tab)};return c},initCategorySelection:function(a,b,e){"undefined"==typeof b&&(b="category");var d=$.extend({tab:null,view:!1,
edit:!1,"column-sort":!0},e),c=this.twoSideSelection(a,10,"category",app.baseUrl+"categoryAdmin/loadCategoriesForSelection",d,[b]),l=a.find("select.category-sorting").change(function(){c.reload()});c.beforeLoadTableContent=function(b){var c={searchText:a.find("input.search-text").val(),sortBy:l.val()};$.extend(b,c)};a.find(".filter-block").form({disable_on_submit:!1,preSubmit:function(){c.reload()}});c.onEditClick=function(a,c,f,e){app.tabs.item.editCategory(c[b],f,d.tab)};return c},initCityValidator:function(a,
b,e,d,c){b=b?b:"country.id";e=e?e:"state.id";c=c?c:"city";a.length&&a.each(function(){function a(a){var b={state:g.val(),postCode:m.val(),cityFieldName:c};1!=a&&(b.country=f.val());if(a=p.find(":input").attr("validation"))b.validation=a;bm.ajax({url:app.baseUrl+"app/loadCitiesByCountryOrState",data:b,dataType:"html",success:function(a){a=$(a);app.is_front_end?p.find(":input").remove():p.children().not("label").remove();p.append(a);app.is_front_end||"dropdown"!=a.attr("et-category")||a.chosen();var b=
a.closest("form").obj(ValidationPanel);b&&b.attach(a.filter("[validation]"),b);if(a=a.find("option:selected").attr("state"))g.val(a),app.is_front_end||g.trigger("chosen:updated")}})}var m=$(this);d=d?d:m.closest("form");var g=d.find('[name="'+e+'"]'),f=d.find('[name="'+b+'"]'),p=d.find(".city-selector-row");p.length&&(g.change(function(){a(!0)}),d.on("state-load",function(){g=d.find('[name="'+e+'"]');a();g.length&&g.change(a)}),m.ichange(a))})},initCountryChangeHandler:function(a,b){a.change(function(){var e=
$(this).closest("form"),d=$(this).val();$.ajax({url:app.baseUrl+"app/loadStateForCountry",dataType:"html",data:{id:d,stateName:b},success:function(b){e.find(".form-row.state-selector-row").remove();a.parents(".form-row").after(b);e.trigger("state-load")}})})},initFilterSelection:function(a){var b=this.twoSideSelection(a,10,"filter",app.baseUrl+"filterAdmin/loadFiltersForSelection",{edit:!1,"column-sort":!0},["filter"]),e=$('<span class="tool-icon remove-search" style="display: none"></span>'),d=a.find("input.search-text");
a=a.find(".search-form");a.prepend(e);b.beforeLoadTableContent=function(a){var b={searchText:d.val()};$.extend(a,b);d.val()?e.show():e.hide()};a.form({disable_on_submit:!1,submitButton:a.find(".search-button"),preSubmit:function(){b.reload()}});e.on("click",function(){d.val("");b.reload()});return b},initProductSelection:function(a,b,e){"undefined"==typeof b&&(b="product");var d=$.extend({tab:null,view:!1,edit:!1,"column-sort":!0},e),c=this.twoSideSelection(a,10,b,app.baseUrl+"productAdmin/loadProductsForSelection",
d,[b]),l=a.find("select.category-selector").change(function(){c.reload()}),m=a.find("select.product-sorting").change(function(){c.reload()}),g=a.find("select.special-product-filtering").change(function(){c.reload()});c.beforeLoadTableContent=function(b){var c={searchText:a.find("input.search-text").val(),parent:l.val(),sortBy:m.val(),specialProductsFilter:g.val(),priceFrom:a.find("input[name='form-amount']").val(),priceTo:a.find("input[name='to-amount']").val()};$.extend(b,c)};a.find(".filter-block").form({disable_on_submit:!1,
preSubmit:function(){c.reload()}});c.onEditClick=function(a,b,c,g){app.tabs.item.editProduct(b.product,c,d.tab)};c.onViewClick=function(a,c,d,g){app.tabs.item.viewProduct(c[b])};return c},initZoneSelection:function(a,b,e,d){b=b?b:"zone";d=d?d:[b];e=$.extend({tab:null,view:!1,edit:!1,"column-sort":!0},e);app.global_event.on("zone-create zone-update zone-delete",function(){c.reload()});var c=this.twoSideSelection(a,10,b,app.baseUrl+"zone/loadZoneForSelection",e,d);c.beforeLoadTableContent=function(b){var c=
{searchText:a.find("input.search-text").val()};$.extend(b,c)};a.find(".filter-block").form({disable_on_submit:!1,preSubmit:function(){c.reload()}});return c},innerHeight:function(a,b,e){var d=a.css("box-sizing");switch(e){case "inner":a=a.innerHeight()-a.height();break;default:a="border-box"==d?0:a.outerHeight()-a.height();break;case "extra_outer":a=a.outerHeight(!0)-("border-box"==d?a.outerHeight():a.height())}return b-a},innerWidth:function(a,b,e){var d=a.css("box-sizing");switch(e){case "inner":a=
a.innerWidth()-a.width();break;default:a="border-box"==d?0:a.outerWidth()-a.width();break;case "extra_outer":a=a.outerWidth(!0)-("border-box"==d?a.outerWidth():a.width())}return b-a},instantSearch:function(a,b,e,d,c){function l(){var b=m.val();b?a.addClass("search-active"):a.removeClass("search-active");a.find(e).each(function(){var a=$(this);a.find(d).text().trim().match(new RegExp(b,"i"))?a.show():a.hide()})}var m=b.find(".search-text");m.ichange(800,function(){l()});b.form({preSubmit:function(){l();
return!1}})},makeTableCellEditable:function(a,b){function e(){function a(a){a=a.val();m.text(a);a!=g&&b&&!1===b(c,a,g)?v.focus():(q.remove(),c.removeClass("editing"),m.cshow(),e.siblings("tr.data-row").addBack().each(function(){$(this).trigger("heightChange")}))}var c=$(this).parent(),e=c.parent();c.addClass("editing");var m=c.find(".value"),g=m.chide().text().trim(),f=c.attr("validation"),p=c.attr("maxlength");c.append("<input type='text' class='td-full-width' maxlength='"+(p?p:"")+"' validation='"+
(f?f:"")+"'>");f=c.attr("restrict");var q=c.find("input[type='text']");q.val(g);if(f)q[f]();var v=q.get(0);v.selectionStart=v.selectionEnd=v.value.length;v.focus();c.trigger("cell-edit");e.siblings("tr.data-row").addBack().each(function(){$(this).trigger("heightChange")});q.on("focusout",function(){a($(this))}).on("keypress",function(b){13==b.keyCode&&(b.preventDefault(),a($(this)))})}a.each(function(){var a=$(this);if(!a.find(".value").length){var b=a.html();a.html('<span class="value"></span>');
a.find(".value").html(b)}b="edit";a.is(".custom-edit")?(b="change-all",a.append('<span class="fake-link '+b+'">'+$.i18n.prop("change.all")+"</span>")):a.append('<span class="tool-icon '+b+'"></span>');a.find("."+b).on("click",e)})},makeTableCellSelectable:function(a,b,e,d){function c(){var a=$(this).parent();a.addClass("editing");var c=a.find(".value"),d=a.find(".text"),f=c.chide().text().trim(),p=$.isFunction(b)?b(a):b.clone().show();p.addClass("td-full-width");if(a.is(".hidden-overflow-selectable")){var q=
$("<div class='selectable-td-proxy'></div>").appendTo(document.body);q.append(p);q.position({my:"left top",at:"left top",of:a,collision:"none"});q.width(a.outerWidth(),!0);q.height(a.outerHeight(),!0)}else a.append(p);p.val(f);p.chosen();p.on("chosen:hiding_dropdown",function(){var b=$(this).val();p.chosen("remove");if(f!=b){c.text(b);var g=$(this).find("option:selected").text();d.text(g);e&&e(a,b,g,f)}a.removeClass("editing");a.is(".hidden-overflow-selectable")&&$(".selectable-td-proxy").remove();
c.cshow()});p.chosen("dropshow");return!1}a.each(function(){var a=$(this);if(!a.find(".value").length){var b=a.html();a.html('<span class="value"></span><span class="text"></span>');a.find(".value").html(b);a.find(".text").html(b)}b="edit";a.is(".custom-select")?(b="change-all",a.prepend('<span class="fake-link '+b+'">'+$.i18n.prop("change.all")+"</span>")):a.append('<span class="tool-icon '+b+'"></span>');a.find("."+b).on("click",function(){d&&!1===d(a)||c.call(this)})})},mask:function(a,b){b=$(b);
var e=a.position(),d={position:"absolute"};"static"==a.css("position")?$.extend(d,{left:e.left+a.leftRib(!0,!1,!1),top:e.top+a.topRib(!0,!1,!1),width:b.width(a.outerWidth()),height:b.height(a.outerHeight())}):$.extend(d,{left:0,top:0,right:0,bottom:0});b.css(d).addClass("div-mask");a.append(b)},maskIframe:function(a){var b=$("<div class='iframe-mask'></div>").css($.extend({bottom:0,left:0,position:"absolute",right:0,top:0,"z-index":500},browser.ie&&8==browser.version?{"background-image":"url(../../images/common/transparent_00.png)"}:
{"background-color":"transparent"}));a.contents().find("body").append(b)},menu:function(a,b,e,d,c,l){function m(a,c,m){a&&($(document.body).append(a),f=a,m=l?1<b.length||e?c.closest(e||b):b:m,a.position({at:l?l[0]:"left top+1",my:l?l[1]:"left top",of:m,using:function(b,f){var g=$(this);g.css({left:b.left+"px",top:b.top+"px"});"top"==f.vertical?g.removeClass("up-side").addClass("down-side"):g.addClass("up-side").removeClass("down-side");d.open&&d.open.call(a,c,f);g.find(".menu-item").each(function(){var a=
$(this),b=a.attr("permission");b&&(app.isPermitted(b)?a.removeClass("disabled"):a.addClass("disabled"))})}}).find(".menu-item").on("click",function(){var a=this.jqObject;a.is(".disabled")||(d.multitype?d.click(q(c),a.attr("action"),c,this.data):d.click(a.attr("action"),c,this.data),a.hasClass("ignore-hide-on-select")||d.hide&&!1===d.hide(c)||g())}),$(document).on("mousedown."+v,function(b){a.isParentOf(b.target)||d.hide&&!1===d.hide(c)||g()}),a.children().each(function(){if(this.sub){var a=$(this),
b=this.sub;a.hover(function(){f.active_sub_menu&&f.active_sub_menu.hide();f.active_sub_menu=b.show().position({my:"left top",at:"right+10 top",of:a})},function(){setTimeout(function(){f.hover_on_submenu||b.hide()},100)});b.hover(function(){f.hover_on_submenu=!0},function(){f.hover_on_submenu=!1})}}))}function g(){f&&($(document).off("mousedown."+v),f.remove().find(".menu-item").off("click"),f.active_sub_menu&&(f.active_sub_menu.hide(),delete f.active_sub_menu,delete f.hover_on_submenu))}if(a){var f;
if(d.multitype){var p={};$.each(a,function(a){p[a]=bm.createMenu(this)});a=p;var q=function(a){return a.attr("content-type")}}else $.isArray(a)?(q=function(){return"def"},a={def:bm.createMenu(a)}):(q=function(){return"def"},a={def:a});var v=bm.getUUID();$.isFunction(d)&&(d={click:d});!d.multitype&&l&&"always"==c?m(a.def,b,null):(b.on(c||"contextmenu",e,function(b){var c=$(this);m(a[q(c)],c,b);return!1}),$.each(a,function(){$(this).children().each(function(){this.sub&&$(this).append(this.sub.hide())})}));
var u={show:function(a,b){if(1<arguments.length)g(),m(this,a,b);else if(f){var c=f.find("[action='"+a+"']");c.length||(c=f.find("."+a));c.show()}},hide:function(a){if(!a)g();else if(f){var b=f.find("[action='"+a+"']");b.length||(b=f.find("."+a));b.hide()}},enable:function(a){if(a&&f){var b=f.find("[action='"+a+"']");b.length||(b=f.find("."+a));b.removeClass("disabled")}},disable:function(a){if(a&&f){var b=f.find("[action='"+a+"']");b.length||(b=f.find("."+a));b.addClass("disabled")}}};c=$.each(a,
function(){$.extend(this,u)});return c.def?c.def:c}},metaTagEditor:function(a){function b(a){bm.makeTableCellEditable(a.find("td.editable"),function(a,b,c){c=a.parent("tr");if(!b)return e(a.find("input")),bm.notify($.i18n.prop("value.must.not.be.empty"),"error"),!1;a.is(".name")?c.find("[name=tag_name]").val(b):c.find("[name=tag_content]").val(b)});a.find("td span.remove").on("click",function(){$(this).parents("tr").remove()})}function e(a){a.addClass("error-highlight");setTimeout(function(){a.removeClass("error-highlight")},
1E3)}a=a.find(".meta-tag-editor").find("table");var d=a.find("tr.last-row");a.find("tr:gt(0):not(.last-row)").each(function(){b($(this))});a=function(){var a=d.find(".name").val(),l=d.find(".value").val();if(a){if(l)return a=$('<tr><td class="name editable" maxlength="">#NAME#</td><td class="value editable" maxlength="">#VALUE#</td><td class="actions-column"><input type="hidden" name="tag_name" value="#NAME#"><input type="hidden" name="tag_content" value="#VALUE#"><span class="tool-icon remove"></span></td></tr>'.replaceAll("#NAME#",
a.htmlEncode()).replaceAll("#VALUE#",l.htmlEncode())),d&&(d.find(".name").attr("maxlength")&&a.find(".name").attr("maxlength",d.find(".name").attr("maxlength")),d.find(".value").attr("maxlength")&&a.find(".value").attr("maxlength",d.find(".value").attr("maxlength"))),b(a),d.before(a),d.find("input").val(""),!1;e(d.find(".value"))}else e(d.find(".name"))};d.find("input").bind("keyup.key_return",a);d.find(".add-row").on("click",a);d.find("input").on("keydown, keyup, keypress",function(a){if(13==a.keyCode)return!1})},
notify:function(a,b){var e=$(".popup.notification");if(e.length)e.find(".message").html(a.trim()),e.find(".type").text($.i18n.prop(b)+"!"),e.removeClass("success error info warning alert").addClass(b),e.obj().resetCloseTimer();else return e=$("<div class='notification'><span class='icon'></span><span class='type'></span></span><span class='message'></span><span class='close'></span></div>"),e.find(".message").html(a.trim()),e.find(".type").text($.i18n.prop(b)+"!"),e.popup({auto_close:3E3,auto_active:!1,
auto_active_on_focus:!1,modal:!1,is_fixed:!0,is_center:!0,top:20,is_always_up:!0,clazz:b,position:function(){var a=this.getDom();a.css({top:-a.outerHeight(),left:bm.center(a.outerWidth(),0,!0).left});a.animate({top:20},{easing:"easeOutBounce"})},close:function(){var a=this.getDom(),b=this,e=arguments;a.fadeOut(function(){POPUP.prototype.close.apply(b,e)})},events:{render:function(){var a=this;a.hover(function(){a.addClass("hover")},function(){a.removeClass("hover")})}}})},pageableTable:function(a,
b){var e=a.find("tr:gt(0)").length,d=$("paginator",{max:b.max||3,offset:0,total:e});a.after(d);d.paginator({onPageClick:function(b){var c=d.obj();a.find("tr:not(:first)").hide();c=c.all?c.getTotal():c.getItemsPerPage();b=(b-1)*c;1>b&&(b=0);a.find("tr:gt("+b+"):lt("+c+")").show()}})},pageableView:function(a,b){var e={};e.menu=bm.menu(b.menu_entries,a,".float-menu-navigator",{open:function(a){if(a.parent().is(".grid-item")){a=a.parent();a.addClass("float-menu-opened");var b=a.config("content");if(e.onMenuOpen)e.onMenuOpen(type,
b.type,a)}},hide:function(a){a=menu_opened_from_tree?a.parent(".tree-node"):a.parent(".grid-item");a.removeClass("float-menu-opened")},click:function(a,b,l){if(menu_opened_from_tree){var c=treeOptions.treeObj.data;l=void 0}else c=l.parent(".grid-item").config("content");e.onActionClick(a,b,c,l)},multitype:!0},"click",["center bottom","right+21 top+2"])},permissionPopup:function(a,b,e){function d(a){var b=a.find("[name=allowAll]"),c=a.find("[name=denyAll]"),d=a.find(".allow-group"),f=a.find(".deny-group");
if(d)d.on("change",function(){d.filter(":checked").length==d.length?b.checkbox("state","checked"):b.checkbox("state","unchecked");var a=$(this),c=a.closest("tr").find(".deny-group");a.is(":checked")&&c.is(":checked")&&(c.checkbox("state","unchecked"),c.trigger("change"))});if(f)f.on("change",function(){f.filter(":checked").length==f.length?c.checkbox("state","checked"):c.checkbox("state","unchecked");var a=$(this),b=a.closest("tr").find(".allow-group");a.is(":checked")&&b.is(":checked")&&(b.checkbox("state",
"unchecked"),b.trigger("change"))});if(b)b.on("change",function(){d.prop("checked",this.checked);d.trigger("change")});if(c)c.on("change",function(){$(this).is(":checked")?f.checkbox("state","checked"):f.checkbox("state","unchecked");f.trigger("change")})}app.licenses&&!app.licenses[CONSTANTS.LICENSES.ACL]?bm.notify($.i18n.prop("feature.disabled",[$.i18n.prop(CONSTANTS.LICENSES.ACL)]),"alert"):bm.editPopup(app.baseUrl+"role/managePermissions",a,b,e,{width:450,events:{content_loaded:function(){var a=
this;d(a);a.find("select[name='type']").on("change",function(b,c){b=this.value;var g=a.find(".edit-popup-form");c=$("<div class='block-for-"+c+"'><input type='hidden' name='type' value='"+c+"'></div>").hide();c.append(a.find("form > .permission-entry-list"));g.append(c);c=a.find(".block-for-"+b);if(c.length)g.append(c.find(".permission-entry-list")),c.remove();else{a.find(".content").loader();c=$.extend({},e);c.type=b;var f=a.find("input[name=entityType]").val();f&&(c.type=f,c.user=b);bm.ajax({url:app.baseUrl+
"role/managePermissions",data:c,dataType:"html",response:function(b,c){a.find(".content").loader(!1);c="<"==c[0]?$(c):$("<div class='permission-entry-list'>"+c+"</div>");b=c.find(".permission-entry-list");b.length||(b=$("<div class='permission-entry-list'></div>"),b.append(c));g.append(b);b.find("input:checkbox").checkbox().filter("[uncheck-value]").pairuncheck();d(b)}})}})}},success:function(){app.updatePermissions()}})},posRefChangeLtoR:function(a){var b=a.offsetParent().innerWidth()-a.position().left-
a.outerWidth();a.css({left:"auto",right:b})},productAndCategorySelectionPopup:function(a,b){var e=b.url||app.baseUrl+"itemAdmin/loadProductAndCategorySelector",d=b.title||$.i18n.prop("select.products.or.categories"),c=b.emphasized,l=b.success;var m=b.productField||"product";var g=b.categoryField||"category";var f=b.preview_panel||a,p=b.previewer||function(a,b){f.find("input[name='"+m+"'], input[name='"+g+"']").remove();b.find("input:hidden[name]").each(function(){var a=$(this).attr("name");a=$("<input type='hidden' name='"+
a+"' value='"+$(this).val()+"'>");f.append(a)})},q={},v=q[m]=[],u=q[g]=[];f.find("input:hidden[name]").each(function(){var a=$(this),b=a.attr("name");q[b]&&q[b].push(a.val())});q=$.extend({productField:m,categoryField:g,selectedProducts:v,selectedCategories:u},b.data);return bm.editPopup(e,d,c,q,{width:850,events:{content_loaded:function(){var a=bm.twoSideSelection(this,10,"product","productAdmin/loadProductsForSelection",{view:!1,edit:!1,"column-sort":!1},[m]),b=$('<span class="tool-icon remove-search" style="display: none"></span>'),
c=this.find("input.search-text"),d=this.find(".search-form");d.prepend(b);a.beforeLoadTableContent=function(a){var d={searchText:c.val()};$.extend(a,d);c.val()?b.show():b.hide()};this.find("select[name='selection-type']").change(function(){"product"==this.value?a.setUrl("productAdmin/loadProductsForSelection","product",{view:!1,edit:!1,"column-sort":!0},[m]):a.setUrl("categoryAdmin/loadCategoriesForSelection","category",{view:!1,edit:!1,"column-sort":!0},[g])});d.form({preSubmit:function(){a.reload();
return!1}});b.on("click",function(){c.val("");a.reload()})}},beforeSubmit:function(b,c,d){var e={};e[m]=[];e[g]=[];b.find("input:hidden[name]").each(function(){var a=$(this),b=a.attr("name"),c=a.parents("tr");e[b].push({name:c.find("td:eq(0)").text().trim(),value:a.val()})});p(e,b,f);a.trigger("change");d.close();return!1},success:l})},productSelectionPopup:function(a,b){var e=b.url||app.baseUrl+"productAdmin/productSelectionPopup",d=b.title||$.i18n.prop("select.products"),c=b.emphasized,l=b.data||
{},m=b.fieldName||"product",g=[],f=b.preview_holder||a;f.find("input[name='"+m+"']").each(function(){g.push($(this).val())});$.extend(l,{fieldName:m,product:g});var p=b.previewer||function(a,b){f.find("input[name='"+m+"']").remove();b.find("input:hidden[name]").each(function(){var a=$(this).attr("name");a=$("<input type='hidden' name='"+a+"' value='"+$(this).val()+"'>");f.append(a)})};return bm.editPopup(e,d,c,l,{width:850,form_selector:".product-selection-panel",events:{content_loaded:function(a,
b){a=bm.initProductSelection(this,m);$(this).data("selector",a)}},beforeSubmit:function(b,c,d){var g={};g[m]=[];b.find("input:hidden[name]").each(function(){var a=$(this),b=a.attr("name"),c=a.parents("tr");g[b].push({name:c.find("td:eq(0)").text().trim(),value:a.val()})});p(g,b,f);a.trigger("change");d.close();return!1}})},recipientSelectorPopup:function(a,b,e){var d=b.title?b.title:$.i18n.prop("select.recipient"),c=app.baseUrl+"customerAdmin/loadRecipientSelector",l=b.data;b.url&&(c=b.url);a.find(".selected-recipient").each(function(){var a=
l[$(this).attr("name")];a||(a=l[$(this).attr("name")]=[]);a.push($(this).val())});bm.editPopup(c,d,"",l,{width:850,events:{content_loaded:function(){var a=bm.twoSideSelection(this,10,"customer","customerAdmin/loadCustomerForMultiSelect",{view:!1,edit:!1,"column-sort":!0},["customer"]),b=$('<span class="tool-icon remove-search" style="display: none"></span>'),c=this.find("input.search-text"),d=this.find(".search-form");d.prepend(b);a.beforeLoadTableContent=function(a){var d={searchText:c.val()};$.extend(a,
d);c.val()?b.show():b.hide()};a.getPanelBody=function(){return'<div class="body"><div class="form-row"><label>'+$.i18n.prop("name")+'</label><input type="text" class="medium name"></div><div class="form-row"><label>'+$.i18n.prop("email")+'</label><input type="text" class="medium email" validation="required email"></div></div><div class="inline-button-line"><button type="button" class="submit-button add-email">'+$.i18n.prop("add")+"</button></div>"};a.initContent=function(b,c){function d(a){var b=
f.is(":disabled")?"":f.val().trim(),c=g.val();if(b){var d=c.trim();a([b+" <"+c+">"],[d,b])}else $.each(c.split(/[,;]/),function(){var b=this.trim();if(""!=b){var c="",d=b,f=b.indexOf("<");-1<f&&(c=b.substring(0,f).trim(),b=b.substring(f+1),f=b.indexOf(">"),b=b.substring(0,f).trim());a([d],[b,c])}})}var f=b.find(".name"),g=b.find(".email");b.attachValidator();b.find(".add-email").click(function(){!1!==b.valid()&&(d(c),f.val("").removeAttr("disabled"),g.val(""))});g.blur(function(){var a=this.value;
-1!=a.indexOf(",")||-1!=a.indexOf(";")||-1!=a.indexOf("<")?f.attr("disabled","disabled").val($.i18n.prop("single.email.without.name")):f.is(":disabled")&&f.val("").removeAttr("disabled")});b.obj(ValidationPanel).addValidatorRule(g,function(){var b=!1;d(function(c,d){a.isSelected("email",d[0])&&(b=!0)});return!b},$.i18n.prop("email.address.exist"))};this.find("select[name='selection-type']").change(function(){"customer"==this.value?a.setUrl("customerAdmin/loadCustomerForMultiSelect","customer",{view:!1,
edit:!1,"column-sort":!0},["customer"]):"group"==this.value?a.setUrl("customerGroup/loadCustomerGroupForMultiSelect","customer-group",{view:!1,edit:!1,"column-sort":!0},["customerGroup"]):a.setUrl(null,"email",{view:!1,edit:!1,"column-sort":!0},["recipientEmail","recipientName"])});d.form({disable_on_submit:!1,preSubmit:function(){a.reload();return!1}});b.on("click",function(){c.val("");a.reload()})}},beforeSubmit:function(b,c,d){if(a instanceof $)return a.find(".selected-recipient").remove(),b.find("input:hidden[name]").each(function(){a.append('<input type="hidden" class="selected-recipient" name="'+
$(this).attr("name")+'" value="'+$(this).val()+'">')}),"function"==typeof e&&e(b),d.close(),!1}})},remove:function(a,b,e,d,c,l){var m=function(){l.is_final||app.global_event.trigger("send-trash",[a,c]);app.global_event.trigger(a+"-deleted",[c]);l.success&&l.success.apply(this,arguments)},g={id:c};l.at2_reply&&(g.at2_reply=l.at2_reply);l.at1_reply&&(g.at1_reply=l.at1_reply);l.is_final&&(g.is_final=!0);var f=function(){l.start&&l.start();bm.ajax({url:d,data:g,response:l.stop,success:m,error:function(f,
g,m){if("attachment.exists"==m.error_code){f=function(a,c){var d=[b];if(a.has){var f=p(a.has);delete a.has;c+=".has";d.push(f)}a.as&&(f=a.as.collect(function(){return $.i18n.prop(""+this)}).join(", "),delete a.as,c+=".as",d.push(f));if(a=p(a))c+=".attach",d.push(a);return $.i18n.prop(c+".message",d)};var p=function(a){var b="";$.each(a,function(a){var c=this,d=!0;$.isPlainObject(this)&&(c=this.count,d=this.list||!0);b+=d?", <a class='fake-link' href='javascript:window.tempFunction(\""+a+"\")'>"+c+
" "+$.i18n.prop(a)+"</a>":", "+c+" "+$.i18n.prop(a)});return b.substring(2)},q={id:c,type:a};l.is_final&&(q.is_final=!0);m=m.attachments;if(m.at3){m=f(m.at3,"at3.prevent");var v=bm.alert(m,"error",function(){});window.tempFunction=function(a){v.close();bm.viewPopup(app.baseUrl+"app/viewAttachments",$.extend({},q,{entity:a,att_type:3}),{width:500})}}else m.at2?(m=f(m.at2,"at2.information"),v=bm.confirm(m,function(){bm.remove(a,b,e,d,c,$.extend({},l,{at2_reply:"yes",no_confirm:!0}))},function(){}),
window.tempFunction=function(a){v.hide();bm.viewPopup(app.baseUrl+"app/viewAttachments",$.extend({},q,{entity:a,att_type:2}),{width:500}).on("close",function(){v.show()})}):m.at1&&(m=f(m.at1,"at1.information"),v=bm.confirm(m,function(){bm.remove(a,b,e,d,c,$.extend({},l,{at1_reply:"exclude",no_confirm:!0}))},function(){bm.remove(a,b,e,d,c,$.extend({},l,{at1_reply:"include",no_confirm:!0}))},function(){}),window.tempFunction=function(a){v.hide();bm.viewPopup(app.baseUrl+"app/viewAttachments",$.extend({},
q,{entity:a,att_type:1}),{width:500}).on("close",function(){v.show()})})}}})};l.no_confirm?f():bm.confirm($("<p>").text(e),f,function(){})},renderSitePopup:function(a,b,e,d,c){c=$.extend({},{auto_close_on_success:!0,disable_on_submit:!0,disable_on_invalid:!0,disable_button_text:void 0,modify_ui:!0,width:500,form_selector:".site-popup-form",buttonLine:"button-line",scroll:!0},c);var l=c.events||{},m=l?l.content_loaded:void 0;l.content_loaded=function(a){var b=this.find(c.form_selector);if("string"==
typeof c.buttonLine){var d=b.find("."+c.buttonLine);var g=d.clone();d.remove()}else g=c.buttonLine;d=g.find(".submit-button, button[type=submit]").addClass("site-popup-form-submit").on("click",function(){b.submit()});this.append(g);var e=c.ajax&&c.ajax.success||c.success;b.form({ajax:null==this.find(".site-popup-form").attr("no-ajax"),disable_on_submit:c.disable_on_submit,disable_on_invalid:c.disable_on_invalid,disable_button_text:c.disable_button_text,submitButton:d,preSubmit:function(d){$.extend(d,
{response:c.response,error:c.error},c.ajax,{success:function(){c.auto_close_on_success&&a.close();e&&e.apply(this,arguments)}});if(c.beforeSubmit)return c.beforeSubmit.call(a.getDom(),b,d?d.data=d.data||{}:null,a)}});b.find("[default-focus]").focus();this.find(".cancel-button").click(function(){a.close(1)});a.on("content-change",function(a,c,d){c&&b.obj(ValidationPanel).attach(c.filter("[validation]").add(c.find("[validation]")));d&&b.obj(ValidationPanel).detach(d.filter("[validation]").add(d.find("[validation]")))});
m&&m.apply(this,[a,b])};delete c.events;return new POPUP($.extend({title:b+(e?" - <span class='emphasized'>"+bm.htmlEncode(e)+"</span>":""),width:430,ajax_url:a,ajax_settings:{data:d}},c,{clazz:"site-popup"+(c.clazz?" "+c.clazz:""),events:l}))},renderZoneView:function(a){function b(){var l=a.body.find(".right-panel");l.loader();bm.ajax({url:d,dataType:"html",response:function(){l.loader(!1)},success:function(m){c=$(m);l.find(".body").html(c);bm.table(c,{url:d,onload:function(){},menu_entries:[{text:$.i18n.prop("edit"),
ui_class:"edit",action:"edit"},{text:$.i18n.prop("remove"),ui_class:"remove",action:"remove"}],onActionClick:function(a,c,d){switch(a){case "edit":e(d.parents("tr"),c);break;case "remove":app.tabs.zone.deleteZone(c.id,c.name,void 0,b)}}});c.find(".add-zone-btn").on("click",function(){var a=$(c.find("tr")[0]);e(a)});a.body.find(".toolbar-btn.save").hide();l.scrollbar()}})}function e(c,d){var g=a.body.find(".right-panel");g.loader();bm.ajax({url:app.baseUrl+"zone/createZone",data:d,dataType:"html",
response:function(){g.loader(!1)},success:function(a){a=$("<td colspan='5'>"+a+"</td>");var d=a.find("form");bm.countryChangeSelection(d.find("select[name=zone\\.country\\.id]"),!0,{isMultiple:"true",stateName:"zone.state.id"});d.find(".cancel-button").on("click",function(){b()});c.empty().append(a);d.form({ajax:!0,preSubmit:function(a){$.extend(a,{success:function(a){b()}})}});d.updateUi()}})}var d=app.baseUrl+"zone/loadZoneView",c;b()},selectFromAssetLibrary:function(a,b,e,d,c){var l,m;d=$.extend({},
d,{_self:this,width:500,events:{content_loaded:function(a){function d(a){"undefined"==typeof a&&(a="pub");WebDAVClient.doPropFind(a,this,{onPopulate:function(b){q.find(".folder, .file").remove();if("pub"!=a){var f=$('<div class="folder"> <span class="tool-icon back" title="'+$.i18n.prop("back")+'"></span></div>');q.append(f);f.click(function(){m=!1;v=v.substring(0,v.lastIndexOf("/"));d(v)})}$.each(b.folders,function(a,b){var f=$('<div class="folder"> <span class="tree-icon"></span> <span class="tree-title">'+
b.name+"</span></div>");q.append(f);var g=0;f.click(function(){var a=null;g++;1===g?a=setTimeout(function(){g=0;f.siblings(".selected").removeClass("selected");m=!1;0==c&&(m=!0,f.addClass("selected").siblings(".selected").removeClass("selected"),l=bm.encodePath(app.baseUrl+"pub"+b.path.substring(b.path.indexOf("/"))))},200):(g=0,clearTimeout(a),v=b.path,d(b.path),q.next().find(".selectedValue").removeAttr("src").data("loaded",!1))})});$.each(b.files,function(a,b){a="bmp gif jpg png psd pspimage thm tif yuv jpeg".split(" ");
var d=b.clazz;e=e?e:a;if(e.contains(d)&&0!=c){var f=$('<div class="file '+d+'"> <span class="tree-icon"></span> <span class="tree-title">'+b.name+"</span></div>");q.append(f);f.click(function(){m=!1;l=bm.encodePath(app.systemPubUrl+"/"+b.path.substring(b.path.indexOf("/")));if(void 0===c){var a=$("<img>",{src:l});g.find(".asset-library-image-preview").html(a);a.on("load",function(){m=!0;f.addClass("selected").siblings(".selected").removeClass("selected")})}else c&&(q.find(".file.selected").removeClass("selected"),
f.addClass("selected"),m=!0)})}})}})}var g=this,q=this.find(".remote_folders").scrollbar({vertical:{offset:2}}),v;d("pub");this.find(".file-selector").form({preSubmit:function(){m?(b(l),a.close()):c?bm.notify($.i18n.prop("file.not.selected"),"error"):void 0===c?bm.notify($.i18n.prop("image.not.selected"),"error"):bm.notify($.i18n.prop("folder.not.selected"),"error");return!1}})}}});bm.editPopup(app.baseUrl+"remoteRepository/selectFileFromAssetLibraryForWidget",a,"",{isFile:void 0===c?c:!0},d)},selectionFloatingPanel:function(a,
b,e,d){var c={isLoaded:!1,reload:function(){var a=this,c=a.el,e={searchText:a.searchText};c.loader();d.beforeReload&&d.beforeReload(e);bm.ajax({url:b,data:e,dataType:"html",response:function(){c.loader(!1)},success:function(b){c.find(".body").replaceWith($(b).find(".body"));a.attachEvents()}})},attachEvents:function(){var a=this,b=a.el;b.find(".body").scrollbar({vertical:{offset:15}});b.updateUi();b.find(".select-item").on("click",function(){var b=$(this);if(!b.is(".selected"))d.onSelect(b.config("entity"));
a.popup.close()})}},l=d.events||{},m=l?l.content_loaded:void 0;l.content_loaded=function(a){var b=c.el=a.el,d=b.find(".search-form");c.popup=a;b.find(".cancel-button").on("click",function(){a.close()});d.form({preSubmit:function(){var a=d.find(".search-text").val();if(c.searchText===a)return!1;c.searchText=a;c.reload();return!1}});c.attachEvents();m&&m.apply(this,arguments)};delete d.events;bm.floatingPanel(a,b,e,$.extend({width:400,height:null,events:l,position_collison:"none"},d));return c},table:function(a,
b){function e(){g.param=f?{max:f.all?-1:f.itemsPerPage,offset:(f.currentPage-1)*f.itemsPerPage}:{max:-1,offset:0};g.sortable&&g.sorted&&$.extend(g.param,{sort:g.sortable[g.sorted],dir:"down"==g.sortedDir?"desc":"asc"});g.beforeReloadRequest&&g.beforeReloadRequest();a.loader();bm.ajax({url:g.url+(g.appendUrl||""),type:g.type,data:g.param,dataType:"html",success:function(){c.apply(this,arguments);g.afterLoad&&g.afterLoad()},response:function(){a.loader(!1)}})}function d(){g.sortable&&($.each(g.sortable,
function(a){p.find("th:nth-child("+(+a+1)+")").eq(0).addClass("sortable")}),g.sorted&&p.find("th:nth-child("+(+g.sorted+1)+")").eq(0).addClass("sort-"+g.sortedDir))}function c(c){c=$(c);p.html(c.find(b.isNonTable?".table":"table").html()).updateUi();var g=c.filter(".header").find(".title");0==g.length&&(g=c.find(".header").find(".title"));a.find(".header .title").replaceWith(g);a.trigger("tabulator-load-success",[c]);var e=c.find("paginator");c=+e.attr("total");g=+e.attr("max");e=+e.attr("offset");
f&&f.update(c,g,Math.floor(e/g)+1);d();l();m()}function l(){var a=p.find("td.editable");a.length&&bm.makeTableCellEditable(a,v.afterCellEdit)}function m(){var a=p.find("td.selectable");a.length&&v.selectableCellSelect&&bm.makeTableCellSelectable(a,v.selectableCellSelect,v.afterCellSelect,v.beforeCellSelect)}var g={url:"",appendUrl:null,type:"get"},f=a.find(".pagination")?a.find(".pagination").obj():null,p=a.find(b.isNonTable?".table:first":"table:first"),q;b.menu_entries&&(q=bm.menu(b.menu_entries,
p,".action-navigator",{click:function(a,b){v.onActionClick(a,b.config("entity"),b)},open:function(a,b){if(v.onMenuOpen)v.onMenuOpen(a,q)}},"click",["right+10 bottom+5","right top"]));p.on("click",".sortable",function(a){a=$(a.target);var b=a.index();g.sorted=""+b;g.sortedDir=a.is(".sort-up")?"down":"up";v.reload()});var v=$.extend({paginator:f,reload:function(){if(f)f.onPageClick(f.getCurrentPage());else e()},menu:q,sortAdd:function(a,b){g.sortable[a]=b},sortRemove:function(a){delete g.sortable[a]}},
b);$.extend(g,b);a.find("select.per-page-count").change(function(a,b,c){f.update(void 0,+c,1);e()});f&&(f.onPageClick=e);d();l();m();return v},tableCheckAll:function(a,b,e,d){var c=a.filter(".content");c.delegate("td.select-column :checkbox","change",function(){var l=a.find("td.select-column :checkbox");l.length==l.filter(":checked").length?(c.find(".check-all").prop("checked",!0),b&&1<l.filter(":checked").length&&b()):1<l.filter(":checked").length?(c.find(".check-all").checkbox("state","partial"),
e&&e()):(c.find(".check-all").prop("checked",!1),d&&d());c.obj(Scrollbar)&&c.tscrollbar("content",c.find(".check-all").closest("th"))});a.delegate(".check-all","change",function(){var a=c.find(".select-column :checkbox");a.prop("checked",this.checked);this.checked&&2<a.filter(":checked").length?b&&b():d&&d();c.tscrollbar("content",c.find(".check-all").closest("th"))})},tableToggleRow:function(a,b){a.find(".toggle-cell").click(function(){var a=$(this),d=a.parents("tr").next();a.is(".collapsed")?(a.removeClass("collapsed").addClass("expanded"),
d.show()):(a.removeClass("expanded").addClass("collapsed"),d.hide());b&&b(a)})},taskPopup:function(a,b,e){app.taskPopupCaches||(app.taskPopupCaches={});var d=b.token+"#"+b.name;if(app.taskPopupCaches[d])app.taskPopupCaches[d].setActive();else{var c=function(){bm.ajax({url:b.detail_status_url,data:{token:b.token},success:function(a){b.detail_viewer.update(l,a);"running"==a.status&&setTimeout(c,1E3)}})},l=new POPUP($.extend({title:$.i18n.prop("task.detail")+" - <span class='emphasized'>"+bm.htmlEncode(b.name)+
"</span>",ajax_url:a,ajax_settings:{data:b},clazz:"task-popup",draggable:!1,modal:!1,events:{content_loaded:function(){b.detail_viewer.init(l);c()}}},e));l.on("close",function(){delete app.taskPopupCaches[d]});return app.taskPopupCaches[d]=l}},twoSideSelection:function(a,b,e,d,c,l,m){function g(){var a=[];$.each(da,function(b,d){c[b]&&a.push(d)});return a}function f(a){a.removeClass("expanded up-side").addClass("collapsed");ea.off("blur").removeClass("up-side").remove();a=a.attr("entry-hidden");ea.find(a).removeClass("hidden")}
function p(a){for(var b=$(),c=0;c<a;c++){var d=ia.clone();B.append(d);b=b.add(d)}return b}function q(){var a=B.find("tr td[item]").length,b=S.find("tr td").length/2;b=1<b?b:1;b=a?0>b-a?0:b-a:b;if(0==a||b!=V)a=0>V?0:B.find("tr.empty").length,b<a?B.find("tr.empty").filter(":lt("+(a-b)+")").remove():p(b-a),H.onPageClick(H.getCurrentPage())}function v(a){var b={};0<a.find("input[name]").length?a.find("input[name]").each(function(){b[$(this).attr("name")]=$(this).val()}):l.every(function(c,d){a.attr(d)&&
(b[d]=a.attr(d))});return b}function u(a){a=B.find("td[item].actions-column"+(a?":visible":""));var b=$();S.length&&(a.each(function(){var a=$(this).attr("item");b=b.add(Q.find("td.actions-column["+e+"='"+a+"'] input:checkbox")).prop("checked",!1)}),S.trigger("change"));w(b,a.closest("tr"))}function w(a,b){a.closest("tr").removeClass("selected");a.length&&y();b.length&&(b.remove(),H.setTotal(H.getTotal()-b.length),H.onPageClick(H.getCurrentPage()),q())}function C(a){var b=$();a.each(function(){var a=
$(this).parent().attr(e);b=b.add(B.find("td.actions-column[item='"+a+"'][type='"+e+"']").closest("tr"))});w(a,b)}function z(a){H.setTotal(H.getTotal()+a.length);B.find(".empty").length<a.length&&(p(a.length),H.getPageCount()==H.getCurrentPage()+1&&H.setCurrentPage(H.getCurrentPage()+1,!0));$.each(a,function(){var a=this.row?this.row:B.find(".empty:first").removeClass("empty");for(var b=a.find("td").not(":last"),c=0;c<this.name.length;c++)$(b[c]).text(this.name[c]);a.attr("type",e).find("td.actions-column").attr("item",
this.value).attr("type",e);a.addClass(e);var d=this;a.find("input[type='hidden']").each(function(a,b){$(b).attr("name",l[a]).val(d.value[a])});K.onNewSelection(a)});B.trigger("row-update");H.onPageClick(H.getCurrentPage())}function x(a){a.closest("tr").addClass("selected");var b=[],c=$(B.find("tr")[0]).find("th").not(":last");a.each(function(){var a=$(this),d=[];a.siblings("input").each(function(){d.push($(this).val())});var f=[];a=a.closest("tr").find("td").not(":last");if(c.length==a.length)for(var g=
0;g<c.length;g++)f.push($(a[g]).text().trim());else if(c.length<a.length){g=0;for(var e=[];g<c.length-1;)f.push($(a[g]).text().trim()),g++;for(;g<a.length;)$(a[g]).text()&&e.push($(a[g]).text().trim()),g++;f.push(e.join("-"))}else for(e=g=0;e<c.length;)f.push($(a[g]).text().trim()),g++,e++,g==a.length&&(g=0);b.push({name:f,value:d})});z(b);y()}function y(){var a=S.find("td.actions-column :checkbox");0==a.filter(":checked").length?S.find(".check-all").prop("checked",!1):a.length==a.filter(":checked").length?
S.find(".check-all").prop("checked",!0):S.find(".check-all").checkbox("state","partial");S.find(".check-all").closest("th").length&&S.tscrollbar("content",S.find(".check-all").closest("th"))}function A(){var a=Q.find("td.actions-column");a.each(function(){var a=$(this).attr(e);B.find("td[type='"+e+"'][item='"+a+"']").length&&$(this).closest("tr").addClass("selected").find("input:checkbox").prop("checked",!0)});var b=a.find("input:checkbox").length;a=a.find("input:checkbox:checked").length;var c=S.find(".check-all:first").filter(":hidden");
b==a&&0!=a?c.prop("checked",!0):0<a?c.checkbox("state","partial"):c.prop("checked",!1);y()}function D(a){var b=ha.find("td.actions-column[type='"+e+"']"),c=[];b.each(function(){c.push($(this).attr("item"))});c.length&&(ha.loader(),bm.ajax({url:d,data:{ids:c,max:c.length},dataType:"html",response:function(){ha.loader(!1)},success:function(c){0==Ca.resetRightPanel?a():K.resetRightPanel($(c),b,a)},error:function(){a&&a()}}))}function J(a){Q.loader();aa=!0;var b={max:V,offset:V*(a-1),fieldName:e};K.beforeLoadTableContent&&
K.beforeLoadTableContent(b);d?bm.ajax({url:d,data:b,dataType:"html",response:function(){Q.loader(!1)},success:function(a){if(I)I=!1,Q.html(a),Q.updateUi(),pa=P();else{var b=$(a).find("table");S.tscrollbar("destroy");Q.find("table").replaceWith(b);b.updateUi()}var c=$(a).find("paginator");a=+c.attr("total");b=+c.attr("max");c=+c.attr("offset");pa.update(a,b,Math.floor(c/b)+1);S=Q.find("table").tscrollbar({vertical:{height:442}});D(function(){A();q()})},complete:function(){Q.removeClass("updating");
aa=!1}}):(a=function(a){Q.html(a);K.initContent(Q,function(a,b){z([{name:a,value:b}])});Q.loader(!1);aa=!1;S=$("")},I=!0,b=K.getPanelBody(e,b),"string"==typeof b?a(b):b.then=a)}function T(){A();Q.on("click",".tool-icon.view",function(a){if(!$(a.target).hasClass("disabled")){a=$(a.target).parent();var b=a.attr(e);K.onViewClick(e,b,a.prev().html().trim(),a)}}).on("click",".tool-icon.edit",function(a){if(!$(a.target).hasClass("disabled")){a=$(a.target).parent();var b=a.attr(e);K.onEditClick(e,b,a.prev().html().trim(),
a.closest("tr"))}});return P()}function P(){var b=Q.find(".pagination").obj();b&&(b.onPageClick=J);a.find(".per-page-count").change(function(a,c,d){d=+d;b.update(void 0,d,1);H.update(void 0,d,1);V=d;H.onPageClick(H.getCurrentPage());K.reload()});return b}m=void 0===m?{}:m;var I=!1,Z={remove:!0,view:!0,edit:!0,config:!1,"column-sort":!1};c=$.extend({},Z,c);var da={view:{text:$.i18n.prop("view"),ui_class:"view",action:"view"},edit:{text:$.i18n.prop("edit"),ui_class:"edit",action:"edit"},config:{text:$.i18n.prop("configure"),
ui_class:"config",action:"config"},remove:{text:$.i18n.prop("remove"),ui_class:"remove",action:"remove"}},Ca=m,K={reload:function(){if(!aa)pa.onPageClick(pa.getCurrentPage())},setUrl:function(a,b,f,m){e=b;d=a;l=m;c=$.extend({},Z,f,{"column-sort":c["column-sort"]});aa||J(1);ea=bm.createMenu(g())},clearAllSelection:function(){u(!1)},getAllSelectedByField:function(a){var b=[];a&&B.find("input[name='"+a+"']").each(function(a,c){b.push($(c).val())});return b},hasSelected:function(a,b){var c=!1;"undefined"==
typeof b?B.find("tr:not(.empty) td.actions-column").each(function(b,d){$(d).find("input:first").val()==a&&(c=!0)}):B.find("input[name='"+a+"']").each(function(a,d){$(d).val()==b&&(c=!0)});return c},onViewClick:function(){},onEditClick:function(a,b,c,d){},onDeleteClick:function(a,b,c,d){},onConfigClick:function(){},onNewSelection:function(){},getPanelBody:function(){},triggerExternalInit:function(){K.initContent(Q,function(a,b,c){"undefined"==typeof c?z([{name:a,value:b}]):z([{name:a,value:b,row:c}])})},
unselect:function(a,b){var c=e==a?Q.find("td.actions-column["+a+"='"+b+"'] input:checkbox"):[];c.length||(c=B.find("tr:has(td.actions-column[item='"+b+"'][type='"+a+"'])"));c.filter("input:checkbox").prop("checked",!1);C(c)},getSavedData:function(a,b,c){"string"==typeof a&&(a=B.find("td.actions-column[item='"+a+"'][type='"+b+"']"));return a.data(c)},saveData:function(a,b,c,d){"string"==typeof a&&(a=B.find("td.actions-column[item='"+a+"'][type='"+b+"']"));a.data(c,d)},getAllSelectedData:function(){var a=
B.serializeObject();B.find("td.actions-column[item]").each(function(){var b=$(this).data();b&&(a=bm.serializeMix(a,b))});return a},isSelected:function(a,b){return B.find("input[name='"+a+"'][value='"+b+"']").length},resetRightPanel:function(a,b,c){a=a.find("td.actions-column");for(var d=0;d<b.length;d++){var f=$(b[d]),g=a.find("input[value="+f.attr("item")+"]").parent();g.length?f.prev("td").text(g.prev("td").text()):f.parent().remove()}c&&c()}},ea=bm.createMenu(g());if("number"==typeof b)var V=b;
else b?b.is("select")||(b=b.find("select")):b=a.find(".pagination-perpage-selector"),b.change(function(){V=+this.value;J(1);H.setItemsPerPage(V);q();H.onPageClick(H.getCurrentPage())}),V=+b.val();b&&b.length||(V=10);var ha=a.find(".last-column .column-content"),Q=a.find(".first-column .column-content"),ia=ha.find(".action-column-dice-content table tr").addClass("empty"),B=ha.find("table:first"),S=Q.find("table:first");c["column-sort"]&&(B.find("th:eq(0)").sortablecolumn({}),B.bind("sort",function(){H.setCurrentPage(H.getCurrentPage(),
!0);B.tscrollbar("content",B.find("th:eq(0)"))}));var H=ha.find(".pagination").obj();H.onPageClick=function(a){var b=H.all?10<H.getTotal()?H.getTotal():10:H.getItemsPerPage(),c=(a-1)*b;1>c&&(c=0);for(var d=B.find("tr:not(:first)"),f=0;f<H.getTotal();f++)f>=c&&f<=b*a?$(d[f]).show():$(d[f]).hide()};q();B.on("click",".remove-item",function(){var a=$(this).closest("td"),b=v(a),c=a.attr("type"),d=a.closest("tr");K.onDeleteClick(c,b,a.prev().html().trim(),d);b=$();S&&e==c&&(a=a.attr("item"),b=b.add(S.find("td.actions-column["+
c+"='"+a+"'] input:checkbox")),b.prop("checked",!1));w(b,d)});a.on("click",".action-navigator",function(){var a=$(this),b=a.attr("entry-hidden");ea.find(b).addClass("hidden");if(a.is(".collapsed")){a.is("[tabindex]")||a.attr("tabindex","0");a.removeClass("collapsed").addClass("expanded");a.after(ea);b=a.outerHeight();var c=ea.outerHeight();b=a.offset().top-$(window).scrollTop()+b+c;$(window).height()<b?(ea.position({my:"right bottom",at:"right top+1",of:a}).addClass("up-side"),a.addClass("up-side")):
ea.position({my:"right top",at:"right bottom-1",of:a});a.focus().on("blur",function(){f(a)})}else f(a)});a.on("mousedown",".menu-item",function(a){var b=$(this);if(!b.is(".disabled")){a=b.closest(".floating-menu").siblings(".action-navigator");var c=b.attr("action");b=a.closest("td");var d=v(b);a=b.attr("type");switch(c){case "remove":c=b.closest("tr");K.onDeleteClick(a,d,b.prev().html().trim(),c);d=$();S&&e==a&&(b=b.attr("item"),d=d.add(S.find("td.actions-column["+a+"='"+b+"'] input:checkbox")),
d.prop("checked",!1),S.trigger("change"));w(d,c);break;case "view":K.onViewClick(a,d,b.prev().html().trim(),b);break;case "edit":K.onEditClick(a,d,b.prev().html().trim(),b.closest("tr"));break;case "config":K.onConfigClick(a,d,b.prev().html().trim(),b)}}});B.find(".remove-all").on("click",function(){u(!0);"function"==typeof K.onRemoveAll&&K.onRemoveAll.call(this)});B.tscrollbar({vertical:{height:443}});B.on("click","td.actions-column .move-up",function(a){a=$(a.target).closest("tr");var b=a.prev();
b.length&&0==b.has("th").length&&(a.swap(b),b.is(":hidden")&&(a.hide(),b.show()),B.find("th:eq(0)").sortablecolumn("resetSortState"),B.tscrollbar("content",B.find("th:eq(0)")));B.trigger("change")}).on("click","td.actions-column .move-down",function(a){a=$(a.target).closest("tr");var b=a.next();b.length&&!b.is(".empty")&&(a.swap(b),b.is(":hidden")&&(a.hide(),b.show()),B.find("th:eq(0)").sortablecolumn("resetSortState"),B.tscrollbar("content",B.find("th:eq(0)")));B.trigger("change")});H.setCurrentPage(1,
!0);Q=a.find(".first-column .column-content");var aa=!1;Q.on("change","td.actions-column input:checkbox",function(a){$(a.target).prop("checked")?x($(a.target)):C($(a.target))});S=Q.find("table").tscrollbar({vertical:{height:443}});Q.on("change",".check-all",function(a){$(a.target).prop("checked")?(a=Q.find("td input:checkbox:not(:checked)"),a.length?(a.each(function(){$(this).prop("checked",!0)}),x(a)):y()):(a=Q.find("td input:checkbox:checked"),a.length&&(a.each(function(){$(this).prop("checked",
!1)}),C(a)))});var pa=d?T():null;(function(){ha.find("td.actions-column").each(function(){var a=$(this);a.closest("tr").addClass(a.attr("type"))})})();return K},unique:function(a){function b(a,b){if(1==b.length){$(b[0]).closest(".form-row").after(a);var c=a.find(".trash-duplicate-delete");c.is(":checked")&&c.trigger("change");c.attr("name","deleteTrashItem."+b[0].name);a.show()}else a.hide()}function e(a,d){a.form("unlock",c);if(d.is(".trash-conflict-element")){d.removeClass("trash-conflict-element");
var f=a.find(".trash-row");a=a.data("trash-conflicts-list");a.remove(d[0]);b(f,a)}}function d(){var d=(new Date).getTime();if(!(20>=d-p)){p=d;var f=a.elm,l={},q=a.form||f.closest("form");a.editMode&&(l.id=q.find("input[name=id]").val());l.field=f.attr("unique-field")||f.attr("name");l.value=f.val().trim();l.customName=f.attr("unique-field-name");m&&(l.compositeField=m,l.compositeValue=g.val().trim());l.value&&(this!=f[0]&&f[0].validation_obj.clear(),bm.ajax({url:a.url,data:l,show_response_status:!1,
success:function(){a.elm.trigger("unique");e(q,f)},error:function(a,d,g){f[0].validation_obj.showError({msg_template:g.message});q.form("lock",c);"inTrash"==g.errorFlag?(f.data("trash-params",l),f.is(".trash-conflict-element")||(a=q.find(".trash-row"),(d=q.data("trash-conflicts-list"))?d.push(f[0]):q.data("trash-conflicts-list",d=[f[0]]),b(a,d),f.addClass("trash-conflict-element"))):f.is(".trash-conflict-element")&&(f.removeClass("trash-conflict-element"),a=q.find(".trash-row"),d=q.data("trash-conflicts-list"),
d.remove(f[0]),b(a,d))}}))}}var c=bm.getUUID();a=$.extend({lockId:c},{url:"",elm:void 0,editMode:!1},a);var l=a.elm.closest("form"),m=a.elm.attr("composite-unique"),g,f=a.elm;m&&(g=l.find("[name='"+m+"']"));var p=0;f.on("change blur",d);if(g)g.on("change",d);l.find(".trash-duplicate-restore").off("click").click(function(){var a=l.data("trash-conflicts-list"),b=$(a[0]).data("trash-params");bm.ajax({url:a[0].unique_config.restoreUrl,data:b,success:function(a){l.trigger("trash-restore",[a.type,a.id]);
app.global_event.trigger("trash-restore",[a.type,a.id]);app.global_event.trigger(a.type+"-restore",[a.id]);(a=l.closest(".popup").obj(POPUP))&&a.close()}})});l.find(".trash-duplicate-delete").off("change").on("change",function(){var a=l.data("trash-conflicts-list")[0].unique_config;if($(this).prop("checked"))l.form("unlock",a.lockId).on("ajax-submit-success",function(){app.global_event.trigger("trash-delete")});else l.form("lock",a.lockId).off("ajax-submit-success")});var q=ValidationField.createDetachedField(f);
a.elm.on("focus",function(){e(l,a.elm);q.clear()});a.elm[0].validation_obj=q;a.elm[0].unique_config=a},unmask:function(a){a.unmask()},updateCategorySelector:function(a,b){a.filter("select").each(function(){var a=$(this),d=a.val(),c="[]"!=a.attr("select-values")?JSON.parse(a.attr("select-values")):[""],l={domain:b};d?"string"==typeof d&&(d=[d]):d=[];a.attr("select-key")&&(l.key=a.attr("select-key"));a.attr("select-text")&&(l.text=a.attr("select-text"));bm.ajax({url:app.baseUrl+"app/hierarchySelector",
data:l,dataType:"html",success:function(b){var g=$(b);b=a.find("option.domain-prepend");var f=a.find("option.domain-append");a.find("option").remove();var e=!1;$.each(d,function(a,b){0<g.find("option[value='"+b+"']").length&&(e=!0)});var l=e?d:c;a.append(b).append(g.find("option")).append(f).val(l);a.attr("multiple")?a.trigger("liszt:updated"):a.chosen()}})})},updateDomainSelector:function(a,b){a.filter("select").each(function(){var a=$(this),d=a.val(),c="[]"!=a.attr("select-values")?JSON.parse(a.attr("select-values")):
[""],l={domain:b};d?"string"==typeof d&&(d=[d]):d=[];a.attr("select-key")&&(l.key=a.attr("select-key"));a.attr("select-text")&&(l.text=a.attr("select-text"));bm.ajax({url:app.baseUrl+"app/domainSelector",data:l,dataType:"html",success:function(b){var g=$(b);b=a.find("option.domain-prepend");var f=a.find("option.domain-append");a.find("option").remove();var e=!1;$.each(d,function(a,b){0<g.find("option[value='"+b+"']").length&&(e=!0)});var l=e?d:c;a.append(b).append(g.find("option")).append(f).val(l);
a.attr("multiple")?a.trigger("liszt:updated"):a.chosen()}})})},uploadImageToAssetLibrary:function(a){a=$.extend({},a);bm.editPopup(app.baseUrl+"app/imageUploadForm",$.i18n.prop("upload.image"),"",{},a)},viewPopup:function(a,b,e){app.viewCaches||(app.viewCaches={});var d=a+"#"+bm.hash(b),c=app.viewCaches[d];if(c)return c.setActive(),c;c=new POPUP($.extend({ajax_url:a,ajax_settings:{data:b},show_title:!1,clazz:"view-popup",draggable:!0,drag_handle:"*",drag_cancel:":input, .view-content-block",modal:!1,
width:500},e));c.on("close",function(){delete app.viewCaches[d]});return app.viewCaches[d]=c},waitPopup:function(){return new POPUP({show_close:!1,width:620,height:400,el:$('<div><div class="bg-white div-mask" style="position: absolute; top: 0; bottom: 0; left: 0; right: 0"><div class="loader2"></div><div class="wait-message">'+$.i18n.prop("this.may.take.some.time")+"</div></div></div>")})},zoneSelectionPopup:function(a,b){var e=b.url||app.baseUrl+"zone/zoneSelectionPopup",d=b.title||$.i18n.prop("select.zones"),
c=b.emphasized,l=b.data||{},m=b.fieldName||"zone",g=[],f=b.preview_holder||a;f.find("input[name='"+m+"']").each(function(){g.push($(this).val())});$.extend(l,{fieldName:m,zone:g});var p=b.previewer||function(a,b){f.find("input[name='"+m+"']").remove();b.find("input:hidden[name]").each(function(){var a=$(this).attr("name");a=$("<input type='hidden' name='"+a+"' value='"+$(this).val()+"'>");f.append(a)})};return bm.editPopup(e,d,c,l,{width:850,events:{content_loaded:function(a,b){bm.initZoneSelection(this,
"zone",null,[m])}},beforeSubmit:function(c,d,g){var e={};e[m]=[];c.find("input:hidden[name]").each(function(){var a=$(this),b=a.attr("name"),c=a.parents("tr");e[b].push({name:c.find("td:eq(0)").text().trim(),value:a.val()})});p(e,c,f,b.previewConfig);a.trigger("change");g.close();return!1}})},zoneSelector:function(a,b){var e=a.find(".zone-create-panel"),d=a.find("form");e.length||(e=$('<div class="zone-create-panel" action="/zone/"></div>'),b.parent().after(e));b.change(function(){if("create-zone"==
b.val())bm.ajax({url:app.baseUrl+"zone/fields",dataType:"html",success:function(a){a=$(a);e.append(a);a.updateUi();d.form("append",e);bm.countryChangeSelection(a.find("select[name=zone\\.country\\.id]"),!0,{isMultiple:"true",stateName:"zone.state.id"})}});else{var c=a.find(".zone-create-panel *");a.trigger("content-change",[null,c]);c.remove()}});b.trigger("change")},countryChange:function(a,b){a.find("#countryId").on("change",function(){var e=this.name,d;e.indexOf(".")&&(d=e.split(".")[0]);e=$(this).attr("name").endsWith("default_country");
var c=$(this).val();d=$.extend({},{id:c,inputClass:"large",stateLabel:e?"default.state":"state",stateName:(d?d+".":"")+(e?"default_state":"state"),noSelection:null},b);bm.ajax({url:app.baseUrl+"app/loadStateForCountry",dataType:"html",data:d,success:function(b){a.find(".form-row.state-selector-row").remove();a.find(".form-row.country-selector-row").after(b);a.find(".form-row.state-selector-row").updateUi();a.trigger("state-load")}})})},countryChangeSelection:function(a,b,e){function d(a){a.find("select[name=zone\\.state\\.id]").change(function(){var a=
$(this).val();a&&1<a.length?m.hide():m&&m.show()}).trigger("change")}var c=a.closest(".form-row"),l=c.next(".state-selector-row"),m=c.siblings(".post-code");l&&d(l);var g=a.val();(!g||1<g.length)&&m.hide();a.change(function(){var a=$(this).val();l.remove();a&&1==a.length||!b?($.extend(e,{id:b?a[0]:a}),bm.ajax({url:app.baseUrl+"app/loadStateForCountry",dataType:"html",data:e,success:function(a){if(l=$(a).insertAfter(c))d(l),l.updateUi();c.parents("form").trigger("state-load")}}),m.show()):b&&m.hide()})},
updateDomainSelector:function(a,b){a.filter("select").each(function(){var a=$(this),d=a.val(),c="[]"!=a.attr("select-values")?JSON.parse(a.attr("select-values")):[""],l={domain:b};d?"string"==typeof d&&(d=[d]):d=[];a.attr("select-key")&&(l.key=a.attr("select-key"));a.attr("select-text")&&(l.text=a.attr("select-text"));bm.ajax({url:app.baseUrl+"app/domainSelector",data:l,dataType:"html",success:function(b){var g=$(b);b=a.find("option.domain-prepend");var f=a.find("option.domain-append");a.find("option").remove();
var e=!1;$.each(d,function(a,b){0<g.find("option[value='"+b+"']").length&&(e=!0)});var l=e?d:c;a.append(b).append(g.find("option")).append(f).val(l);a.attr("multiple")?a.trigger("liszt:updated"):a.chosen()}})})},updateCategorySelector:function(a,b){a.filter("select").each(function(){var a=$(this),d=a.val(),c="[]"!=a.attr("select-values")?JSON.parse(a.attr("select-values")):[""],l={domain:b};d?"string"==typeof d&&(d=[d]):d=[];a.attr("select-key")&&(l.key=a.attr("select-key"));a.attr("select-text")&&
(l.text=a.attr("select-text"));bm.ajax({url:app.baseUrl+"app/hierarchySelector",data:l,dataType:"html",success:function(b){var g=$(b);b=a.find("option.domain-prepend");var f=a.find("option.domain-append");a.find("option").remove();var e=!1;$.each(d,function(a,b){0<g.find("option[value='"+b+"']").length&&(e=!0)});var l=e?d:c;a.append(b).append(g.find("option")).append(f).val(l);a.attr("multiple")?a.trigger("liszt:updated"):a.chosen()}})})},tableToggleRow:function(a,b){a.find(".toggle-cell").click(function(){var a=
$(this),d=a.parents("tr").next();a.is(".collapsed")?(a.removeClass("collapsed").addClass("expanded"),d.show()):(a.removeClass("expanded").addClass("collapsed"),d.hide());b&&b(a)})},selectFromAssetLibrary:function(a,b,e,d,c){var l,m;d=$.extend({},d,{_self:this,width:500,events:{content_loaded:function(a){function d(a){"undefined"==typeof a&&(a="pub");WebDAVClient.doPropFind(a,this,{onPopulate:function(b){q.find(".folder, .file").remove();if("pub"!=a){var f=$('<div class="folder"> <span class="tool-icon back" title="'+
$.i18n.prop("back")+'"></span></div>');q.append(f);f.click(function(){m=!1;v=v.substring(0,v.lastIndexOf("/"));d(v)})}$.each(b.folders,function(a,b){var f=$('<div class="folder"> <span class="tree-icon"></span> <span class="tree-title">'+b.name+"</span></div>");q.append(f);var g=0;f.click(function(){var a=null;g++;1===g?a=setTimeout(function(){g=0;f.siblings(".selected").removeClass("selected");m=!1;0==c&&(m=!0,f.addClass("selected").siblings(".selected").removeClass("selected"),l=bm.encodePath(app.baseUrl+
"pub"+b.path.substring(b.path.indexOf("/"))))},200):(g=0,clearTimeout(a),v=b.path,d(b.path),q.next().find(".selectedValue").removeAttr("src").data("loaded",!1))})});$.each(b.files,function(a,b){a="bmp gif jpg png psd pspimage thm tif yuv jpeg".split(" ");var d=b.clazz;e=e?e:a;if(e.contains(d)&&0!=c){var f=$('<div class="file '+d+'"> <span class="tree-icon"></span> <span class="tree-title">'+b.name+"</span></div>");q.append(f);f.click(function(){m=!1;l=bm.encodePath(app.systemPubUrl+"/"+b.path.substring(b.path.indexOf("/")+
1));if(void 0===c){var a=$("<img>",{src:l});g.find(".asset-library-image-preview").html(a);a.on("load",function(){m=!0;f.addClass("selected").siblings(".selected").removeClass("selected")})}else c&&(q.find(".file.selected").removeClass("selected"),f.addClass("selected"),m=!0)})}})}})}var g=this,q=this.find(".remote_folders").scrollbar({vertical:{offset:2}}),v;d("pub");this.find(".file-selector").form({preSubmit:function(){m?(b(l),a.close()):c?bm.notify($.i18n.prop("file.not.selected"),"error"):void 0===
c?bm.notify($.i18n.prop("image.not.selected"),"error"):bm.notify($.i18n.prop("folder.not.selected"),"error");return!1}})}}});bm.editPopup(app.baseUrl+"remoteRepository/selectFileFromAssetLibraryForWidget",a,"",{isFile:void 0===c?c:!0},d)},uploadImageToAssetLibrary:function(a){a=$.extend({},a);bm.editPopup(app.baseUrl+"app/imageUploadForm",$.i18n.prop("upload.image"),"",{},a)},makeTableCellEditable:function(a,b){function e(){function a(a){a=a.val();m.text(a);if(a!=g&&(u.val(a),b&&!1===b(c,a,g))){v.focus();
return}q.remove();c.removeClass("editing");m.cshow();e.siblings("tr.data-row").addBack().each(function(){$(this).trigger("heightChange")})}var c=$(this).parent(),e=c.parent();c.addClass("editing");var m=c.find(".value"),g=m.chide().text().trim(),f=c.attr("validation"),p=c.attr("maxlength");c.append("<input type='text' class='td-full-width' maxlength='"+(p?p:"")+"' validation='"+(f?f:"")+"'>");f=c.attr("restrict");var q=c.find("input[type='text']");q.val(g);if(f)q[f]();var v=q.get(0),u=c.find("input[type='hidden']");
v.selectionStart=v.selectionEnd=v.value.length;v.focus();c.trigger("cell-edit");e.siblings("tr.data-row").addBack().each(function(){$(this).trigger("heightChange")});q.on("focusout",function(){a($(this))}).on("keypress",function(b){13==b.keyCode&&(b.preventDefault(),a($(this)))})}a.each(function(){var a=$(this);if(!a.find(".value").length){var b=a.html();a.html('<span class="value"></span>');a.find(".value").html(b)}b="edit";a.is(".custom-edit")?(b="change-all",a.append('<span class="fake-link '+
b+'">'+$.i18n.prop("change.all")+"</span>")):a.append('<span class="tool-icon '+b+'"></span>');a.find("."+b).on("click",e)})},makeTableCellSelectable:function(a,b,e,d){function c(){var a=$(this).parent();a.addClass("editing");var c=a.find(".value"),d=a.find(".text"),f=c.chide().text().trim(),p=$.isFunction(b)?b(a):b.clone().show();p.addClass("td-full-width");if(a.is(".hidden-overflow-selectable")){var q=$("<div class='selectable-td-proxy'></div>").appendTo(document.body);q.append(p);q.position({my:"left top",
at:"left top",of:a,collision:"none"});q.width(a.outerWidth(),!0);q.height(a.outerHeight(),!0)}else a.append(p);p.val(f);p.chosen();p.on("chosen:hiding_dropdown",function(){var b=$(this).val();p.chosen("remove");if(f!=b){c.text(b);var g=$(this).find("option:selected").text();d.text(g);e&&e(a,b,g,f)}a.removeClass("editing");a.is(".hidden-overflow-selectable")&&$(".selectable-td-proxy").remove();c.cshow()});p.chosen("dropshow");return!1}a.each(function(){var a=$(this);if(!a.find(".value").length){var b=
a.html();a.html('<span class="value"></span><span class="text"></span>');a.find(".value").html(b);a.find(".text").html(b)}b="edit";a.is(".custom-select")?(b="change-all",a.prepend('<span class="fake-link '+b+'">'+$.i18n.prop("change.all")+"</span>")):a.append('<span class="tool-icon '+b+'"></span>');a.find("."+b).on("click",function(){d&&!1===d(a)||c.call(this)})})},autoToggle:function(a){function b(b){var c=b.filter(":radio");b=b.not(c);var d=[];c.each(function(){var f=$(this),g=f.attr("name");if(!d.contains(g)){d.push(g);
var e=c.filter("[name='"+g+"']:checked");e.length||(e=a.find("[name='"+g+"']:checked"));e.length||(e=f);b=b.add(e)}});return b}function e(a,c,d){var f=a.find("[toggle-target]");a.is("[toggle-target]")&&(f=f.add(a));f=b(f);f.each(function(){var a=$(this),b=a.is("select, :checkbox, :radio")?"change":"click";c?a.triggerHandler(b+"."+l,[!1,d]):a.triggerHandler(b+"."+l,[!0,d])})}function d(a,b,c,d){a.each(function(){var a=$(this);if(!d||!a.is(d)){var f=a.is("[do-reverse-toggle]"),g=b;f&&(g=!b);f="none"==
a.css("display");g&&f?(g=function(){e(a,!0,d)},c?a.show(c,g):(a.show(),g())):g||f?e(a,g,d):(g=function(){var b=a.find('[validation]:not([validate-on="call-only"])');a.is("[validation]")&&(b=b.add(a));b.trigger('[validation]:not([validate-on="call-only"])');e(a,!1,d);a.find("input").valid()},c?a.hide(c,g):(a.hide(),g()))}})}function c(b){var c=!1;a.find("[toggle-target]").each(function(){var d=$(this).attr("toggle-target");$(this).is("select")?$(this).find("option").each(function(){var f="."+d+"-"+
$(this).val();if(b.closest(f,a[0]).length)return c=!0,!1}):c=b.closest("."+d,a[0]).length;if(c)return!1});return c}var l=bm.getUUID(),m=function(b){var c=b;b.each(function(){var b=$(this);if(b.is("select")){var d=b.val().replaceAll("\\.","_");b=a.find("."+b.attr("toggle-target")+"-"+d)}else b=a.find("."+b.attr("toggle-target"));b.length&&(d=b.find("[toggle-target]"),d=d.add(b.filter("[toggle-target]")),d.length&&(c=c.add(m(d))))});return c},g=a.find("[toggle-target]").each(function(){var b=$(this),
c=b.attr("toggle-anim")?b.attr("toggle-anim"):"blind";"none"==c&&(c=null);if(b.is("select"))b.on("change."+l,function(f,g,e){"boolean"!=typeof g&&(g=!1,e=null);var l=b.val().replaceAll("\\.","_"),p="."+b.attr("toggle-target")+"-"+l,q=$();b.find("option").each(function(c,d){c=$(d).val().replaceAll("\\.","_");c!=l&&(c=b.attr("toggle-target")+"-"+c,c=a.find("."+c),q=q.add(c.not(p)))});p=a.find(p);f=e?e.add(m(p)):m(p);d(q,!1,c,f);d(p,g?!1:!0,c,e)});else if(b.is(":checkbox, :radio")){var g=function(f,
g,e,l){"boolean"!=typeof g&&(g=!1,e=null);if(!g){f=a.find("[name='"+b.attr("name")+"']").not(b).filter("[toggle-target]:not([independent])");var p=$();f.each(function(b,c){b=a.find("."+$(c).attr("toggle-target"));p=p.add(b.not(w))});d(p,!1,c,l?e?e.add(m(w)):m(w):e)}f=b.prop("checked");b.state=f;b.is(".toggle-reverse")&&(f=!f);d(w,g?!1:f,c,e,l)};var e="change";var u="."+b.attr("toggle-target"),w=a.find(u);b.on(e+"."+l,function(a,b,c){g(a,b,c,!0)});if(b.is(":radio"))a.find("[name='"+b.attr("name")+
"']:radio").not("[toggle-target]").on(e+"."+l,function(a,c,d){"boolean"!=typeof c&&(d=null);(b.state||void 0===b.state)&&g(a,!0,d)})}else e="click",w=a.find("."+b.attr("toggle-target")),b.on(e+"."+l,function(a,f,g){a="true"==b.attr("row-expanded");"undefined"==typeof f&&(a=!a,b.attr("row-expanded",""+a));d(w,f?!1:a,c,g)})});b(g).each(function(){var a=$(this),b=a.is("select, :checkbox, :radio")?"change":"click";c(a)||a.triggerHandler(b+"."+l,[!1])});return a},cBaseDoc:function(a){var b=$("<div id='documentation-slide' style='display: none'><div class='icon-block'><span class='tool-icon close-icon' title='"+
$.i18n.prop("close")+"'></span></div><iframe src='about:blank'></iframe></div>"),e=$(document.body);a.each(function(){var a=$(this);a.attr("attached")||(a.click(function(){var c=a.attr("target-url");b.is(":hidden")&&(e.prepend(b),b.css({height:window.innerHeight}),b.find(".tool-icon.close-icon").click(function(){b.toggle("slide",{direction:"right"},function(){e.find("#documentation-slide").remove()})}),b.toggle("slide",{direction:"right"}));b.find("iframe").attr("src",c)}),a.attr("attached",!0))})},
floatingPanel:function(a,b,e,d){d=d?d:{};d.clazz="floating-panel-popup"+(d.clazz?" "+d.clazz:"");return new POPUP($.extend({ajax_url:b,ajax_settings:{data:e},show_title:!1,masking:!1,show_close:!1,close_on_blur:!0,modal:!1,is_center:!1,width:350,ui_position:{my:"right top",at:"right+10 bottom+7",of:a,collision:d.position_collison}},d))},selectionFloatingPanel:function(a,b,e,d){var c={isLoaded:!1,reload:function(){var a=this,c=a.el,e={searchText:a.searchText};c.loader();d.beforeReload&&d.beforeReload(e);
bm.ajax({url:b,data:e,dataType:"html",response:function(){c.loader(!1)},success:function(b){c.find(".body").replaceWith($(b).find(".body"));a.attachEvents()}})},attachEvents:function(){var a=this,b=a.el;b.find(".body").scrollbar({vertical:{offset:15}});b.updateUi();b.find(".select-item").on("click",function(){var b=$(this);if(!b.is(".selected"))d.onSelect(b.config("entity"));a.popup.close()})}},l=d.events||{},m=l?l.content_loaded:void 0;l.content_loaded=function(a){var b=c.el=a.el,d=b.find(".search-form");
c.popup=a;b.find(".cancel-button").on("click",function(){a.close()});d.form({preSubmit:function(){var a=d.find(".search-text").val();if(c.searchText===a)return!1;c.searchText=a;c.reload();return!1}});c.attachEvents();m&&m.apply(this,arguments)};delete d.events;bm.floatingPanel(a,b,e,$.extend({width:400,height:null,events:l,position_collison:"none"},d));return c},metaTagEditor:function(a){function b(a){bm.makeTableCellEditable(a.find("td.editable"),function(a,b,c){c=a.parent("tr");if(!b)return e(a.find("input")),
bm.notify($.i18n.prop("value.must.not.be.empty"),"error"),!1;a.is(".name")?c.find("[name=tag_name]").val(b):c.find("[name=tag_content]").val(b)});a.find("td span.remove").on("click",function(){$(this).parents("tr").remove()})}function e(a){a.addClass("error-highlight");setTimeout(function(){a.removeClass("error-highlight")},1E3)}a=a.find(".meta-tag-editor").find("table");var d=a.find("tr.last-row");a.find("tr:gt(0):not(.last-row)").each(function(){b($(this))});a=function(){var a=d.find(".name").val(),
l=d.find(".value").val();if(a){if(l)return a=$('<tr><td class="name editable" maxlength="">#NAME#</td><td class="value editable" maxlength="">#VALUE#</td><td class="actions-column"><input type="hidden" name="tag_name" value="#NAME#"><input type="hidden" name="tag_content" value="#VALUE#"><span class="tool-icon remove"></span></td></tr>'.replaceAll("#NAME#",a.htmlEncode()).replaceAll("#VALUE#",l.htmlEncode())),d&&(d.find(".name").attr("maxlength")&&a.find(".name").attr("maxlength",d.find(".name").attr("maxlength")),
d.find(".value").attr("maxlength")&&a.find(".value").attr("maxlength",d.find(".value").attr("maxlength"))),b(a),d.before(a),d.find("input").val(""),!1;e(d.find(".value"))}else e(d.find(".name"))};d.find("input").bind("keyup.key_return",a);d.find(".add-row").on("click",a);d.find("input").on("keydown, keyup, keypress",function(a){if(13==a.keyCode)return!1})},initCityValidator:function(a,b,e,d,c){b=b?b:"country.id";e=e?e:"state.id";a.length&&a.each(function(){function a(a){var b={state:g.val(),postCode:m.val(),
cityFieldName:c};1!=a&&(b.country=f.val());if(a=p.find(":input").attr("validation"))b.validation=a;bm.ajax({url:app.baseUrl+"app/loadCitiesByCountryOrState",data:b,dataType:"html",success:function(a){a=$(a);app.is_front_end?p.find(":input").remove():p.children().not("label").remove();p.append(a);app.is_front_end||"dropdown"!=a.attr("et-category")||a.chosen();var b=a.closest("form").obj(ValidationPanel);b&&b.attach(a.filter("[validation]"),b);if(a=a.find("option:selected").attr("state"))g.val(a),app.is_front_end||
g.trigger("chosen:updated")}})}var m=$(this);d=d?d:m.closest("form");var g=d.find('[name="'+e+'"]'),f=d.find('[name="'+b+'"]'),p=d.find(".city-selector-row");p.length&&(g.change(function(){a(!0)}),d.on("state-load",function(){g=d.find('[name="'+e+'"]');a();g.length&&g.change(a)}),m.ichange(a))})},initCountryChangeHandler:function(a,b){a.change(function(){var e=$(this).closest("form"),d=$(this).val();$.ajax({url:app.baseUrl+"app/loadStateForCountry",dataType:"html",data:{id:d,stateName:b},success:function(b){e.find(".form-row.state-selector-row").remove();
a.parents(".form-row").after(b);e.trigger("state-load")}})})},customTooltip:function(a,b,e,d,c,l){config={auto_close_on_success:!0,disable_on_submit:!0,disable_on_invalid:!0,disable_button_text:void 0,modify_ui:!0,on_load_loader:!1};e[b-1].length||(b+=1,d="7",c="-7");var m=config.events||{};$(e[b-1]).addClass("active");m.content_loaded=function(a){this.updateUi();if(2<b){d="7";c="-7";var f=$("<button type='button' class='submit-button-pre'></button>");f.text($.i18n.prop("prev"));this.find(".pop-bottom").append(f)}8==
b&&(this.find(".submit-button-next").remove(),f=$("<button type='button' class='submit-button-done'></button>"),f.text($.i18n.prop("done")),this.find(".pop-bottom").prepend(f),f=$("<div class='show-next-wrapper'><input type='checkbox' name='remember' class='single'><span class='show-next'> Show on next login</span></div>"),this.find(".pop-bottom").append(f));var g=!0;this.find(".single").on("change",function(){g=this.checked?!1:!0});this.find(".submit-button-done, .submit-button-skip").click(function(){bm.ajax({url:app.baseUrl+
"user/saveIsMatured",data:{check:g},success:function(a){l&&l.getStart&&l.getStart()}});a.close(1);$(e[b-1]).removeClass("active")});this.find(".submit-button-next").click(function(){b++;a.close(1);$(e[b-2]).removeClass("active");d="7";c="-7";c=3==b?"+15":"-7";b<e.length+1&&bm.customTooltip(app.baseUrl+"dashboard/loadOnScreenHelp",b,e,d,c,l)});this.find(".submit-button-pre").click(function(){a.close(1);if(1<b)switch($(e[b-1]).removeClass("active"),b--,b){case 1:d="100";c="-100";break;case 3:d="7";
c="+15";break;default:d="7",c="-7"}bm.customTooltip(app.baseUrl+"dashboard/loadOnScreenHelp",b,e,d,c,l)});this.find(".tool-tip-close").click(function(){$(e[b-1]).removeClass("active");a.close(1);l&&l.getStart&&l.getStart(1)});this.addClass("loaded")};delete config.events;return new POPUP($.extend({template:"<div></div>",show_title:!1,width:380,height:150,ajax_url:a,ajax_settings:{data:{count:b,wizard:e[0].length?!0:null}},ui_position:{my:"right top+10",at:"right"+c+" bottom+"+d,of:e[b-1]},draggable:!1},
config,{clazz:"tool-tip-popup",events:m}))},highlight:function(a,b,e){a.addClass("highlight-row"+(e?" blink":""));setTimeout(function(){a.removeClass("highlight-row"+(e?" blink":""))},b?b:3E3)},renderZoneView:function(a){function b(){var l=a.body.find(".right-panel");l.loader();bm.ajax({url:d,dataType:"html",response:function(){l.loader(!1)},success:function(m){c=$(m);l.find(".body").html(c);bm.table(c,{url:d,onload:function(){},menu_entries:[{text:$.i18n.prop("edit"),ui_class:"edit",action:"edit"},
{text:$.i18n.prop("remove"),ui_class:"remove",action:"remove"}],onActionClick:function(a,c,d){switch(a){case "edit":e(d.parents("tr"),c);break;case "remove":app.tabs.zone.deleteZone(c.id,c.name,void 0,b)}}});c.find(".add-zone-btn").on("click",function(){var a=$(c.find("tr")[0]);e(a)});a.body.find(".toolbar-btn.save").hide();l.scrollbar()}})}function e(c,d){var g=a.body.find(".right-panel");g.loader();bm.ajax({url:app.baseUrl+"zone/createZone",data:d,dataType:"html",response:function(){g.loader(!1)},
success:function(a){a=$("<td colspan='5'>"+a+"</td>");var d=a.find("form");bm.countryChangeSelection(d.find("select[name=zone\\.country\\.id]"),!0,{isMultiple:"true",stateName:"zone.state.id"});d.find(".cancel-button").on("click",function(){b()});c.empty().append(a);d.form({ajax:!0,preSubmit:function(a){$.extend(a,{success:function(a){b()}})}});d.updateUi()}})}var d=app.baseUrl+"zone/loadZoneView",c;b()},trigger:function(a,b,e,d){if(5==arguments.length)return bm.trigger.call(a,b,e,d,arguments[4]);
var c;$.isArray(d)||(d=[d]);$.isFunction(this["on"+e.capitalize()])&&(c=this["on"+e.capitalize()].apply(this,d));if(!1===c)return!1;this.options&&$.isFunction(this.options[e])&&(c=this.options[e].apply(this,d));return!1===c?!1:a.trigger(b+":"+e,d)},$wrap:function(a,b){var e=a.camelCase(!1);window.jquery_conflict_prefix&&(e=window.jquery_conflict_prefix+e);$.prototype[e]=function(d){if(!this.length)return this;var c;if("string"==typeof d||d instanceof String)if(c=this.data("wcui-"+a+"-obj")){if("option"==
d){if(2==arguments.length)return $.isFunction(c._getOption)?c._getOption(arguments[1]):c.options[arguments[1]];$.isFunction(c._setOption)?c._setOption(arguments[1],arguments[2]):c.options[arguments[1]]=arguments[2];return this}"extendObjElement"==d&&arguments[1].data("wcui-"+a+"-obj",c);"removeObjElement"==d&&arguments[1].removeData("wcui-"+a+"-obj");if(!$.isFunction(c[d])||d.startsWith("_"))throw Error("Undefined function "+d);c=c[d].apply(c,Array.prototype.splice.call(arguments,1));return void 0===
c?this:c}d=$.extend({},d,this.config(a));c=new b(this,d);this.data("wcui-"+a+"-obj",c);return this}},clearTextSelection:function(a){a||(a=document);var b=null,e=a.defaultView;e.getSelection?b=e.getSelection():a.selection&&(b=a.selection);b&&(b.empty&&b.empty(),b.removeAllRanges&&b.removeAllRanges())},disableTextSelection:function(a){a||(a=document);browser.ff?(bm.clearTextSelection(a),a.body.style.MozUserSelect="none"):a.onselectstart=function(){return!1}},enableTextSelection:function(a){a||(a=document);
browser.ff?a.body.style.MozUserSelect="":a.onselectstart=null},getTopScroller:function(a){return $(/webkit/i.test(navigator.userAgent)||"BackCompat"==a.compatMode?a.body:a.documentElement)},errorHighLight:function(a,b){a.addClass("error-highlight");setTimeout(function(){a.removeClass("error-highlight")},b?b:1E3)},attachModernUiPanel:function(){var a=this,b=a.body.find(".modern-list-left-panel");if(b.length){var e=$.extend({thumbPanel:$(),url:"",thumb_menu_entries:[],thumbMenuClick:function(a){},leftNavigationClick:function(a){}},
a.leftPanelConfig||{});b.find(".left-panel-btn button").click(function(){function d(){if(m.validate()){var c=m.elm.val();bm.ajax({show_response_status:!1,url:e.url,data:{name:c},success:function(c){a.reload(c.id,!0,function(a){b.find(".item-thumb[item-id="+a+"]").trigger("click")})},error:function(a,b,c){m.elm.focus();m.showError({msg_template:c.message,msg_params:[],rule:void 0})}})}else m.elm.focus()}var c=b.find(".item-thumb.new-item"),l=b.find(".body .selected").attr("item-id");if(c.length)c.find(".item-title").focus();
else{c=e.thumbPanel.clone();a.body.find(".left-panel .item-wrapper").prepend(c);var m=ValidationField.createDetachedField(c.find("input"),{error_position:"after"}),g=!1;c.find(".item-title").focus().on("keyup.key_return",function(){d()}).on("blur",function(){g||a.reload(l,!0);g=!1});c.find(".tool-icon.apply").mousedown(function(){g=!0}).click(function(){d()})}});bm.menu(e.thumb_menu_entries,a.body.find(".left-panel .float-menu-navigator"),null,{hide:function(a){a.parent().removeClass("float-menu-opened")},
click:function(b,c){c=c.closest(".item-thumb").config("item");e.thumbMenuClick.call(a,b,c)}},"click",["center bottom","right+22 top+7"]);a.body.find(".item-thumb").on("click",function(b){var c=$(this);$(b.target).is(".float-menu-navigator")||(a.body.find(".item-thumb.selected").removeClass("selected"),c.addClass("selected"),b=c.attr("item-id"),a.reload(b))});b.find(".one-line-scroll-content").scrollbar({show_vertical:!1,show_horizontal:!0,use_bar:!1,visible_on:"auto",horizontal:{handle:{left:b.find(".left-scroller"),
right:b.find(".right-scroller")},step:"auto"}});b.find(".navigation-button").on("click",function(){var b=$(this);e.leftNavigationClick.call(a,b.attr("item-type"))})}},instantSearch:function(a,b,e,d,c){function l(){var b=m.val();b?a.addClass("search-active"):a.removeClass("search-active");a.find(e).each(function(){var a=$(this);a.find(d).text().trim().match(new RegExp(b,"i"))?a.show():a.hide()})}var m=b.find(".search-text");m.ichange(800,function(){l()});b.form({preSubmit:function(){l();return!1}})},
floatingPopup:function(a,b){a.find(".popup-body").hide();var e=void 0;a.find(".floating-action-dropper").click(function(){var a=$.extend({},b),c=this.jqObject,l=c.data("popup");if(l)l.show();else{var m=c.next(".popup-body");a=$.extend({content:m,position_collison:"none",events:{content_loaded:function(a){m.show()}}},a);e=l=bm.floatingPanel(c,null,{},a);l.close=l.hide;c.data("popup",l)}});a.find(".close-popup").click(function(){e&&e.close()});return a},renderSitePopup:function(a,b,e,d,c){c=$.extend({},
{auto_close_on_success:!0,disable_on_submit:!0,disable_on_invalid:!0,disable_button_text:void 0,modify_ui:!0,width:500,form_selector:".site-popup-form",buttonLine:"button-line",scroll:!0},c);var l=c.events||{},m=l?l.content_loaded:void 0;l.content_loaded=function(a){var b=this.find(c.form_selector);if("string"==typeof c.buttonLine){var d=b.find("."+c.buttonLine);var g=d.clone();d.remove()}else g=c.buttonLine;d=g.find(".submit-button, button[type=submit]").addClass("site-popup-form-submit").on("click",
function(){b.submit()});this.append(g);var e=c.ajax&&c.ajax.success||c.success;b.form({ajax:null==this.find(".site-popup-form").attr("no-ajax"),disable_on_submit:c.disable_on_submit,disable_on_invalid:c.disable_on_invalid,disable_button_text:c.disable_button_text,submitButton:d,preSubmit:function(d){$.extend(d,{response:c.response,error:c.error},c.ajax,{success:function(){c.auto_close_on_success&&a.close();e&&e.apply(this,arguments)}});if(c.beforeSubmit)return c.beforeSubmit.call(a.getDom(),b,d?d.data=
d.data||{}:null,a)}});b.find("[default-focus]").focus();this.find(".cancel-button").click(function(){a.close(1)});a.on("content-change",function(a,c,d){c&&b.obj(ValidationPanel).attach(c.filter("[validation]").add(c.find("[validation]")));d&&b.obj(ValidationPanel).detach(d.filter("[validation]").add(d.find("[validation]")))});m&&m.apply(this,[a,b])};delete c.events;return new POPUP($.extend({title:b+(e?" - <span class='emphasized'>"+bm.htmlEncode(e)+"</span>":""),width:430,ajax_url:a,ajax_settings:{data:d}},
c,{clazz:"site-popup"+(c.clazz?" "+c.clazz:""),events:l}))}});
$.extend(app,{isPermitted:function(a,b){if(void 0===app.permissions)return!0;var e=app.admin_id;a=app.permissions[a]?app.permissions[a]:{};var d=1==a.general,c=b?b.id:void 0;c=c?c instanceof Array?c:[c]:[];if(c.length&&(null==a.general||d)){if(a.allowed_entity){var l=a.allowed_entity.intersect(c);Object.keys(a.allowed_entity).length&&l.length==c.length&&(d=!0)}a.denied_entity&&(c=a.denied_entity.intersect(c),Object.keys(a.denied_entity).length&&0!=c.length&&(d=!1))}d||a.owner&&e==b.owner_id&&(d=!0);
return d},checkPermission:function(a,b,e){void 0!==app.permissions&&a&&$.each(b,function(b,c){app.isPermitted(c.key,c.isEntity?e:{})?a.enable?a.enable(c["class"]):a.find("."+c["class"]).removeClass("disabled"):a.disable?a.disable(c["class"]):a.find("."+c["class"]).addClass("disabled")})},updatePermissions:function(){bm.ajax({url:app.baseUrl+"adminBase/updatePermissions",data:{},success:function(a){void 0!==app.permissions&&(app.permissions=a.permissions)}})}});
$.extend(Function.prototype,{blend:function(a){if(!a)return this;var b=this;return function(){a.isString&&(a=bm.prop(window,a));var e=b.apply(this,arguments);return a.apply(this,arguments)||e}},mixin:function(a){return a?a.override||this.virtual?a:this.override||a.virtual?this:(this.order||0)<=(a.order||0)?this.blend(a):a.blend(this):this},inherit:function(a){var b=[];1<arguments.length&&(b=Array.prototype.slice.call(arguments,1));var e=function(){};e.prototype=a.prototype;var d=this.prototype,c=
this.prototype=new e;$.extend(c,bm.filterOwnProperties(d));if(b.length){var l=c;e=function(){};e.prototype=c;c=this.prototype=new e;b.every(function(a,b){$.each(b.prototype||($.isPlainObject(b)?b:{}),function(a){l[a]=l[a]?l[a].mixin(this):this});return!0});this._super=e.prototype;this._super.constructor=function(){a.apply(this,arguments);var c=this,d=arguments;b.every(function(a,b){"function"==typeof b&&b.apply(c,d)})}}else this._super=a.prototype,this._super.constructor=a;c.constructor=this;return c},
intercept:function(a){if(!a)return this;var b=this;return function(){a.isString&&(a=bm.prop(window,a));var e=a.apply(this,arguments);return b.apply(this,arguments)||e}},later:function(){var a=0;return function(b){var e;1<arguments.length&&(e=Array.prototype.splice.call(arguments,1));clearTimeout(a);a=setTimeout(e?function(){this.apply(null,e)}.bind(this):this,b)}}(),on:function(a){app.event.on(a,this)}});Array.prototype.contains=function(a){return-1<this.indexOf(a)};
$.extend(Array.prototype,{all:function(){for(h in this)if(!this[h])return!1;return!0},any:function(a){var b=this.length;if(a)if(a instanceof Function)for(d=0;d<b;d++){if(a(this[d]))return!0}else{var e=function(){return eval(a)};for(d=0;d<b;d++)if(e.call(this[d]))return!0}else for(var d=0;d<b;d++)if(this[d])return!0;return!1},collect:function(a){var b=[];$.isFunction(a)?$.each(this,function(){b.push(a.call(this))}):$.each(this,function(){b.push(this[a])});return b},clone:function(){return this.slice(0)},
count:function(a){var b=0;$.isFunction(a)?this.every(function(e,d){(function(){!0===a.apply(d)&&b++}).apply(d,Array.prototype.splice.call(arguments,1))}):this.every(function(e,d){(function(){!0===eval(a)&&b++}).apply(d,Array.prototype.splice.call(arguments,1))});return b},distinct:function(){for(var a=[],b=0;b<this.length;b++){var e=this[b];-1===$.inArray(e,a)&&a.push(e)}return a},every:function(a){var b=this;$.each(this,function(e,d){return!1!==a.call(d,e,d,b)})},exJoin:function(a){a=a||",";var b=
"";this.every(function(e,d){b+=(0<e?a:"")+(-1<d.indexOf(a)||"("==d.charAt(0)?"("+d+")":d)});return b},native_filter:Array.prototype.filter,filter:function(a){if($.isFunction(a))return this.native_filter.apply(this,arguments);var b=[];this.every(function(){!0===eval(a)&&b.push(this)});return b},native_find:Array.prototype.find,find:function(a){var b=void 0;if($.isFunction(a))return this.native_find.apply(this,arguments);this.every(function(e,d){if(!0===eval(a))return b=this,!1});return b},native_indexOf:Array.prototype.indexOf,
intersect:function(a){if(!a)return this;for(var b=[],e=this.distinct(),d=0;d<e.length;d++){for(var c=e[d],l=!0,m=0;m<arguments.length;m++){var g=arguments[m];if(0==g.length)return[];if(-1===$.inArray(c,g)){l=!1;break}}l&&b.push(c)}return b},iterate:function(a){var b=0,e=this,d=function(){b!=e.length&&a.call(e[b],{next:function(){b++;setTimeout(d,1)}},b)};d()},last:function(){return this[this.length-1]},minus:function(a){return this.filter(function(b){return 0>a.indexOf(b)})},pushAll:function(a){this.push.apply(this,
a)},remove:function(a){a=this.indexOf(a);-1<a&&this.splice(a,1)},removeAll:function(a){var b=this;this.filter(a).every(function(a,d){b.remove(d);return!0});return this},revery:function(a,b){for(var e=this.length-1,d=e;0<=d&&!1!==a.call(b||this[d],this[d],e-d,d,this);d--);},sum:function(a){var b=this.length,e=0;a.isString&&(a=new Function("return "+a));for(var d=0;d<b;d++)e+=a.call(this[d],d);return e}});for(var k in Array.prototype)$.prototype[k]||($.prototype[k]=Array.prototype[k]);
var string_org_index_of=String.prototype.indexOf,string_org_last_index_of=String.prototype.lastIndexOf;
$.extend(String.prototype,{array:function(){return"[]"==this?[]:JSON.parse(this)},bool:function(){return!/^\s*(false|no|off|0|inactive|negative|-(\d*\.)?\d+)\s*$/i.test(this)},byteCount:function(){for(var a=0,b=0;b<this.length;b++){var e=this.charCodeAt(b);128>e?(a+=1,10==e&&(a+=1)):a=2048>e?a+2:65536>e?a+3:2097152>e?a+4:67108864>e?a+5:a+6}return a},camelCase:function(a){var b=new StringWriter,e=this.reader();void 0===a&&(a=!0);for(var d=a;-1!=(a=e.read());)"`"<a&&"{">a||"@"<a&&"[">a||"/"<a&&":">
a?d?(b.plus(a.toUpperCase()),d=!1):b.plus(a):d=!0;return b.toString()},capitalize:function(){return 0==this.length?"":this[0].toUpperCase()+this.substring(1)},contains:function(a){return-1<this.indexOf(a)},dotCase:function(){for(var a=new StringWriter,b=this.reader(),e;-1!=(e=b.read());)"@"<e&&"[">e?(a.plus("."),a.plus(e.toLowerCase())):a.plus(e);return a.toString()},equals:function(a,b){1==arguments.length&&(b=!0);var e=b?this+"":this.toLowerCase(),d=b?a+"":a.toLowerCase();return e==d},exSplit:function(a){a=
a||",";var b=[],e=0,d=!1,c=0;b[0]="";for(var l=0;l<this.length;l++){var m=this.charAt(l);d||m!=a?"("!=m||c?")"!=m||!d||l+1!=this.length&&this.charAt(l+1)!=a?(c++,b[e]+=m):d=!1:d=!0:(b[++e]="",c=0)}return b},hash:function(){var a=0;if(0==this.length)return a;var b;for(b=0;b<this.length;b++){var e=this.charCodeAt(b);a=(a<<5)-a+e;a&=a}return a},htmlEncode:function(){return this.replace(/&/g,"&amp").replace(/</g,"&lt").replace(/>/g,"&gt").replace(/"/g,"&quot").replace(/'/g,"&#39").replace(/\r\n/g,"<br>").replace(/\n/g,
"<br>").replace(/  /g," &nbsp")},indexOf:function(a,b){return a instanceof RegExp?this.substr(b||0).search(a)+(b||0):string_org_index_of.apply(this,arguments)},int:function(a){return/^\s*\d+(.\d*)?\s*$/.test(a)?+a:parseInt(a)||0},lastIndexOf:function(a,b){if(a instanceof RegExp){b=(b||this.length-1)-(this.length-1);var e=this.reverse().indexOf(a,b);return-1==e?-1:e+this.length-1}return string_org_last_index_of.apply(this,arguments)},minusCase:function(){for(var a=new StringWriter,b=this.reader(),
e;-1!=(e=b.read());)"@"<e&&"[">e?(a.plus("-"),a.plus(e.toLowerCase())):a.plus(e);return a.toString()},reader:function(a){var b=0,e=this;return{read:function(){var d=e.charAt(b++);if(!d){if(a)throw"EOF";return-1}return d}}},replaceAll:function(a,b,e){return e?this.replace(new RegExp(a,"g"),b):this.split(a).join(b)},reverse:function(){return this.split("").reverse().join("")},sanitize:function(){return this.trim().toLowerCase().replace(/\s/g,"-").replace(/[^a-z0-9-\._]+/g,"-")},textify:function(){return this.replace(/<[^>]*>/g,
"")},toNumber:function(){return parseFloat(this)},upto:function(a){return this.substring(0,this.indexOf(a))},pxToVal:function(){var a=this.split("px")[0];return(a=parseFloat(a))?a:0}});var $_height=$.prototype.height,$_width=$.prototype.width,$_text=$.prototype.text,$_show=$.prototype.show,$_hide=$.prototype.hide;
$.extend($.prototype,{acss:function(a){try{return this.chide()[0].ownerDocument.defaultView.getComputedStyle(this[0])[a]}finally{this.cshow()}},addAttrProp:function(a,b,e){if(2>arguments.length||!this.is("["+a+"]"))return this;if(2<arguments.length)return this.removeAttrProp(a,b).addAttrProp(a,e);var d=this.attr(a);if(d.toLowerCase().contains(b.toLowerCase()))return this;this.attr(a,(d+" "+b).trim());return this},autoLoadDrop:function(a,b){var e=this.data("autoLoadDrop");if(e)return e;var d=$([]);
this.each(function(){d=bm.autoLoadDrop(this.jqObject,a,b)});return d},bottomRib:function(a,b,e){return this.dirRib("bottom",a,b,e)},changeTag:function(a){a=$("<"+a+">");var b={};$.each(this.get(0).attributes,function(a,c){b[c.name]=c.value});a.attr(b);a.data(this.data());var e=this.children().clone(!0,!0);a.append(e);this.replaceWith(a);return a},chide:function(){return this.each(function(){var a=this.style?this.style.display:void 0;$(this).data("display-cache",a).css({display:"none"})})},cleanWhitespace:function(){this.contents().filter(function(){if(3!=
this.nodeType)return $(this).cleanWhitespace(),!1;this.textContent=$.trim(this.textContent);return!/\S/.test(this.nodeValue)}).remove();return this},clearCache:function(a){if(!this.is("img"))throw $.error("This function is only applicable for img tag");var b=this.attr("src"),e=this,d=$("<iframe style='position: absolute left: -20000px top: -20000px'></iframe>");d.appendTo(document.body);d.one("load",function(){d.one("load",function(){d.remove();e.attr("src",b);a&&a()})[0].contentWindow.location.reload()}).attr("src",
b).bind("error",function(){d.remove()})},_closestCache:$.prototype.closest,closest:function(a){if($.isFunction(a)){var b=this;do if(a.call(b[0]))return b;while(0!=(b=b.parent()).length);return null}return this._closestCache.apply(this,arguments)},collect:function(a){return Array.prototype.collect.call(this,a)},config:function(a,b){if(this.length){var e="attr-parsed-cache#"+a,d=this.tag(e);if(!d){d={};this.tag(e,d);var c=a.length+1;$.each(this.nat.attributes,function(){this.name.startsWith(a+"-")&&
(d[this.name.substring(c).toLowerCase()]=bm.autoType(this.value))})}if(b){if("string"==typeof b)return d[b.toLowerCase()];var l=this;$.each(b,function(b,c){b=b.toLowerCase();d[b]=c;l.attr(a+"-"+b,c)});return this}return d}},copyDeepEvents:function(a,b){function e(a,c){var d=c.children();a=a.children();d.length==a.length&&a.each(function(a){$(this).copyEvents(d.eq(a),b);e($(this),d.eq(a))})}this.copyEvents(a,b);e(this,a)},copyEvents:function(a,b){var e=this,d=this[0][$_priv_data.expando];d&&(d=d.events)&&
$.each(d,function(c,d){$.each(d,function(){var d=this,g=c;this.namespace&&(g=c+"."+this.namespace);var f=b?function(){d.selector?d.handler.apply(e.find(d.selector),arguments):d.handler.apply(e,arguments)}:this.handler;if(this.selector)a.on(g,this.selector,f);else a.on(g,f)})})},cshow:function(){return this.each(function(){var a=$(this).data("display-cache");this.style.display=a;$(this).removeData("display-cache")})},cssCodeEditor:function(){return CodeMirror.fromTextArea(this[0],{lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"},
mode:"css",theme:"eclipse",highlightSelectionMatches:{showToken:/\w/},showCursorWhenSelecting:!0,matchBrackets:!0,autoCloseBrackets:!0})},decimal:function(){return this.each(function(){var a=$(this);a.bind("keydown.restrict",function(b){var e=b.keyCode;return b.shiftKey?browser.key.isArrows(e):e==browser.key.POINT||e==browser.key.NUM_POINT?-1==a.val().indexOf("."):e==browser.key.BACKSPACE||e==browser.key.TAB||e==browser.key.DELETE||browser.key.isArrows(e)||browser.key.isDigit(e)||b.ctrlKey&&(browser.key.is("a",
e)||browser.key.is("A",e)||browser.key.is("c",e)||browser.key.is("v",e)||browser.key.is("x",e)||browser.key.is("C",e)||browser.key.is("V",e)||browser.key.is("X",e))}).on("paste",function(){var a=this,e=this.value;setTimeout(function(){isNaN(a.value)&&(a.value=e)},0)})})},dirRib:function(a,b,e,d){var c=[];void 0===d&&(d=!0);void 0===e&&(e=!0);void 0===b&&(b=!0);d&&c.push("padding");e&&c.push("border");b&&c.push("margin");var l=this;return c.sum(function(){var b=l.css(this+"-"+a+("border"==this?"-width":
""));try{var c=parseInt(b,10);var d=isNaN(c)?0:c}catch(p){d=0}return d})},dropify:function(a,b){var e=window.dropify_instance_count?++window.dropify_instance_count:window.dropify_instance_count=1;if(!this.length)return this;b=b||{};var d=this,c=this.isParentOf(a),l=function(){if(!a.is(":visible")){b.no_position&&b.animation||d.add(a).addClass("bmui-state-visible");var c=function(){d.triggerHandler("dropify:expanded",[a])};if($.isFunction(b.position))b.position();else if(!b.no_position)a.position({my:b.my||
"right top-1",at:b.at||"right bottom",of:b.position_of||d,collision:b.position_collision||"flip",within:b.position_within}),a.offset().top<d.offset().top?a.add(d).addClass("dropped-up"):a.add(d).addClass("dropped-down");else if(b.animation)switch(b.animation){case "slideright":a.toggle("slide",{direction:"left"},void 0,function(){d.add(a).addClass("bmui-state-visible");c()})}if(!1!==b.auto_hide)$(document).one("mousedown.dropify_"+e,function(b){if(a.add(d).isParentOf(b.target)||a.add(d).is(b.target))$(document).one("mousedown.dropify_"+
e,arguments.callee);else if(0==m())$(document).one("mousedown.dropify_"+e,arguments.callee)});b.no_position&&b.animation||c()}},m=function(c){if(!a.is(":hidden")){var f=!0;a[0].dropify_hide_intercept&&(f=a[0].dropify_hide_intercept(c));if(!1!==f)if(c=function(){if(0==d.triggerHandler("dropify:beforeCollapsed",[a]))return!1;a.add(d).removeClass("dropped-down dropped-up bmui-state-visible");b.remove_on_hide&&a.remove();d.triggerHandler("dropify:collapsed",[a])},b.animation)switch(b.animation){case "slideright":a.toggle("slide",
{direction:"left"},void 0,c)}else return c()}};if(!b.keep_on_click)a.off(".dropify_"+e).on("click.dropify_"+e,function(a){m(a.target.jqObject)});b.drop_instant?l():(this.click(function(b){c&&a.isParentOf(b.target)||this.jqObject.is(".disabled")||(a.is(".bmui-state-visible")?(m(),$(document).off("mousedown.dropify_"+e)):l())}),m());c&&void 0==b.no_position&&(b.no_position=!0);a.find(".close-dropbox").on("click.dropify_"+e,function(){m()});a[0].dropify_hide_function=m;a[0].dropify_show_function=l;return this},
editable:function(){var a="<span class='tool-icon edit inline-edit'></span>".jqObject;this.each(function(){var b=this.jqObject;b.hover(function(){this.edit_off||b.append(a)},function(){this.edit_off||a.detach()})});a.on("click",function(){var b=this.jqObject.closest(".inline-editable"),e=b.attr("data-editable-type")||"text";a.detach();b.nat.edit_off=!0;b.addClass("editting");bm["editInline"+e.capitalize()](b).always(function(){b.nat.edit_off=!1;b.removeClass("editting")})});return this},fill:function(a){return bm.ajax($.extend(a,
{fill:this}))},flash:function(a){function b(a){this.opacity=0;this.el=a}b.prototype.start=function(){var a=this;this.interval=setInterval(function(){a.el.animate({opacity:a.opacity},600);a.opacity=a.opacity?0:1},600);this.isFlashing=!0};b.prototype.stop=function(){this.isFlashing&&(this.opacity=1,clearInterval(this.interval),this.el.animate({opacity:1},600),this.isFlashing=!1)};var e=this.data("flash-inst");e||(e=new b(this),this.on("click.flash",function(){e.isFlashing&&e.stop()}),this.on("remove",
function(){e.stop()}),this.data("flash-inst",e));e.isFlashing||e.start()},free:function(){return this.each(function(){var a=$(this);a.is("input")&&a.unbind("keydown.restrict")})},hasAttr:function(a){if(bm.isString(a))return this.is("["+a+"]");var b=!1;$.each(this.nat.attributes,function(){b=a.test(this.name);return!b});return b},hasparent:function(a){return this.parent().is(a)},height:function(a,b,e){if(2>arguments.length||!b&&!e)return $_height.apply(this,arguments);var d=this.outerHeight(e||!1)-
this.height();return $_height.call(this,a-d)},hide:function(){$(this).find("*").each(function(){$(this).triggerHandler("hide")});return $_hide.apply(this,arguments)},htmlCodeEditor:function(){return CodeMirror.fromTextArea(this[0],{lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"},mode:{name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars-template|\/x-mustache/i,mode:null},{matches:/(text|application)\/(x-)?vb(a|script)/i,mode:"vbscript"}]},theme:"eclipse"})},ichange:function(a,b){return this.on("ichange",
a,b)},intercept:function(a,b){return this.on("before_"+a,b)},isBound:function(a,b){var e=this[0][$_priv_data.expando];if(!e)return!1;e=e.events;var d,c=!1;e&&(d=e[a])&&$.each(d,function(){b&&this.namespace!=b||(c=!0);return!c});return c},isChildOf:function(a){return 0<this.parents(a).length},isSelfOrChildOf:function(a){return 0<this.closest(a).length},isParentOf:function(a){return 0<this.find(a).length},leafs:function(){return this.find("*").filter(function(){return 0==$(this).children().length})},
leftRib:function(a,b,e){return this.dirRib("left",a,b,e)},linkify:function(){return this.each(function(){var a=$(this),b=a.attr("data-fill-target");if((b=b?$(b):a.attr("data-target"))||"#workspace".jqObject.length)var e=a.attr("data-processor"),d=app.base+a.click(function(){bm.jsNavigate(d,b,e,a)}).attr("data-url")})},loader:function(a){this.nat.mask_loadtimer&&clearTimeout(this.nat.mask_loadtimer);if(!1===a)bm.unmask(this);else{var b='<div><span class="loader"></span></div>'.jqObject;"string"==typeof a&&
b.addClass(a);this.nat.mask_loadtimer=setTimeout(function(){bm.mask(this,b)}.bind(this),300)}return this},mask:function(a){bm.mask(this,a?a:"<div></div>")},numeric:function(){return this.each(function(){$(this).bind("keydown.restrict",function(a){var b=a.keyCode;return a.shiftKey?browser.key.isArrows(b):b==browser.key.BACKSPACE||b==browser.key.TAB||b==browser.key.DELETE||browser.key.isArrows(b)||browser.key.isDigit(b)||a.ctrlKey&&(browser.key.is("a",b)||browser.key.is("A",b)||browser.key.is("c",b)||
browser.key.is("v",b)||browser.key.is("x",b)||browser.key.is("C",b)||browser.key.is("V",b)||browser.key.is("X",b))}).on("paste",function(){var a=this,b=this.value;setTimeout(function(){var e=a.value;if(isNaN(e)||e.contains(".")||0>e)a.value=b},0)})})},obj:function(a){var b=this.data();if(!b)return null;if("string"==typeof a)return b[a];$.isFunction(a)||(a=null);var e=null;$.each(b,function(b){if(a)return this instanceof a?(e=this,!1):!0;if(b.endsWith("Inst")||b.startsWith("wcui"))return e=this,!1});
return e},outer:function(){return this[0].outerHTML},overflowParent:function(a){var b=this[0].ownerDocument;this.parents().each(function(){var e=this.jqObject;if((!a||"x"==a)&&/hidden|auto|scroll/.test(e.css("overflow-x"))||(!a||"y"==a)&&/hidden|auto|scroll/.test(e.css("overflow-y")))return b=e,!1});return b},pairuncheck:function(){this.after(function(){var a=$(this),b=$("<input style='display: none' class='single' type='checkbox' name='"+a.attr("name")+"' value='"+a.attr("uncheck-value")+"'>");a.bind("change.form",
function(){b[0].checked=this.checked?!1:!0});a.triggerHandler("change.form");return b})},positionFromBody:function(){for(var a=this.get(0),b=0,e=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft+a.clientLeft,e+=a.offsetTop-a.scrollTop+a.clientTop,a=a.offsetParent;return{top:e,left:b}},pposition:function(a,b){var e=this.position();if("left"==a||"top"==a)return e[a];var d=$(this[0].offsetParent);a&&"right"!=a||(e.right=d.innerWidth()-e.left-this.outerWidth(!0));a&&"bottom"!=
a||(e.bottom=d.innerHeight()-e.top-this.outerHeight(!0));if(!a&&b||"width"==a||"height"==a)a?e[a]=this["outer"+a.capitalize()](!0):(e.width=this.outerWidth(!0),e.height=this.outerHeight(!0));return a?e[a]:e},rect:function(a,b){var e=$.extend({},this.nat.getBoundingClientRect()),d=this[0].ownerDocument,c=$(/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement);d=c.scrollTop();c=c.scrollLeft();e.top+=d;e.left+=c;e.bottom+=d;e.right+=c;if(0==arguments.length)return e;
if(a instanceof Boolean||"boolean"==typeof a)b=a,a=void 0;a instanceof $&&(d=a.offset(),d.left*=-1,d.left-=a.leftRib(!1,!0,!1),d.top*=-1,d.top-=a.topRib(!1,!0,!1),a=d);a&&(e.left+=a.left,e.top+=a.top,e.right+=a.left,e.bottom+=a.top);if(b){d=parseInt(this.css("margin-left"));c=parseInt(this.css("margin-right"));var l=parseInt(this.css("margin-top")),m=parseInt(this.css("margin-bottom"));e.left-=d;e.top-=l;e.right+=c;e.bottom+=m;e.width+=d+c;e.height+=l+m}return e},replaceClass:function(a,b){return this.removeClass(a).addClass(b)},
removeAttrProp:function(a,b){if(2>arguments.length||!this.is("["+a+"]"))return this;var e=this.attr(a);this.attr(a,e.replaceAll(b,function(a,b,e){var c=b?e.substring(0,b):"";b=e.substring(b+a.length,e.length);return c.contains("[")&&b.contains("]")?a:""}).trim());return this},reset:function(){this.each(function(){var a=$(this);if(a.is(":input")){var b=this.nextSibling,e=a.parent(),d=$("<form></form>");d.append(a);d[0].reset();b?$(b).before(a):e.append(a)}else a.nat.reset&&a.nat.reset()})},rightRib:function(a,
b,e){return this.dirRib("right",a,b,e)},scrollHere:function(a){a?a.nat instanceof Document&&(a=bm.getTopScroller(a.nat)):(a=this.closest(".scrollable"),a.length||(a=bm.getTopScroller(this[0].ownerDocument)));if(!this.is(":hidden")){var b=a.height(),e=a.width(),d=a.offset(),c=this.offset(),l=c.top-d.top-b;0<l?a.animate({scrollTop:"+="+(l+Math.min(b/3,150))+"px"},800):(l=d.top-c.top,0<l&&a.animate({scrollTop:"-="+(l+Math.min(b/3,150))+"px"},800));b=c.left-d.left-e;0<b?a.animate({scrollLeft:"+="+(b+
Math.min(e/3,150))+"px"},800):(d=d.left-c.left,0<d&&a.animate({scrollLeft:"-="+(d+Math.min(e/3,150))+"px"},800));return this}},serializeObject:function(){var a={},b=(this.is("form")?this:this.find(":input")).serializeArray();$.each(b,function(){void 0!==a[this.name]?($.isArray(a[this.name])||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""});return a},show:function(){var a=function(){$(this).find("*").each(function(){$(this).triggerHandler("show")});b&&
b.apply(this,arguments)};if(1==arguments.length&&$.isPlainObject(arguments[0])){var b=arguments[0].complete;arguments[0].complete=a}var e=-1;$.each(arguments,function(a){"function"==typeof this&&(b=this,e=a)});-1<e&&(arguments[e]=a);$_show.apply(this,arguments);b||a.call(this[0]);return this},signed_decimal:function(){return this.each(function(){var a=$(this);a.bind("keydown.restrict",function(b){var e=b.keyCode;return b.shiftKey?browser.key.isArrows(e):e==browser.key.MINUS||e==browser.key.NUM_MINUS?
("-"!=a.val().charAt(0)&&a.val("-"+a.val()),!1):e==browser.key.POINT||e==browser.key.NUM_POINT?-1==a.val().indexOf("."):e==browser.key.BACKSPACE||e==browser.key.TAB||e==browser.key.DELETE||browser.key.isArrows(e)||browser.key.isDigit(e)||b.ctrlKey&&(browser.key.is("a",e)||browser.key.is("A",e)||browser.key.is("c",e)||browser.key.is("v",e)||browser.key.is("x",e)||browser.key.is("C",e)||browser.key.is("V",e)||browser.key.is("X",e))}).on("paste",function(){var a=this,e=this.value;setTimeout(function(){isNaN(a.value)&&
(a.value=e)},0)})})},signed_numeric:function(){return this.each(function(){var a=$(this);a.bind("keydown.restrict",function(b){var e=b.keyCode;return b.shiftKey?browser.key.isArrows(e):e==browser.key.MINUS||e==browser.key.NUM_MINUS?("-"!=a.val().charAt(0)&&a.val("-"+a.val()),!1):e==browser.key.BACKSPACE||e==browser.key.TAB||e==browser.key.DELETE||browser.key.isArrows(e)||browser.key.isDigit(e)||b.ctrlKey&&(browser.key.is("a",e)||browser.key.is("A",e)||browser.key.is("c",e)||browser.key.is("v",e)||
browser.key.is("x",e)||browser.key.is("C",e)||browser.key.is("V",e)||browser.key.is("X",e))}).on("paste",function(){var a=this,e=this.value;setTimeout(function(){var b=a.value;if(isNaN(b)||b.contains("."))a.value=e},0)})})},sortablecolumn:function(a){function b(b,d){var c=b.index();b=b.closest("table");var g=b.find("tr").not(":first");g.sort(function(b,g){b=$("td:eq("+c+")",b).text().trim().toUpperCase();g=$("td:eq("+c+")",g).text().trim().toUpperCase();if(b==g)return 0;if(""==b){if("always-below"==
a.empty)return 1;if("always-above"==a.empty)return-1}if(""==g){if("always-below"==a.empty)return-1;if("always-above"==a.empty)return 1}return"up"==d&&b>g||"down"==d&&b<g?1:-1});b.append(g.remove())}var e={resetSortState:function(){return this.removeAttr("sort-dir").removeClass("sort-down").removeClass("sort-up")}};if("string"==typeof a)return e[a].call(this);$.extend(a,{empty:"always-below"});e=$(this);e.addClass("sortable").click(function(){var a=$(this),d=a.attr("sort-dir")||"down";"down"==d?(a.attr("sort-dir",
d="up"),a.addClass("sort-up").removeClass("sort-down")):(a.attr("sort-dir",d="down"),a.addClass("sort-down").removeClass("sort-up"));b(a,d);a.closest("table").trigger("sort");a.closest("table").trigger("change")});var d=e.closest("table");d.bind("row-update",function(){var a=$(this).find("th.sortable");a.each(function(){var a=$(this),c=a.attr("sort-dir");c&&b(a,c)});a.trigger("sort");d.trigger("change")});return this},store:function(a,b){return 2==arguments.length?(this.each(function(){this[a]=b}),
this):this.length?this[0][a]:null},swap:function(a){var b=this.parent(),e=this.index(),d=a.parent(),c=a.index();b[0]==d[0]?e<c?(this.before(a),a=d.find(">*:eq("+c+")"),a[0]!=this[0]&&(a.length?a.after(this):d.append(this))):(this.after(a),a=d.find(">*:eq("+c+")"),a[0]!=this[0]&&(a.length?a.before(this):d.append(this))):(this.before(a),a=d.find(">*:eq("+c+")"),a.length?a.before(this):d.append(this))},tag:function(a,b){var e=this.nat;if(a&&!e)return null;var d={remove:function(a){if(e[bm.expando]){var b=
e[bm.expando][a];delete e[bm.expando][a];return b}},get:function(a){return e[bm.expando]&&e[bm.expando][a]},set:function(a){e[bm.expando]||(e[bm.expando]={});var c=e[bm.expando][a];e[bm.expando][a]=b;return c},iterate:function(a){var b=e[bm.expando];b&&$.each(b,a)}};return a?1==arguments.length?d.get(a):void 0===b?d.remove(a):d.set(a):d},text:function(a){return"string"!=typeof a||-1==a.indexOf("\n")&&-1==a.indexOf("  ")?$_text.apply(this,arguments):(a=a.htmlEncode(),this.each(function(){this.innerHTML=
a}))},tip:function(a){a||(a={});this.mouseenter(function(b){$.global_tip_mouseevent_reference=b;b=$(this);var e=$.extend({},a);e.text=e.text||b.attr("tip-text")||b.attr("title");b.removeAttr("title");b.trigger("tip-show",[e]);$.global_tip_timer_reference=setTimeout(function(){$.global_tip_inst_reference&&$.global_tip_inst_reference.close();$.global_tip_timer_reference=null;$.global_tip_inst_reference=new POPUP({content:e.text,template:"<div><div class='content'></div></div>",clazz:"tip-popup",modal:!1,
is_always_up:!0,auto_active:!1,auto_active_on_focus:!1,ui_position:{my:"left bottom",at:"right top",of:$.global_tip_mouseevent_reference}});"function"===typeof a.render&&a.render($.global_tip_inst_reference.content)},e.delay||350)}).mouseleave(function(b){var e=$.global_tip_inst_reference;if(e&&a.sustain_on_hover){var d=e.getDom(),c=d.offset();c.right=c.left+d.outerWidth();c.bottom=c.top+d.outerHeight();if(b.pageX>c.left&&b.pageX<c.right&&b.pageY>c.top&&b.pageY<c.bottom){e.getDom().mouseleave(function(){e.close();
$.global_tip_inst_reference=null});return}}$.global_tip_timer_reference&&(clearTimeout($.global_tip_timer_reference),$.global_tip_timer_reference=null);e&&(e.close(),$.global_tip_inst_reference=null)}).mousemove(function(a){$.global_tip_mouseevent_reference=a});return this},_toggleClassCache:$.prototype.toggleClass,toggleClass:function(a,b){return 2==arguments.length&&b.isString?(this.hasClass(a)?this.removeClass(a).addClass(b):this.removeClass(b).addClass(a),this):this._toggleClassCache(a,b)},topRib:function(a,
b,e){return this.dirRib("top",a,b,e)},triggerWithPropagation:function(a,b){this.each(function(){var e=$.Event(a);e.target=this;for(var d=$(this).parents().addBack(),c=d.length-1;0<=c;c--)if(!1===d.eq(c).triggerHandler(e,b))return!1})},unmask:function(){this.removeClass("updating");this.find(".div-mask").detach()},unwrapInner:function(){var a=this.children().first(),b=a.contents();this.prepend(b);a.remove();return this},width:function(a,b,e){if(2>arguments.length||!b&&!e)return $_width.apply(this,
arguments);var d=this.outerWidth(e||!1)-this.width();return $_width.call(this,a-d)},xshow:function(){return this.each(function(){this.style.display=""})}});Object.defineProperty($.prototype,"nat",{get:function(){return this.length?this[0]:null}});bm.domnode_parent_remove_handler=[];bm.domnode_self_remove_handler=[];
$(document).on("DOMNodeRemoved",function(a){var b=a.target,e=b.remove_key_hash||(b.remove_key_hash=bm.getUUID());if(bm.domnode_self_remove_handler[e]){var d=bm.domnode_self_remove_handler[e];delete bm.domnode_self_remove_handler[e];d.every(function(c,d){b==d.element&&d.handler.call(b,a);return!0})}bm.domnode_parent_remove_handler.every(function(c,d){$(b).find(d.element).length&&(d.selector?$(d.element).find(d.selector).each(function(){d.handler.call(this,a)}):d.handler.call(d.element,a));return!0})});
bm.jquery_data_clean_handler=[];var original_clean=$.cleanData;$.cleanData=function(a,b){a instanceof Array||(a=$.makeArray(a));a.every(function(a,b){return b.cleaning_data=!0});bm.jquery_data_clean_handler.every(function(b,d){a.contains(d.element)&&(d.selector?$(d.element).find(d.selector).each(function(){d.handler.call(this,$.Event("jqclean"))}):d.handler.call(d.element,$.Event("jqclean")))});original_clean.apply(this,arguments,b);a.every(function(a,b){delete b.cleaning_data;return!0})};
$.extend($.event.special,{ichange:{add:function(a){var b=a.selector?a.selector.split(","):["no-selector"],e=a.data||400,d=$(this),c=a.namespace?a.namespace.split("."):["no-namespace"],l;$.each(b,function(a,b){function f(){var a=b?d.find(b):d,c=a.val();if(c!=v){var f=v;v=c;setTimeout(function(){b?d.triggerHandler({type:"ichange",target:a[0]},[c,f]):d.triggerHandler("ichange",[c,f])},5)}}function g(){m&&clearInterval(m);m=setInterval(f,e)}b=b.trim();var m,v,u=d.data("ichange-bound");if(!u)u={},u[b]=
c,d.data("ichange-bound",u);else if(null!=u[b]){$.each(c,function(){u[b].push(this)});return}"no-selector"==b&&(b=null);a=function(){v=this.value;l=this;g()};var w=function(){m&&clearInterval(m);f()},C=function(a,c,f){this!=l&&(b?d.triggerHandler({type:"ichange",target:this},[this.value,f]):d.triggerHandler("ichange",[this.value,f]))};b?(d.on("focus.ichange-event",b,a),d.on("blur.ichange-event",b,w),d.on("keydown.ichange-event",b,g),d.on("change.ichange-event",b,C)):(d.on("focus.ichange-event",a),
d.on("blur.ichange-event",w),d.on("keydown.ichange-event",g),d.on("change.ichange-event",C),d.each(function(){this.isilent=function(a){this==l&&(v=a);this.value=a;return $(this)}}))})},remove:function(a){var b=a.selector?a.selector.split(","):["no-selector"],e=$(this),d="";$.each(b,function(b,l){l=l.trim();var c=e.data("ichange-bound");if(c)if(c[l]&&a.namespace){b=a.namespace.split(".");var g=c[l];$.each(b,function(a,b){var d=[];$.each(g,function(a){b==this&&d.push(a)});$.each(d,function(a){c[l].splice(this-
a,1)})});0==c[l].length&&(d+=" "+l,delete c[l])}else d+=" "+l});""!=d&&("no-selector"!=d?(e.off("focus.ichange-event",d),e.off("blur.ichange-event",d),e.off("keydown.ichange-event",d)):(e.off("focus.ichange-event"),e.off("blur.ichange-event"),e.off("keydown.ichange-event")))}},remove:{add:function(a){var b={element:this,namespace:a.namespace,handler:a.handler};a.selector||(a=this.remove_key_hash||(this.remove_key_hash=bm.getUUID()),bm.domnode_self_remove_handler[a]||(bm.domnode_self_remove_handler[a]=
[]),bm.domnode_self_remove_handler[a].push(b));bm.domnode_parent_remove_handler.push(b)},remove:function(a){var b=this;if(!a.selector&&!this.cleaning_data){var e=this.remove_key_hash||(this.remove_key_hash=bm.getUUID());bm.domnode_self_remove_handler[e]&&(bm.domnode_self_remove_handler[e].removeAll(function(d){return b==d.element&&(!a.namespace||a.namespace==d.namespace)&&(!a.handler||a.handler==d.handler)}),bm.domnode_self_remove_handler[e].length||delete bm.domnode_self_remove_handler[e])}bm.domnode_parent_remove_handler.removeAll(function(d){return b==
d.element&&(!a.namespace||a.namespace==d.namespace)&&(!a.selector||a.selector==d.selector)&&(!a.handler||a.handler==d.handler)})}},jqclean:{add:function(a){bm.jquery_data_clean_handler.push({element:this,namespace:a.namespace,selector:a.selector,handler:a.handler})},remove:function(a){var b=this;bm.jquery_data_clean_handler.removeAll(function(e){return b==e.element&&(!a.namespace||a.namespace==e.namespace)&&(!a.selector||a.selector==e.selector)&&(!a.handler||a.handler==e.handler)})}}});
var _to_fixed=Number.prototype.toFixed;
$.extend(Number.prototype,{toFixed:function(a,b){a=_to_fixed.call(this,a);return b?a.replace(/\.?0+$/,""):a},toByteNotation:function(){if(1024>this)return this.toFixed(3,!0)+" B";var a=this/1024;if(1024>a)return a.toFixed(3,!0)+" KB";a/=1024;if(1024>a)return a.toFixed(3,!0)+" MB";a/=1024;return 1024>a?a.toFixed(3,!0)+" GB":(a/1024).toFixed(3,!0)+" TB"},loop:function(a,b){null==b&&(b=0);for(var e=this+b;b<e;b++)a(b)},rloop:function(a,b){null==b&&(b=this);for(var e=this-b;b>e&&!1!==a(b);b--);}});
function StringWriter(){this.buffer=[]}StringWriter.prototype.plus=function(a){this.buffer.push(a);return this};StringWriter.prototype.toString=function(){return this.buffer.join("")};$.extend(Date.prototype,{gmt:function(){return new Date(this.getTime()+6E4*this.getTimezoneOffset())},toZone:function(){return new Date(this.getTime()-6E4*this.getTimezoneOffset())},format:function(a){return this.toString(a)}});var _cachedObjectProtoToString=Object.prototype.toString;
Object.defineProperty(Object.prototype,"isArray",{get:function(){return this.cached_is_array||"[object Array]"==_cachedObjectProtoToString.call(this)},set:function(a){this.cached_is_array=a}});Object.defineProperty(Object.prototype,"isFunction",{get:function(){return this.cached_is_function||"function"===typeof this},set:function(a){this.cached_is_function=a}});Object.defineProperty(Object.prototype,"isString",{get:function(){return"[object String]"==_cachedObjectProtoToString.call(this)}});
Object.defineProperty(Object.prototype,"isNumber",{get:function(){return this.cached_is_number||"[object Number]"==_cachedObjectProtoToString.call(this)},set:function(a){this.cached_is_number=a}});Object.defineProperty(Object.prototype,"isDate",{get:function(){return"[object Date]"==_cachedObjectProtoToString.call(this)}});Object.defineProperty(Object.prototype,"isUndefined",{get:function(){return"undefined"===typeof this}});
Object.defineProperty(Object.prototype,"jqObject",{get:function(){return this instanceof String?$(this.toString()):$(this)}});var sizzle_expando=Object.keys($.expr.pseudos.not)[0];$.extend($.expr.pseudos,{hasparent:function(){var a=function(a){return function(b){return $(b.parentNode).is(a)}};a[sizzle_expando]=!0;return a}(),value:function(){var a=function(a){return function(b){return b.value==a}};a[sizzle_expando]=!0;return a}()});
(function(){var a,b={}.hasOwnProperty,e=function(a,c){function d(){this.constructor=a}for(var g in c)b.call(c,g)&&(a[g]=c[g]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a};var d=function(){function a(){this.options_index=0;this.parsed=[]}a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)};a.prototype.add_group=function(a){var b;var c=this.parsed.length;this.parsed.push({array_index:c,group:!0,label:this.escapeExpression(a.label),
children:0,disabled:a.disabled});var d=a.childNodes;var g=[];var e=0;for(b=d.length;e<b;e++){var l=d[e];g.push(this.add_option(l,c,a.disabled))}return g};a.prototype.add_option=function(a,b,c){if("OPTION"===a.nodeName.toUpperCase()){if(""!==a.text){null!=b&&(this.parsed[b].children+=1);var d=a.getAttribute("depth");d=d?parseInt(d):0;this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:!0===c?c:a.disabled,
group_array_index:b,classes:a.className,style:a.style.cssText,depth:d})}else this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0});return this.options_index+=1}};a.prototype.escapeExpression=function(a){if(null==a||!1===a)return"";if(!/[\&\<\>\"\'\`]/.test(a))return a;var b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return a.replace(/&(?!\w+;)|[\<\>\"\'\`]/g,function(a){return b[a]||"&amp;"})};return a}();d.select_to_array=function(a){var b;
var c=new d;var e=a.childNodes;var l=0;for(b=e.length;l<b;l++)a=e[l],c.add_node(a);return c.parsed};var c=function(){function a(){this.options_index=0;this.parsed=[]}a.prototype.add_option=function(a){var b=l(a);this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:b.attr("value"),text:a.innerHTML.trim(),html:a.innerHTML.trim(),selected:b.is(".selected"),disabled:b.is("[disabled]"),group_array_index:void 0,classes:b.attr("class"),style:a.style.cssText});return this.options_index+=
1};return a}();c.select_to_array=function(a){var b;var d=new c;var e=l(a).find(".options");var m=0;for(b=e.length;m<b;m++)a=e[m],d.add_option(a);return d.parsed};window.AbstractChosen=function(){function a(a,b){this.form_field=a;if(this.is_custom_select=l(this.form_field).is("div.wcui-select"))a=l("<select></select>",{name:this.form_field.getAttribute("name"),"class":this.form_field.getAttribute("class")}).hide(),l(this.form_field).hide().after(a),this.custom_data_source=this.form_field,this.form_field=
a[0];this.options=null!=b?b:{};this.is_multiple=this.form_field.multiple;this.options_updated=!0;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers()}a.prototype.set_default_values=function(){var a=this;this.activate_action=function(b){return a.activate_field(b)};this.results_showing=this.mouse_on_container=this.active_field=!1;this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?
this.options.allow_single_deselect:!1;this.disable_search_threshold=this.options.disable_search_threshold||10;this.disable_search=this.options.disable_search||!1;this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0;this.group_search=null!=this.options.group_search?this.options.group_search:!0;this.search_contains=this.options.search_contains||!1;this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:
!0;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||!0;this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0;return this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0};a.prototype.set_default_text=function(){this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):
this.default_text=this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text;return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text};a.prototype.mouse_enter=function(){return this.mouse_on_container=!0};a.prototype.mouse_leave=function(){return this.mouse_on_container=!1};
a.prototype.input_focus=function(a){var b=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return b.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()};a.prototype.input_blur=function(a){var b=this;this.search_field_blur_to_container=!1;if(this.mouse_on_container)this.search_field_blur_to_container=!0;else return this.active_field=!1,setTimeout(function(){return b.blur_test()},100)};a.prototype.results_option_build=function(a){var b;var c=
"";var d=this.results_data;var g=0;for(b=d.length;g<b;g++){var e=d[g];c=e.group?c+this.result_add_group(e):c+this.result_add_option(e);null!=a&&a.first&&(e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&this.single_set_selected_text(e.text))}return c};a.prototype.result_add_option=function(a){if(!a.search_match||!this.include_option_in_results(a))return"";var b=["chosen-result"];a.disabled||a.selected&&this.is_multiple||b.push("active-result");!a.disabled||a.selected&&
this.is_multiple||b.push("disabled-result");a.selected&&b.push("result-selected");null!=a.group_array_index&&b.push("group-option");""!==a.classes&&b.push(a.classes);var c=document.createElement("div");c.className=b.join(" ");c.style.cssText=a.style;c.setAttribute("data-option-array-index",a.array_index);if(1<a.depth){b="";for(i=1;i<a.depth;i++)b+="&nbsp;&nbsp;";b=b+"<span class='child'>-</span>&nbsp;"+a.search_text}else b=a.search_text;c.innerHTML=b;return this.outerHTML(c)};a.prototype.result_add_group=
function(a){if(!a.search_match&&!a.group_match||!(0<a.active_options))return"";var b=document.createElement("li");b.className="group-result";b.innerHTML=a.search_text;return this.outerHTML(b)};a.prototype.results_update_field=function(){this.options_updated=!0;this.set_default_text();this.is_multiple||this.results_reset_cleanup();this.result_clear_highlight();this.results_build();if(this.results_showing)return this.winnow_results()};a.prototype.reset_single_select_options=function(){var a;var b=this.results_data;
var c=[];var d=0;for(a=b.length;d<a;d++){var e=b[d];e.selected?c.push(e.selected=!1):c.push(void 0)}return c};a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()};a.prototype.winnow_results=function(){var a,b=!this.search_field[0].readOnly;if(b||this.options_updated){this.no_results_clear();var c=0,d=this.get_search_text();var e=d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&");var l=this.search_contains?"":"^";l=new RegExp(l+e,"i");var m=new RegExp(e,"i");var C=this.results_data;var z=0;for(a=C.length;z<a;z++){e=C[z];e.search_match=!1;var x=null;if(this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(x=this.results_data[e.group_array_index],0===x.active_options&&x.search_match&&(c+=1),x.active_options+=1),!e.group||this.group_search))if(e.search_text=e.group?e.label:
e.html,e.search_match=this.search_string_match(e.search_text,l),e.search_match&&!e.group&&(c+=1),e.search_match){if(d.length){var y=e.search_text.search(m);var A=e.search_text.substr(0,y+d.length)+"</em>"+e.search_text.substr(y+d.length);e.search_text=A.substr(0,y)+"<em>"+A.substr(y)}null!=x&&(x.group_match=!0)}else null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)}this.result_clear_highlight();1>c&&d.length?((b||this.options_updated)&&this.update_results_content(""),
b=this.no_results(d)):((b||this.options_updated)&&this.update_results_content(this.results_option_build()),b=this.winnow_results_set_highlight())}else b=this.winnow_results_set_highlight();this.dropdown.position({my:"left top",at:this.is_multiple?"left bottom+1":"left bottom",of:this.container,within:this.container[0].offsetParent});this.options_updated=!1;return b};a.prototype.search_string_match=function(a,b){var c;if(b.test(a))return!0;if(this.enable_split_word_search&&(0<=a.indexOf(" ")||0===
a.indexOf("["))){var d=a.replace(/\[|\]/g,"").split(" ");if(d.length){var f=0;for(c=d.length;f<c;f++)if(a=d[f],b.test(a))return!0}}};a.prototype.choices_count=function(){var a,b;if(null!=this.selected_option_count)return this.selected_option_count;this.selected_option_count=0;if(b=this.form_field.options){var c=0;for(a=b.length;c<a;c++){var d=b[c];d.selected&&(this.selected_option_count+=1)}}else this.selected_option_count=this.getSelectedCount();return this.selected_option_count};a.prototype.choices_click=
function(a){a.preventDefault();if(l(a.target).is(".search-choice, .search-choice > *")&&this.is_multiple&&this.results_showing)this.close_field();else if(!(this.results_showing||this.is_disabled||l(a.target).is(".search-choice, .search-choice > *")))return this.results_show()};a.prototype.keyup_checker=function(a){var b;var c=null!=(b=a.which)?b:a.keyCode;this.search_field_scale();switch(c){case 8:if(this.is_multiple&&1>this.backstroke_length&&0<this.choices_count())return this.keydown_backstroke();
if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};a.prototype.clipboard_event_checker=function(a){var b=this;return setTimeout(function(){return b.results_search()},50)};a.prototype.include_option_in_results=function(a){return this.is_multiple&&
!this.display_selected_options&&a.selected||!this.display_disabled_options&&a.disabled||a.empty?!1:!0};a.prototype.search_results_touchstart=function(a){this.touch_started=!0;return this.search_results_mouseover(a)};a.prototype.search_results_touchmove=function(a){this.touch_started=!1;return this.search_results_mouseout(a)};a.prototype.search_results_touchend=function(a){if(this.touch_started)return this.search_results_mouseup(a)};a.prototype.outerHTML=function(a){if(a.outerHTML)return a.outerHTML;
var b=document.createElement("div");b.appendChild(a);return b.innerHTML};a.prototype.reset_single_select_options=function(){var a;var b=this.results_data;var c=[];var d=0;for(a=b.length;d<a;d++){var e=b[d];e.selected?c.push(e.selected=!1):c.push(void 0)}return c};a.default_multiple_text="Select Some Options";a.default_single_text="Select an Option";a.default_no_result_text="No results match";a.prototype.destroy=function(){this.destroy()};a.prototype.disable=function(a){var b=arguments,c=this.form_field_jq;
if("string"==typeof a){var d=c.find("option[value='"+a+"']");2!=b.length||b[1]?d.attr("disabled",""):d.removeAttr("disabled")}else a?c.attr("disabled",""):c.removeAttr("disabled");c.trigger("chosen:updated")};a.prototype.add=function(a){var b=this.form_field_jq;var c=b.find("option[value='"+(a.value?a.value:"").replace(/(')/g,"\\$1")+"']");c.length?c=c.text(a.text):(c=l("<option></option>",a),b.append(c));a.selected&&b.val(c.attr("value"));b.trigger("chosen:updated")};a.prototype.update=function(){this.form_field_jq.trigger("chosen:updated")};
a.prototype.val=function(a){var b=this.form_field_jq;if(void 0!=a)b.val(a),b.trigger("chosen:updated");else return b.val()};a.prototype.remove=function(a){var b=this.form_field_jq;if(a){if(a=a instanceof l?a:b.find("option[value='"+a+"']"),a.length){var c=a[0].selected;a.remove();c&&b.val(b.find("option:first").val());b.trigger("chosen:updated")}}else this.destroy(),b.remove()};a.prototype.removeAll=function(){this.form_field_jq.find("option").remove();this.form_field_jq.val("");this.form_field_jq.trigger("chosen:updated")};
a.prototype.dropshow=function(){this.form_field_jq.trigger("chosen:open.chosen")};return a}();var l=jQuery;l.fn.extend({chosen:function(a){var b=arguments;if(!this.length)return this;var c;l.each(this,function(){var d=l(this);var f=d.data("wcui-chosen");if("string"==typeof a&&f){if(c=f[a].apply(f,Array.prototype.splice.call(b,1)),"undefined"!=typeof c)return!1}else f||(l.extend(a,d.config("chosen")),d.data("wcui-chosen",new Chosen(this,a)))});return c?c:this}});window.Chosen=function(b){function g(){return a=
g.__super__.constructor.apply(this,arguments)}e(g,b);g.prototype.setup=function(){this.form_field_jq=l(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};g.prototype.set_up_html=function(){var a=["chosen-container"];a.push("chosen-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&a.push(this.form_field.className);this.is_rtl&&a.push("chosen-rtl");a={"class":a.join(" "),
title:this.form_field.title};this.form_field.id.length&&(a.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen");this.container=l("<div />",a);this.form_field_jq.attr("validation")&&!this.form_field_jq.is("[error-on]")&&(a=a.id,a||(a=bm.getUUID(),this.container.attr("id",a)),this.form_field_jq.attr("error-on",a));this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><div class="chosen-results"></div></div>'):
this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><div class="chosen-results"></div></div>');a=this.container.find(".chosen-results");a.scrollbar({vertical:{offset:-2,step:"auto"}});a.css({maxHeight:"120px"});this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=
this.container.find("input").first().change(function(a){a.originalEvent.ignore=!0});this.search_results=this.container.find(".chosen-results").first();this.search_field_scale();this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first());this.results_build();this.set_tab_index();
this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this})};g.prototype.register_observers=function(){var a=this;this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)});this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)});this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)});this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)});this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)});
this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)});this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)});this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)});this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)});this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)});this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)});
this.search_field.bind("blur.chosen",function(b){a.input_blur(b)});this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)});this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)});this.search_field.bind("focus.chosen",function(b){a.input_focus(b)});this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)});this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)});return this.is_multiple?this.search_choices.bind("click.chosen",
function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})};g.prototype.destroy=function(){this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex);this.is_custom_select&&this.form_field.remove();this.container.remove();this.form_field_jq.removeData("wcui-chosen");return this.form_field_jq.show()};g.prototype.search_field_disabled=function(){if(this.is_disabled=this.form_field_jq[0].disabled)return this.container.addClass("chosen-disabled"),
this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field();this.container.removeClass("chosen-disabled");this.search_field[0].disabled=!1;if(!this.is_multiple)return this.selected_item.bind("focus.chosen",this.activate_action)};g.prototype.container_mousedown=function(a){if(!this.is_disabled&&(a&&"mousedown"===a.type&&!this.results_showing&&a.preventDefault(),null==a||!l(a.target).is(".search-choice, .search-choice > *")))return this.active_field?
this.is_multiple||!a||l(a.target)[0]!==this.selected_item[0]&&!l(a.target).parents("a.chosen-single").length||(a.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),this.results_show()),this.search_activated_for_mousedown=!0,this.activate_field()};g.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a);if(this.search_activated_for_mousedown||this.is_multiple&&this.search_field_blur_to_container&&!l(a.target).is(".search-choice, .search-choice > *"))this.search_activated_for_mousedown=
!1,this.search_field.focus()};g.prototype.search_results_mousewheel=function(a){var b;a.originalEvent&&(b=-a.originalEvent.wheelDelta||a.originalEvent.detail);if(null!=b)return a.preventDefault(),"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())};g.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()};g.prototype.close_field=function(){this.active_field=!1;this.results_hide();
this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};g.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=!0;this.search_field.val(this.search_field.val());return this.search_field.focus()};g.prototype.results_build=function(){var a=this;this.parsing=!0;this.selected_option_count=null;this.results_data=this.is_custom_select?c.select_to_array(this.custom_data_source):
d.select_to_array(this.form_field);this.is_custom_select&&(a.form_field_jq.empty(),this.results_data.every(function(){var b=l("<option></option>",{value:this.value});this.selected&&b.attr("selected","selected");a.form_field_jq.append(b)}));if(this.is_multiple)this.search_choices.find("li.search-choice").remove();else if(!this.is_multiple){this.single_set_selected_text();var b=this.is_custom_select?this.form_field_jq.find(".options").length:this.form_field.options?this.form_field.options.length:0;
this.disable_search||b<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))}this.update_results_content(this.results_option_build({first:!0}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=!1};g.prototype.result_do_highlight=function(a){if(a.length){this.result_clear_highlight();
this.result_highlight=a;this.result_highlight.addClass("highlighted");var b=parseInt(this.search_results.css("maxHeight"),10);var c=this.search_results.scrollTop();var d=b+c;var f=this.result_highlight.position().top+this.search_results.scrollTop();a=f+this.result_highlight.outerHeight();if(a>=d)return this.search_results.scrollTop(0<a-b?a-b:0);if(f<c)return this.search_results.scrollTop(f)}};g.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");
return this.result_highlight=null};g.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;var a=this.container.hasClass("always-bottom");this.container.addClass("chosen-with-drop");this.results_showing=!0;this.search_field.focus();this.search_field.val(this.search_field.val());this.winnow_results();if(!a){a=l(window);var b=this.container.parents(".scrollable.vertical").first(),
c=this.container.offset().top;b.length&&(a=b,c-=a.offset().top);b=this.container.find(".chosen-drop");var d=this.container.height();a.height()-(c+d)>b.height()?this.container.find(".chosen-drop").css({top:1.18*d}):this.container.find(".chosen-drop").css({top:-b.height()})}return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};g.prototype.update_results_content=function(a){this.search_results.find(".chosen-result").remove();this.search_results.prepend(a);this.search_results.is(".scrollable")&&
this.search_results.obj()instanceof Scrollbar&&this.search_results.scrollbar("update")};g.prototype.results_hide=function(){this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this}));return this.results_showing=!1};g.prototype.set_tab_index=function(a){if(this.form_field.tabIndex)return a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a};g.prototype.set_label_behavior=
function(){var a=this;this.form_field_label=this.form_field_jq.parents("label");!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']"));if(0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",function(b){return a.is_multiple?a.container_mousedown(b):a.activate_field()})};g.prototype.show_search_field_default=function(){if(this.is_multiple&&1>this.choices_count()&&!this.active_field)return this.search_field.val(this.default_text),
this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};g.prototype.search_results_mouseup=function(a){var b=l(a.target).hasClass("active-result")?l(a.target):l(a.target).parents(".active-result").first();if(b.length)return this.result_highlight=b,this.result_select(a),this.search_field.focus()};g.prototype.search_results_mouseover=function(a){if(a=l(a.target).hasClass("active-result")?l(a.target):l(a.target).parents(".active-result").first())return this.result_do_highlight(a)};
g.prototype.search_results_mouseout=function(a){if(l(a.target).hasClass("active-result"))return this.result_clear_highlight()};g.prototype.choice_build=function(a){var b=this;var c=l("<li />",{"class":"search-choice"}).html("<span>"+a.html+"</span>");a.disabled?c.addClass("search-choice-disabled"):(a=l("<a />",{"class":"search-choice-close","data-option-array-index":a.array_index}),a.bind("click.chosen",function(a){return b.choice_destroy_link_click(a)}),c.append(a));return this.search_container.before(c)};
g.prototype.choice_destroy_link_click=function(a){if(!(this.before_choice_close&&!1===this.before_choice_close(l(a.target).closest("li"))||this.is_disabled))return this.choice_destroy(l(a.target))};g.prototype.choice_value=function(a){a.is("li")&&(a=a.find("a.search-choice-close"));a=a[0].getAttribute("data-option-array-index");return this.form_field.options[this.results_data[a].options_index].value};g.prototype.choice_destroy=function(a){var b=a[0].getAttribute("data-option-array-index");if(this.result_deselect(b))return this.show_search_field_default(),
this.is_multiple&&0<this.choices_count()&&1>this.search_field.val().length&&this.results_hide(),a.parents("li").first().remove(),a=this.form_field.options[this.results_data[b].options_index].value,this.form_field_jq.trigger("selection_removed",a),this.form_field_jq.trigger("change",[a,void 0]),this.search_field_scale()};g.prototype.results_reset=function(){this.reset_single_select_options();var a=this.is_multiple?null:-1<this.form_field.selectedIndex?this.form_field.options[this.form_field.selectedIndex].value:
null;this.form_field.options[0].selected=!0;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change",[this.is_multiple?void 0:a,this.form_field.options[0].value]);if(this.active_field)return this.results_hide()};g.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};g.prototype.result_select=function(a){if((!this.before_choice_chose||
!1!==this.before_choice_chose(a))&&this.result_highlight){a=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.is_multiple||(this.reset_single_select_options(),a.siblings(".result-selected").removeClass("result-selected"),a.addClass("result-selected"));a=this.results_data[a[0].getAttribute("data-option-array-index")];a.selected=!0;this.form_field.options[a.options_index].selected=
!0;this.selected_option_count=null;this.is_multiple?this.choice_build(a):this.single_set_selected_text(a.text);this.results_hide();this.search_field.val("");var b=this.form_field.selectedIndex;var c=this.form_field.options[a.options_index].value;var d=this.current_selectedIndex;this.current_selectedIndex=b;a=this.search_field_scale();var f=this;setTimeout(function(){f.is_multiple?(f.form_field_jq.trigger("selection_added",[c]),f.form_field_jq.trigger("change",[void 0,c])):b!==d&&f.form_field_jq.trigger("change",
[-1<d?f.form_field.options[d].value:void 0,c])},10);return a}};g.prototype.get_ordered_selection=function(){var a=this;if(this.is_multiple){var b=[];this.search_container.siblings(".search-choice").each(function(){b.push(a.results_data[l(this).find(".search-choice-close").attr("data-option-array-index")].value)});return b}};g.prototype.make_selection_sortable=function(){var a=this;this.is_multiple&&this.search_choices.sortable({items:".search-choice",update:function(){a.form_field_jq.trigger("chosen:re_ordered")}})};
g.prototype.single_set_selected_text=function(a){null==a&&(a=this.default_text);a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default"));return this.is_custom_select?this.selected_item.find("span").html(a):this.selected_item.find("span").text(a)};g.prototype.result_deselect=function(a){a=this.results_data[a];if(this.form_field.options[a.options_index].disabled)return!1;a.selected=!1;this.form_field.options[a.options_index].selected=
!1;this.selected_option_count=null;this.result_clear_highlight();this.results_showing&&this.winnow_results();return!0};g.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")};g.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":l("<div/>").text(l.trim(this.search_field.val())).html()};
g.prototype.winnow_results_set_highlight=function(){var a=this.is_multiple?[]:this.search_results.find(".result-selected.active-result");a=a.length?a.first():this.search_results.find(".active-result").first();if(null!=a)return this.result_do_highlight(a)};g.prototype.no_results=function(a){var b=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');b.find("span").first().html(a);this.search_results.append(b);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};
g.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};g.prototype.keydown_arrow=function(){var a;if(this.results_showing&&this.result_highlight){if(a=this.result_highlight.nextAll("div.active-result").first())return a=this.result_do_highlight(a),this.search_results.scrollbar("update"),a}else return this.results_show()};g.prototype.keyup_arrow=function(){if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight){var a=
this.result_highlight.prevAll("div.active-result");if(a.length)return a=this.result_do_highlight(a.first()),this.search_results.scrollbar("update"),a;0<this.choices_count()&&this.results_hide();return this.result_clear_highlight()}};g.prototype.keydown_backstroke=function(){if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();var a=this.search_container.siblings("li.search-choice").last();if(a.length&&!a.hasClass("search-choice-disabled"))return this.pending_backstroke=
a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")};g.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};g.prototype.keydown_checker=function(a){var b;var c=null!=(b=a.which)?b:a.keyCode;this.search_field_scale();8!==c&&this.pending_backstroke&&this.clear_backstroke();switch(c){case 8:this.backstroke_length=this.search_field.val().length;
break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a);this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}};g.prototype.search_field_scale=function(){var a;if(this.is_multiple){var b="position:absolute; left: -1000px; top: -1000px; display:none;";var c="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");var d=0;for(a=
c.length;d<a;d++){var e=c[d];b+=e+":"+this.search_field.css(e)+";"}b=l("<div />",{style:b});b.text(this.search_field.val());l("body").append(b);e=b.width()+25;b.remove();b=this.container.outerWidth();e>b-10&&(e=b-10);(b=this.form_field_jq.attr("min-width"))&&b>e&&(e=b);return this.search_field.css({width:e+"px"})}};return g}(AbstractChosen)}).call(this);
(function(){bm.onReady(window,"VALIDATION_RULES",function(){VALIDATION_RULES["chosen-required"]={check:function(a,b,d){return 0<d.find("input").length},msg_template:VALIDATION_RULES.required.msg_template}});$.fn.extend({multitxtchosen:function(a){return this.length?$(this).each(function(){if(!$(this).hasClass("chosen-done")){"multi"!=a.type||a.name||(a.name=$(this).attr("name"));var b=new e(this,a);$(this).data("wcui-multitxtchosen",b);return b}}):this},multispecialchosen:function(a){return this.length?
this.each(function(b){var c=$(this);if(!c.hasClass("chosen-done"))return c[b].getAttribute("selected"),a.selectedItem=a.highlighted,c.data("wcui-chosen",new d(this,a))}):this}});var a={to_array:function(a){a=a.val();return""==a?[]:a.exSplit()}},b={to_array:function(a){var b=[];a.find("input").each(function(){b.push(this.value)});return b}},e=function(){function c(){arguments[0].multiple=!0;c._super.constructor.apply(this,arguments)}c.inherit(window.Chosen);c.prototype.results_build=function(){var c;
this.parsing=!0;this.selected_Invalid_count=this.selected_option_count=0;"multi"==this.options.type?(this.results_data=b.to_array(this.form_field_jq),this.form_field_jq.html("")):"csv"==this.options.type&&(this.results_data=a.to_array(this.form_field_jq),this.csv_as_array=[],this.form_field_jq.val(""));var d=this.results_data;var e=0;for(c=d.length;e<c;e++){var f=d[e];this.choice_build({array_index:"_"+(new Date).getTime()+"_",html:f})}this.search_field_disabled();this.show_search_field_default();
this.search_field_scale();this.search_results.html("");return this.parsing=!1};c.prototype.getSelectedCount=function(){this.results_data.length};c.prototype.choice_build=function(a){if(""!=$.trim(a.html)){var b=this;var c=this.container_id+"_c_"+a.array_index;var d=!0;if(!this.check_duplicate(a.html)){if(this.form_field_jq.is("[chosen-validation]")){var e=this.form_field_jq.attr("chosen-validation");d=!ValidationField.validateAs($("<input>").val(a.html),e)}e=$('<li class="search-choice '+(d?"":"invalid")+
'" id="'+c+'"><span>'+a.html.htmlEncode()+'</span><a href="javascript:void(0)" class="search-choice-close" data-option-array-index="'+a.array_index+'"></a></li>');this.search_container.before(e);e=e.find("a").first();d?(this.selected_option_count++,"multi"==this.options.type?this.form_field_jq.append("<input id='result_"+c+"' type='hidden' name='"+this.options.name+"' value='"+a.html+"'>"):"csv"==this.options.type&&(c=this.form_field_jq.val(),a=a.html,this.csv_as_array.push(a),a=-1<a.indexOf(",")||
"("==a.charAt(0)?"("+a+")":a,0<c.length&&(a=c+","+a),this.form_field_jq.val(a)),this.form_field_jq.trigger("change")):this.selected_Invalid_count++;return e.attr("chosen-option",!0).click(function(a){b.choice_destroy_link_click(a);b.search_field_scale();b.form_field_jq.trigger("change")})}}};c.prototype.check_duplicate=function(a){return"multi"==this.options.type?this.form_field_jq.find("[value='"+a+"']").length?!0:!1:"csv"==this.options.type?-1!=$.inArray(a,this.csv_as_array):!1};c.prototype.choice_destroy=
function(a){this.show_search_field_default();a=a.closest("li");if("multi"==this.options.type)this.form_field_jq.find("#result_"+a.attr("id")).remove();else if("csv"==this.options.type){var b=$.inArray(a.find("span:first").html(),this.csv_as_array);this.csv_as_array.splice(b,1);this.form_field_jq.val(this.csv_as_array.exJoin())}this.selected_option_count--;return a.first().remove()};c.prototype.close_field=function(){this.search_field.val()&&(this.choice_build({array_index:"_"+(new Date).getTime()+
"_",html:this.search_field.val()}),this.search_field.val(""));return c._super.close_field.call(this)};c.prototype.input_blur=function(a){var b=this;if(this.mouse_on_container)b.close_field(),b.input_focus(a);else return this.active_field=!1,setTimeout(function(){return b.blur_test()},100)};c.prototype.keydown_checker=function(a){var b;var c=null!=(b=a.which)?b:a.keyCode;this.search_field_scale();8!==c&&this.pending_backstroke&&this.clear_backstroke();switch(c){case 8:this.backstroke_length=this.search_field.val().length;
break;case 9:case 13:case 32:case 45:this.choice_build({array_index:"_"+(new Date).getTime()+"_",html:this.search_field.val()});this.search_field.val("");a.preventDefault();break;case 38:case 40:a.preventDefault()}};c.prototype.keyup_checker=function(a){var b;var c=null!=(b=a.which)?b:a.keyCode;this.search_field_scale();switch(c){case 8:if(this.is_multiple&&1>this.backstroke_length&&(0<this.choices_count()||0<this.selected_Invalid_count))return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),
this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};c.prototype.clear_all_selection=function(){this.container.find(".chosen-choices .search-choice .search-choice-close").trigger("click")};c.prototype.choices_click=c.prototype.result_select=c.prototype.winnow_results=function(){};return c}(),
d=function(){function a(){arguments[0].multiple=!0;a._super.constructor.apply(this,arguments)}a.inherit(window.Chosen);a.prototype.set_up_html=function(){var a=["chosen-container"];a.push("chosen-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&a.push(this.form_field.className);this.is_rtl&&a.push("chosen-rtl");a={"class":a.join(" "),title:this.form_field.title};this.form_field.id.length&&(a.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen");
this.container=$("<div />",a);this.form_field_jq.attr("validation")&&!this.form_field_jq.is("[error-on]")&&this.form_field_jq.attr("error-on",this.container_id);a=$("<input/>",{type:"hidden",name:this.options.hiddenfieldname||"highlighted",value:""});this.is_multiple?(this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'),
this.container.find(".chosen-choices").append(a)):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>');a=this.container.find(".chosen-results");a.scrollbar({vertical:{offset:-2,height:"auto"}});a.css({maxHeight:"120px"});this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();
this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first());this.results_build();this.set_tab_index();this.set_label_behavior();
return this.form_field_jq.trigger("chosen:ready",{chosen:this})};a.prototype.choice_build=function(a){var b=this;if(1==b.choices_count()&&b.active_field||b.options.selectedItem==a.value&&!b.active_field){var c=$("<li />",{"class":"search-choice"}).html("<span class='selected' rel='"+a.array_index+"'>"+a.html+"</span>");b.changeSelected(c.find("span"),!1)}else c=$("<li />",{"class":"search-choice"}).html("<span rel='"+a.array_index+"'>"+a.html+"</span>");c.find("span").click(function(a){return $(this).closest(".chosen-container").hasClass("chosen-disabled")?
!1:b.choice_click(a,this)});a.disabled?c.addClass("search-choice-disabled"):(a=$("<a />",{href:"#","class":"search-choice-close","data-option-array-index":a.array_index}),a.bind("click.chosen",function(a){return $(this).closest(".chosen-container").hasClass("chosen-disabled")?!1:b.choice_destroy_link_click(a)}),c.append(a));return this.search_container.before(c)};a.prototype.result_deselect=function(a){var b=this.results_data[a];this.search_choices.find("input[name='"+(this.options.hiddenfieldname||
"highlighted")+"']").val()==b.value&&this.search_choices.find("input[type=hidden]").val("");if(this.form_field.options[b.options_index].disabled)return!1;b.selected=!1;this.form_field.options[b.options_index].selected=!1;this.selected_option_count=null;$("#"+this.container_id+"_o_"+a).removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value});this.search_field_scale();
return!0};a.prototype.changeSelected=function(a,b){a=$(a);var c=this.search_choices;var d=a.attr("rel");d=this.results_data[d];c.find(".highlighted").removeClass("highlighted");a.closest("li").addClass("highlighted");a=c.find("input[type=hidden]");a.val(d.value);!1!==b&&a.trigger("change");c.append(a)};a.prototype.choice_click=function(a,b){this.changeSelected(b);return!1};return a}()})();
var ACCORDION_DEFAULTS={multiple:!1,all_close:!1},Accordion=function(a,b){this.container=a;a.addClass("accordion-panel");this.options=$.extend({},ACCORDION_DEFAULTS,b);var e=this;a.find(".label-bar").click(function(){var a=$(this),b=$.Event("beforeexpand");e.container.trigger(b,[e.container.find(".accordion-item.expanded"),a.next()]);b.isDefaultPrevented()||(e.options.all_close&&a.hasClass("expanded")?e.collapse(a):e.expand(a))}).each(function(){e.collapse($(this),!0)});$.each(b.expanded||[],function(){a.find(".label-bar").eq(+this-
1).trigger("click")});this.options.all_close||a.find(".label-bar.expanded").length||e.expand(a.find(".label-bar:first"))},childAccordion=function(a,b){this.container=a;a.addClass("accordion-panel");this.options=$.extend(!0,{},ACCORDION_DEFAULTS,b);var e=this;a.find(".child.label-bar").click(function(){var a=$(this),b=$.Event("beforeexpand");e.container.trigger(b,[e.container.find(".accordion-item.expanded"),a.next()]);b.isDefaultPrevented()||(e.options.all_close&&a.hasClass("expanded")?e.collapse(a):
e.expand(a))}).each(function(){e.collapse($(this),!0)});$.each(b.expanded||[],function(){a.find(".child.label-bar").eq(+this-1).trigger("click")});this.options.all_close||a.find(".child.label-bar.expanded").length||e.expand(a.find(".child.label-bar:first"))};
(function(){$.extend(Accordion.prototype,{collapse:function(a,b){if(!a.hasClass("expanded")||b||this.options.all_close||1!=this.container.find(".label-bar.expanded").length)a.removeClass("expanded").addClass("collapsed"),a.next().removeClass("expanded").addClass("collapsed"),bm.trigger(this,this.container,"accordion","collapse",[this.container.find(".accordion-item.expanded"),a.next()])},expand:function(a,b){if(!this.options.multiple){var e=this.container.find(".label-bar.expanded");e.length&&this.collapse(e,
!0)}a=this.bar(a);a.removeClass("collapsed").addClass("expanded");a.next().removeClass("collapsed").addClass("expanded");if(a.attr("item-url")&&!a.data("load")){this.container.trigger("start-load",[a.next()]);var d=this;e=a.attr("item-url");bm.ajax({url:app.baseUrl+e,dataType:"html",data:b?b.params:{},success:function(c){a.next().html(c);a.data("load","done");b&&b.success instanceof Function&&b.success(c);d.container.trigger("load",[a.next()]);bm.trigger(d,d.container,"accordion","load",[d.container.find(".accordion-item.expanded"),
a.next()])},error:function(c,e,m){b&&b.error instanceof Function&&b.error(c,e,m);d.container.trigger("error",[a.next(),c,e,m])}})}bm.trigger(this,this.container,"accordion","expand",[this.container.find(".accordion-item.expanded"),a.next()])},current:function(){return this.container.find(".accordion-item.expanded")},item:function(a){var b=a.closest(".label-bar",this.container);return b.length?b.next():a.closest(".accordion-item",this.container)},next:function(a){return a.is(".accordion-item")?a.next().next():
this.current().next().next()},bar:function(a){if(a instanceof Number||"number"==typeof a)a=this.container.find(".label-bar:eq('"+a+"')");else if(a instanceof String||"string"==typeof a)a=this.container.find(".label-bar."+a);a.is(".accordion-item")&&(a=a.prev());return a},clearState:function(a){if(a=this.item(a))a.html(""),a.prev().removeData("load")},reload:function(a,b){a=this.bar(a);this.clearState(a);this.expand(a,b)}});$.extend(childAccordion.prototype,{collapse:function(a,b){if(!a.hasClass("expanded")||
b||this.options.all_close||1!=this.container.find(".child.label-bar.expanded").length)a.removeClass("expanded").addClass("collapsed"),a.next().removeClass("expanded").addClass("collapsed"),bm.trigger(this,this.container,"childAccordion","collapse",[this.container.find(".accordion-item.expanded"),a.next()])},expand:function(a,b){if(!this.options.multiple){var e=this.container.find(".child.label-bar.expanded");e.length&&this.collapse(e,!0)}a=this.bar(a);a.removeClass("collapsed").addClass("expanded");
a.next().removeClass("collapsed").addClass("expanded");if(a.attr("item-url")&&!a.data("load")){this.container.trigger("start-load",[a.next()]);var d=this;e=a.attr("item-url");bm.ajax({url:app.baseUrl+e,dataType:"html",data:b?b.params:{},success:function(c){a.next().html(c);a.data("load","done");b&&b.success instanceof Function&&b.success(c);d.container.trigger("load",[a.next()]);bm.trigger(d,d.container,"childAccordion","load",[d.container.find(".child.label-bar.expanded"),a.next()])},error:function(c,
e,m){b&&b.error instanceof Function&&b.error(c,e,m);d.container.trigger("error",[a.next(),c,e,m])}})}bm.trigger(this,this.container,"childAccordion","expand",[this.container.find(".accordion-item.expanded"),a.next()])},current:function(){return this.container.find(".accordion-item.expanded")},item:function(a){var b=a.closest(".child.label-bar",this.container);return b.length?b.next():a.closest(".accordion-item",this.container)},next:function(a){return a.is(".accordion-item")?a.next().next():this.current().next().next()},
bar:function(a){if(a instanceof Number||"number"==typeof a)a=this.container.find(".child.label-bar:eq('"+a+"')");else if(a instanceof String||"string"==typeof a)a=this.container.find(".child.label-bar."+a);a.is(".accordion-item")&&(a=a.prev());return a},clearState:function(a){if(a=this.item(a))a.html(""),a.prev().removeData("load")},reload:function(a,b){a=this.bar(a);this.clearState(a);this.expand(a,b)}});bm.jquerify("accordion",Accordion);bm.jquerify("childAccordion",childAccordion)})();
$.paginator_config={el:void 0,onPageClick:void 0,next:"",prev:"",first:"",last:""};
var Paginator=function(a,b){this.showPages=7;a=$(a);$.extend(this,$.paginator_config,b);b=parseInt(a.attr("total"),10);b=0<b?b:0;var e=parseInt(a.attr("max"),10),d=parseInt(a.attr("offset"),10);d=Math.floor((0<d?d:0)/e)+1;var c=a.attr("pages");c&&(this.showPages=parseInt(c,10));this.el=$("<span></span>");this.el.attr("class",a.attr("class"));a.replaceWith(this.el);this.el.addClass(this.className||"pagination");this.el.data(a.data());this.el.data("wcui-pagination",this);this.update(b,e,d)},_p=Paginator.prototype;
(function(){function a(b){this.el.empty();if(!1!==this.first){var e=$('<span page="1" class="first '+(1==this.currentPage?"disabled":"")+'"></span>');e.text(this.first);this.el.append(e)}if(!1!==this.prev){var d=$('<span page="'+(this.currentPage-1)+'" class="prev '+(1==this.currentPage?"disabled":"")+'"></span>');d.text(this.prev);this.el.append(d)}b||(this.currentPage<this.startpage&&(this.startpage=this.currentPage,this.endpage=this.startpage+this.showPages-1),this.currentPage>this.endpage&&(this.endpage=
this.currentPage,this.startpage=this.endpage-this.showPages+1));1!=this.startpage&&this.el.append('<span class="prev-more" page="prev-pages">...</span>');for(b=this.startpage;b<=this.endpage;b++)b==this.currentPage?this.el.append('<span page="'+b+'" class="page-number current">'+b+"</span>"):this.el.append('<span page="'+b+'" class="page-number">'+b+"</span>");this.endpage!=this.pageCount&&this.el.append('<span class="next-more" page="next-pages">...</span>');if(!1!==this.next){var c=$('<span page="'+
(this.currentPage+1)+'" class="next '+(this.currentPage==this.pageCount?"disabled":"")+'"></span>');c.text(this.next);this.el.append(c)}if(!1!==this.last){var l=$('<span page="'+this.pageCount+'" class="last '+(this.currentPage==this.pageCount?"disabled":"")+'"></span>');l.text(this.last);this.el.append(l)}this.el.find("span").click(this,function(b){if(!$(this).hasClass("current")&&!$(this).hasClass("disabled")){b=b.data;var g=$(this).attr("page");if("prev-pages"==g)b.startpage=b.startpage>b.showPages?
b.startpage-b.showPages:1,b.endpage=b.pageCount<b.showPages+1?b.pageCount:b.startpage+(b.showPages-1),a.call(b,!0);else if("next-pages"==g)b.startpage=b.startpage+(b.showPages-1)<b.pageCount?b.startpage+b.showPages:b.startpage,b.startpage=b.startpage+(b.showPages-1)>b.pageCount?b.pageCount-(b.showPages-1):b.startpage,b.endpage=b.pageCount<b.showPages+1?b.pageCount:b.startpage+(b.showPages-1),a.call(b,!0);else{g=parseInt(g,10);b.currentPage=g;if($(this).hasClass("page-number")){$(this).siblings(".current").removeClass("current");
$(this).addClass("current");c&&(c[(g==b.pageCount?"add":"remove")+"Class"]("disabled"),c.attr("page",""+(b.currentPage+1)));if(l)l[(g==b.pageCount?"add":"remove")+"Class"]("disabled");d&&(d[(1==g?"add":"remove")+"Class"]("disabled"),d.attr("page",""+(b.currentPage-1)));if(e)e[(1==g?"add":"remove")+"Class"]("disabled")}else a.call(b);b.onPageClick&&b.onPageClick.call(b.el,g)}}})}_p.update=function(b,e,d){var c=this.el;"number"==typeof b&&(this.total=0<b?b:0);"number"==typeof e&&(this.all=-1==e,this.itemsPerPage=
1<e?e:-1==e?this.total:1);this.pageCount=this.all?0==this.total?0:1:Math.ceil(this.total/this.itemsPerPage);this.currentPage="number"==typeof d?1<d?d<=this.pageCount?d:this.pageCount:1:1<this.currentPage?this.currentPage<=this.pageCount?this.currentPage:this.pageCount:1;2>this.pageCount?c.empty():(b=Math.ceil(this.showPages/2),this.startpage=d>b&&this.pageCount>this.showPages?d-(b-1):1,this.startpage=this.startpage+(this.showPages-1)>this.pageCount&&1!=this.startpage?this.pageCount-(this.showPages-
1):this.startpage,this.endpage=this.pageCount<this.showPages+1?this.pageCount:this.startpage+(this.showPages-1),a.call(this))}})();_p.getPageCount=function(){return this.pageCount};_p.getCurrentPage=function(){return this.currentPage};_p.setCurrentPage=function(a,b){"undefined"!=typeof a&&(1>a&&(a=1),this.currentPage!=a||b)&&(this.update(void 0,void 0,a),this.onPageClick.call(this.el,this.currentPage))};_p.getTotal=function(){return this.total};
_p.setTotal=function(a){"undefined"!=typeof a&&this.update(a,void 0,void 0)};_p.getItemsPerPage=function(){return this.itemsPerPage};_p.setItemsPerPage=function(a){"undefined"!=typeof a&&this.update(void 0,a,void 0)};$.prototype.paginator=function(a){return this.length?this.each(function(){new Paginator(this,a)}):this};
(function(a){function b(a){a.async&&(a.filesLoaded+=1,a.filesLoaded===a.totalFiles&&a.callback&&a.callback())}function e(c,e){a.ajax({url:c,async:e.async,dataType:"text",success:function(a,c){d(a,e.mode);b(e)},error:function(a,d,f){console.log("Failed to download or parse "+c);b(e)}})}function d(b,d){var e="";b=b.split(/\n/);for(var f=/(\{\d+})/g,g=/\{(\d+)}/g,m=/(\\u.{4})/ig,w=0;w<b.length;w++)if(b[w]=b[w].replace(/^\s\s*/,"").replace(/\s\s*$/,""),0<b[w].length&&"#"!=b[w].match("^#")){var C=b[w].split("=");
if(0<C.length){for(var z=decodeURI(C[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),x=1==C.length?"":C[1];"\\"==x.match(/\\$/);)x=x.substring(0,x.length-1),x+=b[++w].replace(/\s\s*$/,"");for(var y=2;y<C.length;y++)x+="="+C[y];x=x.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if("map"==d||"both"==d){if(C=x.match(m))for(y=0;y<C.length;y++)x=x.replace(C[y],l(C[y]));a.i18n.map[z]=x}if("vars"==d||"both"==d)if(x=x.replace(/"/g,'\\"'),c(z),f.test(x)){C=x.split(f);y=!0;for(var A="",D=[],J=0;J<C.length;J++)!f.test(C[J])||
0!=D.length&&-1!=D.indexOf(C[J])||(y||(A+=","),A+=C[J].replace(g,"v$1"),D.push(C[J]),y=!1);e+=z+"=function("+A+"){";z='"'+x.replace(g,'"+v$1+"')+'"';e+="return "+z+";};"}else e+=z+'="'+x+'";'}}eval(e)}function c(a){if(/\./.test(a)){var b="";a=a.split(/\./);for(var c=0;c<a.length;c++)0<c&&(b+="."),b+=a[c],eval("typeof "+b+' == "undefined"')&&eval(b+"={};")}}function l(a){var b=[];a=parseInt(a.substr(2),16);0<=a&&a<Math.pow(2,16)&&b.push(a);a="";for(var c=0;c<b.length;++c)a+=String.fromCharCode(b[c]);
return a}a.i18n={};a.i18n.map={};a.i18n.properties=function(b){b=a.extend({name:"Messages",language:"",path:"",mode:"vars",cache:!1,encoding:"UTF-8",async:!1,checkAvailableLanguages:!1,callback:null},b);b.language=this.normaliseLanguageCode(b.language);var c=function(c){b.totalFiles=0;b.filesLoaded=0;var d=(d=b.name)&&d.constructor==Array?d:[d];if(b.async)for(var f=0,g=d.length;f<g;f++){b.totalFiles+=1;var l=b.language.substring(0,2);if(0==c.length||-1!=a.inArray(l,c))b.totalFiles+=1;5<=b.language.length&&
(l=b.language.substring(0,5),0==c.length||-1!=a.inArray(l,c))&&(b.totalFiles+=1)}f=0;for(g=d.length;f<g;f++)e(b.path+d[f]+".properties",b),l=b.language.substring(0,2),0!=c.length&&-1==a.inArray(l,c)||e(b.path+d[f]+"_"+l+".properties",b),5<=b.language.length&&(l=b.language.substring(0,5),0!=c.length&&-1==a.inArray(l,c)||e(b.path+d[f]+"_"+l+".properties",b));b.callback&&!b.async&&b.callback()};b.checkAvailableLanguages?a.ajax({url:b.path+"languages.json",async:b.async,cache:!1,success:function(a,b,
d){c(a.languages||[])}}):c([])};a.i18n.prop=function(b){var c=a.i18n.map[b];if(null==c)return b;var d;2==arguments.length&&a.isArray(arguments[1])&&(d=arguments[1]);var e;if("string"==typeof c){for(e=0;-1!=(e=c.indexOf("\\",e));)c="t"==c.charAt(e+1)?c.substring(0,e)+"\t"+c.substring(e++ +2):"r"==c.charAt(e+1)?c.substring(0,e)+"\r"+c.substring(e++ +2):"n"==c.charAt(e+1)?c.substring(0,e)+"\n"+c.substring(e++ +2):"f"==c.charAt(e+1)?c.substring(0,e)+"\f"+c.substring(e++ +2):"\\"==c.charAt(e+1)?c.substring(0,
e)+"\\"+c.substring(e++ +2):c.substring(0,e)+c.substring(e+1);var g=[],l,m;for(e=0;e<c.length;)if("'"==c.charAt(e))if(e==c.length-1)c=c.substring(0,e);else if("'"==c.charAt(e+1))c=c.substring(0,e)+c.substring(++e);else{for(l=e+2;-1!=(l=c.indexOf("'",l));)if(l==c.length-1||"'"!=c.charAt(l+1)){c=c.substring(0,e)+c.substring(e+1,l)+c.substring(l+1);e=l-1;break}else c=c.substring(0,l)+c.substring(++l);-1==l&&(c=c.substring(0,e)+c.substring(e+1))}else"{"==c.charAt(e)?(l=c.indexOf("}",e+1),-1==l?e++:(m=
parseInt(c.substring(e+1,l)),!isNaN(m)&&0<=m?(e=c.substring(0,e),""!=e&&g.push(e),g.push(m),e=0,c=c.substring(l+1)):e=l+1)):e++;""!=c&&g.push(c);c=g;a.i18n.map[b]=g}if(0==c.length)return"";if(1==c.length&&"string"==typeof c[0])return c[0];g="";for(e=0;e<c.length;e++)g="string"==typeof c[e]?g+c[e]:d&&c[e]<d.length?g+d[c[e]]:!d&&c[e]+1<arguments.length?g+arguments[c[e]+1]:g+("{"+c[e]+"}");return g};a.i18n.normaliseLanguageCode=function(a){if(!a||2>a.length)a=navigator.languages?navigator.languages[0]:
navigator.language||navigator.userLanguage||"en";a=a.toLowerCase();a=a.replace(/-/,"_");3<a.length&&(a=a.substring(0,3)+a.substring(3).toUpperCase());return a};var m;m||(m=function(a,b,c){if("[object RegExp]"!==Object.prototype.toString.call(b))return"undefined"==typeof m._nativeSplit?a.split(b,c):m._nativeSplit.call(a,b,c);var d=[],e=0,f=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.sticky?"y":"");b=new RegExp(b.source,f+"g");var g,l,p;a+="";m._compliantExecNpcg||(g=new RegExp("^"+b.source+"$(?!\\s)",
f));if(void 0===c||0>+c)c=Infinity;else if(c=Math.floor(+c),!c)return[];for(;l=b.exec(a);){f=l.index+l[0].length;if(f>e&&(d.push(a.slice(e,l.index)),!m._compliantExecNpcg&&1<l.length&&l[0].replace(g,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(l[a]=void 0)}),1<l.length&&l.index<a.length&&Array.prototype.push.apply(d,l.slice(1)),p=l[0].length,e=f,d.length>=c))break;b.lastIndex===l.index&&b.lastIndex++}e===a.length?!p&&b.test("")||d.push(""):d.push(a.slice(e));return d.length>
c?d.slice(0,c):d},m._compliantExecNpcg=void 0===/()??/.exec("")[1],m._nativeSplit=String.prototype.split);String.prototype.split=function(a,b){return m(this,a,b)}})(jQuery);
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),abbreviatedDayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),shortestDayNames:"Su Mo Tu We Th Fr Sa".split(" "),firstLetterDayNames:"SMTWTFS".split(""),monthNames:"January February March April May June July August September October November December".split(" "),abbreviatedMonthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,
may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,
millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",
offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};
(function(){var a=Date,b=a.prototype,e=a.CultureInfo,d=function(a,b){b||(b=2);return("000"+a).slice(-1*b)};b.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};b.setTimeToNow=function(){var a=new Date;this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds());return this};a.today=function(){return(new Date).clearTime()};a.compare=function(a,b){if(isNaN(a)||isNaN(b))throw Error(a+
" - "+b);if(a instanceof Date&&b instanceof Date)return a<b?-1:a>b?1:0;throw new TypeError(a+" - "+b);};a.equals=function(a,b){return 0===a.compareTo(b)};a.getDayNumberFromName=function(a){var b=e.dayNames,c=e.abbreviatedDayNames,d=e.shortestDayNames;a=a.toLowerCase();for(var g=0;g<b.length;g++)if(b[g].toLowerCase()==a||c[g].toLowerCase()==a||d[g].toLowerCase()==a)return g;return-1};a.getMonthNumberFromName=function(a){var b=e.monthNames,c=e.abbreviatedMonthNames;a=a.toLowerCase();for(var d=0;d<b.length;d++)if(b[d].toLowerCase()==
a||c[d].toLowerCase()==a)return d;return-1};a.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400};a.getDaysInMonth=function(b,c){return[31,a.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][c]};a.getTimezoneAbbreviation=function(a){for(var b=e.timezones,c=0;c<b.length;c++)if(b[c].offset===a)return b[c].name;return null};a.getTimezoneOffset=function(a){for(var b=e.timezones,c=0;c<b.length;c++)if(b[c].name===a.toUpperCase())return b[c].offset;return null};b.clone=function(){return new Date(this.getTime())};
b.compareTo=function(a){return Date.compare(this,a)};b.equals=function(a){return Date.equals(this,a||new Date)};b.between=function(a,b){return this.getTime()>=a.getTime()&&this.getTime()<=b.getTime()};b.isAfter=function(a){return 1===this.compareTo(a||new Date)};b.isBefore=function(a){return-1===this.compareTo(a||new Date)};b.isToday=function(){return this.isSameDay(new Date)};b.isSameDay=function(a){return this.clone().clearTime().equals(a.clone().clearTime())};b.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+
a);return this};b.addSeconds=function(a){return this.addMilliseconds(1E3*a)};b.addMinutes=function(a){return this.addMilliseconds(6E4*a)};b.addHours=function(a){return this.addMilliseconds(36E5*a)};b.addDays=function(a){this.setDate(this.getDate()+a);return this};b.addWeeks=function(a){return this.addDays(7*a)};b.addMonths=function(b){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(c,a.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};b.addYears=
function(a){return this.addMonths(12*a)};b.add=function(a){if("number"==typeof a)return this._orient=a,this;a.milliseconds&&this.addMilliseconds(a.milliseconds);a.seconds&&this.addSeconds(a.seconds);a.minutes&&this.addMinutes(a.minutes);a.hours&&this.addHours(a.hours);a.weeks&&this.addWeeks(a.weeks);a.months&&this.addMonths(a.months);a.years&&this.addYears(a.years);a.days&&this.addDays(a.days);return this};var c,l,m;b.getWeek=function(){c=c?c:this.getFullYear();l=l?l:this.getMonth()+1;m=m?m:this.getDate();
if(2>=l){var a=c-1;var b=(a/4|0)-(a/100|0)+(a/400|0);var d=b-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0));var e=0;var v=m-1+31*(l-1)}else a=c,b=(a/4|0)-(a/100|0)+(a/400|0),d=b-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0)),e=d+1,v=m+(153*(l-3)+2)/5+58+d;a=(a+b)%7;e=v+3-(v+a-e)%7|0;c=l=m=null;return 0>e?53-((a-d)/5|0):e>364+d?1:(e/7|0)+1};b.getISOWeek=function(){c=this.getUTCFullYear();l=this.getUTCMonth()+1;m=this.getUTCDate();return d(this.getWeek())};b.setWeek=function(a){return this.moveToDayOfWeek(1).addWeeks(a-
this.getWeek())};a._validate=function(a,b,c,d){if("undefined"==typeof a)return!1;if("number"!=typeof a)throw new TypeError(a+" is not a Number.");if(a<b||a>c)throw new RangeError(a+" is not a valid value for "+d+".");return!0};a.validateMillisecond=function(b){return a._validate(b,0,999,"millisecond")};a.validateSecond=function(b){return a._validate(b,0,59,"second")};a.validateMinute=function(b){return a._validate(b,0,59,"minute")};a.validateHour=function(b){return a._validate(b,0,23,"hour")};a.validateDay=
function(b,c,d){return a._validate(b,1,a.getDaysInMonth(c,d),"day")};a.validateMonth=function(b){return a._validate(b,0,11,"month")};a.validateYear=function(b){return a._validate(b,0,9999,"year")};b.set=function(b){a.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());a.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());a.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());a.validateHour(b.hour)&&this.addHours(b.hour-
this.getHours());a.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());a.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());a.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);b.week&&a._validate(b.week,0,53,"week")&&this.setWeek(b.week);return this};b.moveToFirstDayOfMonth=function(){return this.set({day:1})};b.moveToLastDayOfMonth=function(){return this.set({day:a.getDaysInMonth(this.getFullYear(),
this.getMonth())})};b.moveToNthOccurrence=function(a,b){var c=0;if(0<b)c=b-1;else if(-1===b)return this.moveToLastDayOfMonth(),this.getDay()!==a&&this.moveToDayOfWeek(a,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a,1).addWeeks(c)};b.moveToDayOfWeek=function(a,b){a=(a-this.getDay()+7*(b||1))%7;return this.addDays(0===a?a+7*(b||1):a)};b.moveToMonth=function(a,b){a=(a-this.getMonth()+12*(b||1))%12;return this.addMonths(0===a?a+12*(b||1):a)};b.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-
new Date(this.getFullYear(),0,1))/864E5)+1};b.getTimezone=function(){return a.getTimezoneAbbreviation(this.getUTCOffset())};b.setTimezoneOffset=function(a){var b=this.getTimezoneOffset();return this.addMinutes(-6*Number(a)/10-b)};b.setTimezone=function(b){return this.setTimezoneOffset(a.getTimezoneOffset(b))};b.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};b.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&
(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};b.getUTCOffset=function(){var a=-10*this.getTimezoneOffset()/6;if(0>a)return a=(a-1E4).toString(),a.charAt(0)+a.substr(2);a=(a+1E4).toString();return"+"+a.substr(1)};b.getElapsed=function(a){return(a||new Date)-this};b.toISOString||(b.toISOString=function(){function a(a){return 10>a?"0"+a:a}return'"'+this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
":"+a(this.getUTCSeconds())+'Z"'});b._toString=b.toString;b.toString=function(a){var b=this;if(a&&1==a.length){var c=e.formatPatterns;b.t=b.toString;switch(a){case "d":return b.t(c.shortDate);case "D":return b.t(c.longDate);case "F":return b.t(c.fullDateTime);case "m":return b.t(c.monthDay);case "r":return b.t(c.rfc1123);case "s":return b.t(c.sortableDateTime);case "t":return b.t(c.shortTime);case "T":return b.t(c.longTime);case "u":return b.t(c.universalSortableDateTime);case "y":return b.t(c.yearMonth)}}var g=
function(a){switch(1*a){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return a?a.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(a){if("\\"===a.charAt(0))return a.replace("\\","");b.h=b.getHours;switch(a){case "hh":return d(13>b.h()?0===b.h()?12:b.h():b.h()-12);case "h":return 13>b.h()?0===b.h()?12:b.h():b.h()-12;case "HH":return d(b.h());case "H":return b.h();case "mm":return d(b.getMinutes());case "m":return b.getMinutes();
case "ss":return d(b.getSeconds());case "s":return b.getSeconds();case "yyyy":return d(b.getFullYear(),4);case "yy":return d(b.getFullYear());case "dddd":return e.dayNames[b.getDay()];case "ddd":return e.abbreviatedDayNames[b.getDay()];case "dd":return d(b.getDate());case "d":return b.getDate();case "MMMM":return e.monthNames[b.getMonth()];case "MMM":return e.abbreviatedMonthNames[b.getMonth()];case "MM":return d(b.getMonth()+1);case "M":return b.getMonth()+1;case "t":return 12>b.h()?e.amDesignator.substring(0,
1):e.pmDesignator.substring(0,1);case "tt":return 12>b.h()?e.amDesignator:e.pmDesignator;case "S":return g(b.getDate());default:return a}}):this._toString()}})();
(function(){var a=Date,b=a.prototype,e=a.CultureInfo,d=Number.prototype;b._orient=1;b._nth=null;b._is=!1;b._same=!1;b._isSecond=!1;d._dateElement="day";b.next=function(){this._orient=1;return this};a.next=function(){return a.today().next()};b.last=b.prev=b.previous=function(){this._orient=-1;return this};a.last=a.prev=a.previous=function(){return a.today().last()};b.is=function(){this._is=!0;return this};b.same=function(){this._same=!0;this._isSecond=!1;return this};b.today=function(){return this.same().day()};
b.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};b.at=function(b){return"string"===typeof b?a.parse(this.toString("d")+" "+b):this.set(b)};d.fromNow=d.after=function(a){var b={};b[this._dateElement]=this;return(a?a.clone():new Date).add(b)};d.ago=d.before=function(a){var b={};b[this._dateElement]=-1*this;return(a?a.clone():new Date).add(b)};var c="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),l="january february march april may june july august september october november december".split(/\s/),
m="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),g="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),f="final first second third fourth fifth".split(/\s/);b.toObject=function(){for(var a={},b=0;b<m.length;b++)a[m[b].toLowerCase()]=this["get"+g[b]]();return a};a.fromObject=function(a){a.week=null;return Date.today().set(a)};for(var p=function(b){return function(){if(this._is)return this._is=!1,this.getDay()==b;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*
this._orient);this._isSecond=!1;var c=this._nth;this._nth=null;var d=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(b,c);if(this>d)throw new RangeError(a.getDayName(b)+" does not occur "+c+" times in the month of "+a.getMonthName(d.getMonth())+" "+d.getFullYear()+".");return this}return this.moveToDayOfWeek(b,this._orient)}},q=function(b){return function(){var c=a.today(),d=b-c.getDay();0===b&&1===e.firstDayOfWeek&&0!==c.getDay()&&(d+=7);return c.addDays(d)}},v=0;v<c.length;v++)a[c[v].toUpperCase()]=
a[c[v].toUpperCase().substring(0,3)]=v,a[c[v]]=a[c[v].substring(0,3)]=q(v),b[c[v]]=b[c[v].substring(0,3)]=p(v);c=function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}};p=function(b){return function(){return a.today().set({month:b,day:1})}};for(q=0;q<l.length;q++)a[l[q].toUpperCase()]=a[l[q].toUpperCase().substring(0,3)]=q,a[l[q]]=a[l[q].substring(0,3)]=p(q),b[l[q]]=b[l[q].substring(0,3)]=c(q);c=function(a){return function(b){if(this._isSecond)return this._isSecond=
!1,this;if(this._same){this._same=this._is=!1;var c=this.toObject();b=(b||new Date).toObject();for(var d,e=a.toLowerCase(),f=m.length-1;-1<f;f--){d=m[f].toLowerCase();if(c[d]!=b[d])return!1;if(e==d)break}return!0}"s"!=a.substring(a.length-1)&&(a+="s");return this["add"+a](this._orient)}};p=function(a){return function(){this._dateElement=a;return this}};for(q=0;q<m.length;q++)l=m[q].toLowerCase(),b[l]=b[l+"s"]=c(m[q]),d[l]=d[l+"s"]=p(l);b._ss=c("Second");d=function(a){return function(b){if(this._same)return this._ss(b);
if(b||0===b)return this.moveToNthOccurrence(b,a);this._nth=a;return 2!==a||void 0!==b&&null!==b?this:(this._isSecond=!0,this.addSeconds(this._orient))}};for(l=0;l<f.length;l++)b[f[l]]=0===l?d(-1):d(l)})();
(function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};for(var a=Date.Parsing,b=a.Operators={rtoken:function(b){return function(c){var d=c.match(b);if(d)return[d[0],c.substring(d[0].length)];throw new a.Exception(c);}},token:function(a){return function(a){return b.rtoken(new RegExp("^s*"+a+"s*"))(a)}},stoken:function(a){return b.rtoken(new RegExp("^"+a))},until:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(p){c.push(d[0]);
b=d[1];continue}break}return[c,b]}},many:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(p){break}c.push(d[0]);b=d[1]}return[c,b]}},optional:function(a){return function(b){var c=null;try{c=a.call(this,b)}catch(f){return[null,b]}return[c[0],c[1]]}},not:function(b){return function(c){try{b.call(this,c)}catch(g){return[null,c]}throw new a.Exception(c);}},ignore:function(a){return a?function(b){return[null,a.call(this,b)[1]]}:null},product:function(){for(var a=
arguments[0],c=Array.prototype.slice.call(arguments,1),d=[],e=0;e<a.length;e++)d.push(b.each(a[e],c));return d},cache:function(b){var c={},d=null;return function(e){try{d=c[e]=c[e]||b.call(this,e)}catch(p){d=c[e]=p}if(d instanceof a.Exception)throw d;return d}},any:function(){var b=arguments;return function(c){for(var d=null,e=0;e<b.length;e++)if(null!=b[e]){try{d=b[e].call(this,c)}catch(p){d=null}if(d)return d}throw new a.Exception(c);}},each:function(){var b=arguments;return function(c){for(var d=
[],e=null,l=0;l<b.length;l++)if(null!=b[l]){try{e=b[l].call(this,c)}catch(q){throw new a.Exception(c);}d.push(e[0]);c=e[1]}return[d,c]}},all:function(){var a=a;return a.each(a.optional(arguments))},sequence:function(c,d,e){d=d||b.rtoken(/^\s*/);e=e||null;return 1==c.length?c[0]:function(b){for(var f=null,g=null,l=[],m=0;m<c.length;m++){try{f=c[m].call(this,b)}catch(w){break}l.push(f[0]);try{g=d.call(this,f[1])}catch(w){g=null;break}b=g[1]}if(!f)throw new a.Exception(b);if(g)throw new a.Exception(g[1]);
if(e)try{f=e.call(this,f[1])}catch(w){throw new a.Exception(f[1]);}return[l,f?f[1]:b]}},between:function(a,c,d){d=d||a;var e=b.each(b.ignore(a),c,b.ignore(d));return function(a){a=e.call(this,a);return[[a[0][0],r[0][2]],a[1]]}},list:function(a,c,d){c=c||b.rtoken(/^\s*/);d=d||null;return a instanceof Array?b.each(b.product(a.slice(0,-1),b.ignore(c)),a.slice(-1),b.ignore(d)):b.each(b.many(b.each(a,b.ignore(c))),px,b.ignore(d))},set:function(c,d,e){d=d||b.rtoken(/^\s*/);e=e||null;return function(f){for(var g,
l=null,m,u=[[],f],w,C=0;C<c.length;C++){g=l=null;w=1==c.length;try{g=c[C].call(this,f)}catch(z){continue}m=[[g[0]],g[1]];if(0<g[1].length&&!w)try{l=d.call(this,g[1])}catch(z){w=!0}else w=!0;w||0!==l[1].length||(w=!0);if(!w){g=[];for(w=0;w<c.length;w++)C!=w&&g.push(c[w]);g=b.set(g,d).call(this,l[1]);0<g[0].length&&(m[0]=m[0].concat(g[0]),m[1]=g[1])}m[1].length<u[1].length&&(u=m);if(0===u[1].length)break}if(0===u[0].length)return u;if(e){try{l=e.call(this,u[1])}catch(z){throw new a.Exception(u[1]);
}u[1]=l[1]}return u}},forward:function(a,b){return function(c){return a[b].call(this,c)}},replace:function(a,b){return function(c){c=a.call(this,c);return[b,c[1]]}},process:function(a,b){return function(c){c=a.call(this,c);return[b.call(this,c[0]),c[1]]}},min:function(b,c){return function(d){var e=c.call(this,d);if(e[0].length<b)throw new a.Exception(d);return e}}},e=function(a){return function(){var b=null,c=[];1<arguments.length?b=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&
(b=arguments[0]);if(b)for(var d=b.shift();0<d.length;)return b.unshift(d[0]),c.push(a.apply(null,b)),b.shift(),c;else return a.apply(null,arguments)}},d="optional not ignore cache".split(/\s/),c=0;c<d.length;c++)b[d[c]]=e(b[d[c]]);e=function(a){return function(){return arguments[0]instanceof Array?a.apply(null,arguments[0]):a.apply(null,arguments)}};d="each any all".split(/\s/);for(c=0;c<d.length;c++)b[d[c]]=e(b[d[c]])})();
(function(){var a=Date,b=a.CultureInfo,e=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof Array?b=b.concat(e(a[c])):a[c]&&b.push(a[c]);return b};a.Grammar={};a.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var b=a.replace(/[^\d\+\-]/g,
"");b.length?this.timezoneOffset=Number(b):this.timezone=a.toLowerCase()}},day:function(a){var b=a[0];return function(){this.day=Number(b.match(/\d+/)[0])}},month:function(a){return function(){this.month=3==a.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(a)/4:Number(a)-1}},year:function(a){return function(){var c=Number(a);this.year=2<a.length?c:c+(c+2E3<b.twoDigitYearMax?2E3:1900)}},rday:function(a){return function(){switch(a){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(b){b=b instanceof Array?b:[b];for(var c=0;c<b.length;c++)b[c]&&b[c].call(this);b=new Date;!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=b.getDate());this.year||(this.year=b.getFullYear());this.month||0===this.month||(this.month=b.getMonth());this.day||(this.day=1);this.hour||(this.hour=0);this.minute||(this.minute=0);this.second||(this.second=0);this.meridian&&this.hour&&("p"==
this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));if(this.day>a.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");b=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?b.set({timezone:this.timezone}):this.timezoneOffset&&b.set({timezoneOffset:this.timezoneOffset});return b},finish:function(b){b=b instanceof Array?e(b):[b];if(0===b.length)return null;for(var c=0;c<b.length;c++)"function"==
typeof b[c]&&b[c].call(this);b=a.today();if(!this.now||this.unit||this.operator)this.now&&(b=new Date);else return new Date;c=!!(this.days&&null!==this.days||this.orient||this.operator);var d="past"==this.orient||"subtract"==this.operator?-1:1;this.now||-1=="hour minute second".indexOf(this.unit)||b.setTimeToNow();!this.month&&0!==this.month||-1=="year day hour minute second".indexOf(this.unit)||(this.value=this.month+1,this.month=null,c=!0);if(!c&&this.weekday&&!this.day&&!this.days){var f=Date[this.weekday]();
this.day=f.getDate();this.month||(this.month=f.getMonth());this.year=f.getFullYear()}if(c&&this.weekday&&"month"!=this.unit){this.unit="day";f=a.getDayNumberFromName(this.weekday)-b.getDay();var g=7;this.days=f?(f+d*g)%g:d*g}this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null);null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value);this.month&&!this.day&&this.value&&(b.set({day:1*this.value}),c||(this.day=1*this.value));this.month||!this.value||
"month"!=this.unit||this.now||(this.month=this.value,c=!0);c&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",f=this.month-b.getMonth(),g=12,this.months=f?(f+d*g)%g:d*g,this.month=null);this.unit||(this.unit="day");if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*d;else if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=
1),this[this.unit+"s"]=this.value*d;this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));!this.weekday||this.day||this.days||(f=Date[this.weekday](),this.day=f.getDate(),f.getMonth()!==b.getMonth()&&(this.month=f.getMonth()));!this.month&&0!==this.month||this.day||(this.day=1);if(!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);c&&this.timezone&&this.day&&
this.days&&(this.day=this.days);return c?b.add(this):b.set(this)}};var d=a.Parsing.Operators,c=a.Grammar,l=a.Translator;c.datePartDelimiter=d.rtoken(/^([\s\-\.\,\/\x27]+)/);c.timePartDelimiter=d.stoken(":");c.whiteSpace=d.rtoken(/^\s*/);c.generalDelimiter=d.rtoken(/^(([\s\,]|at|@|on)+)/);var m={};c.ctoken=function(a){var c=m[a];if(!c){c=b.regexPatterns;for(var e=a.split(/\s+/),f=[],g=0;g<e.length;g++)f.push(d.replace(d.rtoken(c[e[g]]),e[g]));c=m[a]=d.any.apply(null,f)}return c};c.ctoken2=function(a){return d.rtoken(b.regexPatterns[a])};
c.h=d.cache(d.process(d.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),l.hour));c.hh=d.cache(d.process(d.rtoken(/^(0[0-9]|1[0-2])/),l.hour));c.H=d.cache(d.process(d.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),l.hour));c.HH=d.cache(d.process(d.rtoken(/^([0-1][0-9]|2[0-3])/),l.hour));c.m=d.cache(d.process(d.rtoken(/^([0-5][0-9]|[0-9])/),l.minute));c.mm=d.cache(d.process(d.rtoken(/^[0-5][0-9]/),l.minute));c.s=d.cache(d.process(d.rtoken(/^([0-5][0-9]|[0-9])/),l.second));c.ss=d.cache(d.process(d.rtoken(/^[0-5][0-9]/),l.second));
c.hms=d.cache(d.sequence([c.H,c.m,c.s],c.timePartDelimiter));c.t=d.cache(d.process(c.ctoken2("shortMeridian"),l.meridian));c.tt=d.cache(d.process(c.ctoken2("longMeridian"),l.meridian));c.z=d.cache(d.process(d.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),l.timezone));c.zz=d.cache(d.process(d.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),l.timezone));c.zzz=d.cache(d.process(c.ctoken2("timezone"),l.timezone));c.timeSuffix=d.each(d.ignore(c.whiteSpace),d.set([c.tt,c.zzz]));c.time=d.each(d.optional(d.ignore(d.stoken("T"))),
c.hms,c.timeSuffix);c.d=d.cache(d.process(d.each(d.rtoken(/^([0-2]\d|3[0-1]|\d)/),d.optional(c.ctoken2("ordinalSuffix"))),l.day));c.dd=d.cache(d.process(d.each(d.rtoken(/^([0-2]\d|3[0-1])/),d.optional(c.ctoken2("ordinalSuffix"))),l.day));c.ddd=c.dddd=d.cache(d.process(c.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}}));c.M=d.cache(d.process(d.rtoken(/^(1[0-2]|0\d|\d)/),l.month));c.MM=d.cache(d.process(d.rtoken(/^(1[0-2]|0\d)/),l.month));c.MMM=c.MMMM=d.cache(d.process(c.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),
l.month));c.y=d.cache(d.process(d.rtoken(/^(\d\d?)/),l.year));c.yy=d.cache(d.process(d.rtoken(/^(\d\d)/),l.year));c.yyy=d.cache(d.process(d.rtoken(/^(\d\d?\d?\d?)/),l.year));c.yyyy=d.cache(d.process(d.rtoken(/^(\d\d\d\d)/),l.year));var g=function(){return d.each(d.any.apply(null,arguments),d.not(c.ctoken2("timeContext")))};c.day=g(c.d,c.dd);c.month=g(c.M,c.MMM);c.year=g(c.yyyy,c.yy);c.orientation=d.process(c.ctoken("past future"),function(a){return function(){this.orient=a}});c.operator=d.process(c.ctoken("add subtract"),
function(a){return function(){this.operator=a}});c.rday=d.process(c.ctoken("yesterday tomorrow today now"),l.rday);c.unit=d.process(c.ctoken("second minute hour day week month year"),function(a){return function(){this.unit=a}});c.value=d.process(d.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}});c.expression=d.set([c.rday,c.operator,c.value,c.unit,c.orientation,c.ddd,c.MMM]);g=function(){return d.set(arguments,c.datePartDelimiter)};c.mdy=g(c.ddd,c.month,
c.day,c.year);c.ymd=g(c.ddd,c.year,c.month,c.day);c.dmy=g(c.ddd,c.day,c.month,c.year);c.date=function(a){return(c[b.dateElementOrder]||c.mdy).call(this,a)};c.format=d.process(d.many(d.any(d.process(d.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(b){if(c[b])return c[b];throw a.Parsing.Exception(b);}),d.process(d.rtoken(/^[^dMyhHmstz]+/),function(a){return d.ignore(d.stoken(a))}))),function(a){return d.process(d.each.apply(null,a),l.finishExact)});var f={},p=function(a){return f[a]=
f[a]||c.format(a)[0]};c.formats=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(p(a[c]));return d.any.apply(null,b)}return p(a)};c._formats=c.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));c._start=d.process(d.set([c.date,c.time,c.expression],
c.generalDelimiter,c.whiteSpace),l.finish);c.start=function(a){try{var b=c._formats.call({},a);if(0===b[1].length)return b}catch(u){}return c._start.call({},a)};a._parse=a.parse;a.parse=function(b){var c=null;if(!b)return null;if(b instanceof Date)return b;try{c=a.Grammar.start.call({},b.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(u){return null}return 0===c[1].length?c[0]:null};a.getParseFunction=function(b){var c=a.Grammar.formats(b);return function(a){var b=null;try{b=c.call({},a)}catch(C){return null}return 0===
b[1].length?b[0]:null}};a.parseExact=function(b,c){return a.getParseFunction(c)(b)}})();
(function(){function a(a){var b=this;this.uuid=bm.getUUID();this.input=a;this.clazz=a.attr("class");if(this.auto="auto"==a.attr("submit"))this.submit_url=this.input.attr("ajax-url"),this.submit_data=this.input.attr("submit-data");(this.form=this.auto?null:this.input.closest("form"))&&!this.form.length&&(this.form=null);this.input.addClass("masked-file-input");this.wrapper=$("<div class='dropzone-wrapper'></div>");this.clazz&&this.wrapper.addClass(this.clazz);this.input.after(this.wrapper);if(window.FormData)this.dropZone=
$("<div class='dropzone'><span class='dropzone-text'></span></div>"),this.dropZone.find(".dropzone-text").text(this.dropText),this.wrapper.append(this.dropZone);else{this.dropZone=$("<button type='button' class='fake-file-chooser'></button>").text(this.chooserText);this.dropZone.wrap("<span class='input-wrapper-false-mask' style='display: inline-block;'></span>");this.wrapper.append(this.dropZone);this.dropZone.after(a);var c=a.width();this.dropZone.on("mousemove",function(b){a.offset({left:b.pageX-
c+5,top:b.pageY-5})});a.parent().width(this.dropZone.outerWidth()).height(this.dropZone.outerHeight());this.dropZone.off("click")}var d=this.input.attr("clazz");d&&this.dropZone.addClass(d);this.dropZone.click(function(){b.isDisabled||a.trigger("click")});if(d=a.attr("size-limit"))this.size_limit=+d;a.is("[validation]")&&!a.is("[error-on]")&&(d=bm.getUUID(),this.wrapper.attr("id",d),a.attr("error-on",d));this.initializeDrop()}function b(){}function e(b){var c=this;a.apply(this,arguments);if(this.viewer=
this.input.attr("previewer")){this.remove="true"==this.input.attr("remove-support");var d=this.input.attr("reset-support");this.reset=d?"true"==d:this.remove;this.viewer=this.input.parent().find("#"+this.viewer).length?this.input.parent().find("#"+this.viewer):$("#"+this.viewer);this.wrapper.addClass("single-file-with-preview")}else this.wrapper.addClass("single-file-without-preview"),"no"!==this.input.attr("text-helper")&&(this.fakeText=$("<input type='text' class='fake-chooser-text' readonly>"),
this.wrapper.append(this.fakeText));this.viewer&&(this.resetUrl=this.viewer?this.viewer.attr("src"):null,this.initializeResets());if(this.auto){if("false"!=b.attr("enable-remove-after-submit"))b.one("file-submit",function(a,b){b.resetUrl&&c.enableRemove()});if("true"==b.attr("reset-after-submit"))b.on("file-submit",function(){c.input.reset()})}}function d(a){this.fileType="video";this.dropText=a.attr("drop-text")||$.i18n.prop("drop.video.or.click");this.chooserText=a.attr("chooser-text")||$.i18n.prop("choose.video");
e.apply(this,arguments)}function c(a){this.fileType="image";this.dropText=a.attr("drop-text")||$.i18n.prop("drop.image.or.click");this.chooserText=a.attr("chooser-text")||$.i18n.prop("choose.image");e.apply(this,arguments)}function l(a){this.dropText=a.attr("drop-text")||$.i18n.prop("drop.file.or.click");this.chooserText=a.attr("chooser-text")||$.i18n.prop("choose.file");this.fileType=a.attr("file-type");e.apply(this,arguments)}function m(){a.apply(this,arguments);this.queue=this.form.find("#"+this.input.attr("queue"));
this.wrapper.addClass("multiple-file")}function g(a){this.fileType="video";this.dropText=a.attr("drop-text")||$.i18n.prop("drop.videos.or.click");m.apply(this,arguments)}function f(a){this.fileType="image";this.dropText=a.attr("drop-text")||$.i18n.prop("drop.images.or.click");this.chooserText=a.attr("chooser-text")||$.i18n.prop("choose.image");m.apply(this,arguments)}function p(a){this.dropText=a.attr("drop-text")||$.i18n.prop("drop.files.or.click");this.fileType=a.attr("file-type");m.apply(this,
arguments)}$.prototype.updateUi=function(){this.find("select:not([multiple], .raw), div.wcui-select.chosen").chosen();var a=this.find("select[multiple]:not(.raw)");a.not(".special-select-chosen").chosen();a.filter(".special-select-chosen").each(function(){var a=$(this);a.multispecialchosen(a.config("chosen"))});this.find("div.multitxtchosen").multitxtchosen({type:"multi"});this.find("input.multitxtchosen").multitxtchosen({type:"csv"});this.find("input.spinner").each(function(){var a=$(this),b={min:a.attr("min"),
max:a.attr("max")};a.trigger("onStepperBind",[b]);a.stepper(b)});this.find("paginator").paginator({next:$.i18n.prop("next"),prev:$.i18n.prop("prev"),first:"<<",last:">>"});this.find(".bmui-tab:not(.alone)").tabify({loader_template:"<span class='vertical-aligner'></span><span class='loader'></span>"});this.find("textarea.wceditor").each(function(){var a=$(this),b={callbacks:{focus:function(){var b=a.data("validator-filed-inst");b&&b.clear()},blur:function(){var b=a.data("validator-filed-inst");b&&
b.validate()},change:function(){a.trigger("change")}},imageUpload:app.baseUrl+"app/uploadWceditorImage?type=redactor",imageManagerJson:app.baseUrl+"app/wceditorImages",fileUpload:app.baseUrl+"app/uploadWceditorFile?type=redactor",fileManagerJson:app.baseUrl+"app/wceditorFiles",plugins:"fontcolor fontsize alignment inlinestyle properties table fullscreen video imagemanager definedlinks clips limiter textdirection filemanager".split(" ")};"super_simple"==a.attr("toolbar-type")?(b.plugins=["inlinestyle",
"definedlinks","limiter"],b.buttons=["format","inlinestyle","bold","italic","link"]):"simple"==a.attr("toolbar-type")&&(b.plugins="fontcolor fontsize alignment table video imagemanager definedlinks limiter filemanager properties fullscreen textdirection inlinestyle".split(" "),b.buttons="html format bold italic deleted lists image file link".split(" "));a.redactor(b)});this.find(".accordion-panel").accordion();this.find(".datefield-between").each(function(){var a=$(this);a.find(".datefield-from").date({direction:void 0,
show_select_today:!1,lang_clear_date:$.i18n.prop("clear"),pair:a.find(".datefield-to").date({direction:!0,show_select_today:!1,lang_clear_date:$.i18n.prop("clear")})})});this.find(".timefield-between").each(function(){var a=$(this);a.find(".timefield-from").date({direction:void 0,show_select_today:!1,lang_clear_date:$.i18n.prop("clear"),pair:a.find(".timefield-to").date({direction:!0,show_select_today:!1,lang_clear_date:$.i18n.prop("clear"),time:"HH:mm:ss"}),time:"HH:mm:ss"})});this.find(".datefield").each(function(){var a=
$(this);a.date({direction:a.attr("no-previous")?!0:a.attr("no-next")?!1:void 0,show_select_today:!1,lang_clear_date:$.i18n.prop("clear")})});this.find(".timefield").each(function(){var a=$(this);a.date({direction:a.attr("no-previous")?!0:a.attr("no-next")?!1:void 0,show_select_today:!1,lang_clear_date:$.i18n.prop("clear"),time:"HH:mm:ss"})});this.find("input[type='file']").file();this.find("input:checkbox").checkbox();this.find("input:radio").radio();app.is_front_end||this.find('[title][title!=""]').tooltipster({contentAsHTML:!0});
bm.cBaseDoc(this.find(".context-documentation"));this.find(".chart-block").chart();this.find("textarea, .redactor-layer").on("mousewheel",function(a,b){var c=$(this),d=c.scrollTop(),e=this.scrollHeight,f=c.innerHeight();c.scrollTop(d-40*b);d=c.scrollTop();0!=d&&d+f<e&&(a.originalEvent.ignoreSroll=!0)});return this};var q={state:function(a){if(a)switch(a){case "checked":1!=this.state&&v.state.call(this,1);break;case "unchecked":4!=this.state&&v.state.call(this,4);break;case "partial":if(1==this.state||
4==this.state)1==this.state?v.state.call(this,2):4==this.state?v.state.call(this,3):""}else return 1==this.state?"checked":4==this.state?"unchecked":"partial"},enable:function(a){a?(this.el.removeAttr("disabled","disabled"),this.removeClass("disabled")):(this.addClass("disabled"),this.el.attr("disabled","disabled"))}},v={state:function(a){this.removeClass("checked partial unchecked");switch(a){case 1:this.el[0].checked=!0;this.addClass("checked");break;case 2:case 3:this.addClass("partial");break;
case 4:this.el[0].checked=!1,this.addClass("unchecked")}this.state=a}},u=$.prototype.prop;$.prototype.prop=function(a,b){return"checked"==a&&void 0!=b?this.each(function(){var c=$(this),d=c.data("wcui-checkbox");d?q.state.call(d,b?"checked":!1===b?"unchecked":void 0):u.apply(c,[a,b])}):u.apply(this,arguments)};$.prototype.checkbox=function(a){if(!this.length||$(this).hasClass("skip-wcui"))return this;if(a){var b,c=Array.prototype.splice.call(arguments,1);this.each(function(){var d=$(this).data("wcui-checkbox");
if(!d)throw $.error(a+" is being called before initialization");b=q[a].apply(d,c);return void 0==b});return void 0==b?this:b}return this.each(function(){var a=$(this);if("none"!=a.css("display")){var b=a.data("wcui-checkbox");if(!b){var c="";a.is(".single")?c="single":a.is(".multiple")&&(c="multiple");c=$("<span class='wcui-checkbox "+c+"'></span>");b=$.extend({},{el:a},c);a.data("wcui-checkbox",b);a.after(c).hide();a.is("[disabled]")&&c.addClass("disabled");a.is("[title]")&&c.attr("title",a.attr("title"));
this.checked?v.state.call(b,1):v.state.call(b,4);c.bind("click",function(){if(!a.is("[disabled]")){switch(b.state){case 1:v.state.call(b,4);break;case 2:v.state.call(b,4);break;case 3:v.state.call(b,1);break;case 4:v.state.call(b,1)}a.triggerWithPropagation("change")}})}}})};var w={state:function(a){this.removeClass("checked unchecked");switch(a){case 1:this.el[0].checked=!0;this.addClass("checked");break;case 2:this.addClass("unchecked")}this.state=a},clear_others:function(){var a=this.group;a&&
$.each(a,function(){if(this.el[0].checked)return w.state.call(this.el.data("wcui-radio"),2),!1})}},C={check:function(){1!=this.state&&(w.clear_others.call(this),w.state.call(this,1))},val:function(a){var b=this.group;if("undefined"!=typeof a){var c;$.each(b||[this],function(){if(this.el.val()==a)return c=this,!1});if(!c)return!1;C.check.call(c);return!0}var d;$.each(b||[this],function(){if(this.el[0].checked)return d=this.el.val(),!1});return d},state:w.state};$.prototype.radio=function(a){if(!this.length)return this;
if(a){var b,c=Array.prototype.splice.call(arguments,1);this.each(function(){var d=$(this).data("wcui-radio");if(!d)throw $.error(a+" is being called before initialization");b=C[a].apply(d,c);return void 0==b});return void 0==b?this:b}var d={};return this.each(function(){var a=$(this),b=a.data("wcui-radio");if(!b){var c=$("<span class='wcui-radio'></span>");"none"==a.css("display")&&c.hide();var e=a.attr("name");b=$.extend({},{el:a},c);if(e){var f=d[e];f||(f=[],d[e]=f);b.group=f;f.push(b)}a.data("wcui-radio",
b);a.after(c).hide();a.is("[disabled]")&&c.addClass("disabled");this.checked?w.state.call(b,1):w.state.call(b,2);c.bind("click",function(){1==b.state||a.is("[disabled]")||(C.check.call(b),a.triggerWithPropagation("change"))})}})};a.prototype.preAdd=function(){};a.prototype.onAdd=function(){};a.prototype.onVerifyError=function(){};a.prototype.resetFile=function(){};a.prototype.initializeDrop=function(){var a,b=this;this.dropZone.fileupload({dropZone:this.dropZone,fileInput:this.input,pasteZone:null,
replaceFileInput:!1,dataType:"json",autoUpload:!1,add:function(c,d){if(c.delegatedEvent.timeStamp!=a){b.preAdd(d);var e=!1;$.each(d.originalFiles,function(){b.verify(this)&&(e=!0,b.onAdd(c,this),b.input.trigger("file-add",[this]),b.auto&&(b.isDisabled=!0,$(b.dropZone).fileupload("send",{files:[this],formData:{id:b.submit_data},url:b.submit_url,success:function(a){b.isDisabled=!1;a.resetUrl&&(b.resetUrl=a.resetUrl);b.input.trigger("file-submit",[a])},error:function(){b.isDisabled=!1;b.reset=!1;b.resetFile()}}),
b.remove="true"==b.input.attr("remove-support")))});"drop"==c.delegatedEvent.type&&e&&b.input.trigger("change",d);a=c.delegatedEvent.timeStamp}},dragenter:function(){b.dropZone.addClass("drag-over")},dragleave:function(){b.dropZone.removeClass("drag-over")},drop:function(){b.dropZone.removeClass("drag-over")}})};a.prototype.verify=function(a){var b=null;if(window.File){this.size_limit&&a.size>this.size_limit&&(b=$.i18n.prop("size.limit.exceeded",[this.size_limit.toByteNotation()]));var c=a.type?a.type:
a.name.substring(a.name.lastIndexOf(".")+1,a.name.length);!b&&this.fileType&&((new RegExp(this.fileType)).test(c)||(b=$.i18n.prop("file.type.unsupported")));if(b&&!1===this.onVerifyError(b,a))return!1}return b?!1:!0};a.prototype.cacheFile=function(a){a={name:this.input.attr("name"),value:a};a.value.formData=a;if(this.form){var b=this.caches;b||(b=this.caches=[]);b.push(a);(b=this.form.data("form-extra-data"))||this.form.data("form-extra-data",b=[]);b.push(a)}};a.prototype.updateCache=function(a){this.caches&&
this.removeCache();this.cacheFile(a)};a.prototype.removeCache=function(a){if(this.form){var b=this.form.data("form-extra-data");b&&(a?(b.remove(a),this.caches.remove(a)):(this.caches.every(function(){b.remove(this)}),this.caches=[]))}};b.prototype.preview=function(a,b){if(window.FileReader){var c=new FileReader;c.onload=function(a){b.attr("src",a.target.result)};c.readAsDataURL(a)}};e.inherit(a);e.prototype.initializeResets=function(){var a=this;this.removeButton=$("<span class='tool-icon remove image-remove'></span>");
this.remove||this.removeButton.hide();this.viewer.after(this.removeButton);this.removeCheck=$("<input type='checkbox' class='single' value='yes'>");this.removeCheck.attr("name",this.input.attr("remove-option-name"));this.wrapper.prepend(this.removeCheck.hide());this.removeButton.on("click",function(){a.removeFile()});this.reset&&(a=this,this.resetUrl=this.viewer?this.viewer.attr("src"):null,this.resetButton=$("<span class='tool-icon reset image-reset'></span>").hide(),this.remove?this.removeButton.after(this.resetButton):
this.viewer.after(this.resetButton),this.resetButton.on("click",function(){a.resetFile()}))};e.prototype.clearFile=function(a){this.wrapper.hasClass("file-added")&&(!1!==a&&this.input.reset(),this.fakeText&&this.fakeText.val(""),this.removeCache(),this.wrapper.removeClass("file-added"))};e.prototype.enableReset=function(){this.reset&&this.resetButton.show()};e.prototype.enableRemove=function(){this.remove&&this.removeButton.show()};e.prototype.removeFile=function(){var a=this;this.viewer.hide();this.removeButton.hide();
this.removeCheck[0].checked=!0;this.clearFile();this.input.trigger("file-remove");this.enableReset();this.auto&&(this.disabled=!0,bm.ajax({url:app.baseUrl+this.submit_url,data:{id:this.submit_data,"remove-image":"true"},success:function(){a.resetUrl=""},error:function(){a.resetFile()},complete:function(){a.disabled=!1}}))};e.prototype.preAdd=function(){a.prototype.preAdd.apply(this,arguments);this.clearFile(!1)};e.prototype.onAdd=function(b,c){a.prototype.onAdd.apply(this,arguments);this.wrapper.addClass("file-added");
this.fakeText&&this.fakeText.val(c.name);"drop"==b.delegatedEvent.type&&(this.updateCache(c),this.input.reset());this.enableRemove()};e.prototype.onVerifyError=function(b){a.prototype.onVerifyError.apply(this,arguments);bm.notify(b,"alert");this.input.reset();this.input.trigger("file-reset");return!1};e.prototype.resetFile=function(){this.removeCheck[0].checked=!1;this.enableRemove();this.clearFile();this.input.trigger("file-reset");this.reset&&this.resetButton.hide()};d.inherit(e);c.inherit(e,b);
c.prototype.onVerifyError=function(a){e.prototype.onVerifyError.apply(this,arguments);this.reset&&this.resetFile();return!1};c.prototype.resetFile=function(){this.resetUrl?(this.viewer.show(),this.viewer[0].src=this.resetUrl):this.viewer.hide();e.prototype.resetFile.apply(this,arguments)};c.prototype.onAdd=function(a,b){e.prototype.onAdd.apply(this,arguments);this.viewer.show();this.preview(b,this.viewer);this.enableReset()};l.inherit(e);l.prototype.onAdd=function(a,b){e.prototype.onAdd.apply(this,
arguments);if(this.viewer){this.viewer.show();var c;this.viewer.attr("class").split(" ").every(function(){if(this.startsWith("type-"))return c=this,!1});this.viewer.removeClass(""+c).addClass("type-"+bm.fileExtension(b.name));this.enableReset()}};l.prototype.resetFile=function(){if(this.resetUrl){this.viewer.show();var a;this.viewer.attr("class").split(" ").every(function(){if(this.startsWith("type-"))return a=this,!1});this.viewer.removeClass(""+a).addClass("type-"+bm.fileExtension(this.resetUrl));
this.viewer.attr("src",this.resetUrl)}else this.viewer&&this.viewer.hide();e.prototype.resetFile.apply(this,arguments)};m.inherit(a);m.prototype.onVerifyError=function(b,c){a.prototype.onVerifyError.apply(this,arguments);var d=$("<div class='file-selection-queue error-queue'><span class='file-name'></span><span class='tool-icon remove file-remove'></span></div>");d.find(".file-name").text(b+" : ("+c.name+")");this.initializeQueue(d,c)};m.prototype.preAdd=function(){a.prototype.preAdd.apply(this,arguments);
this.input.reset()};m.prototype.onAdd=function(b,c){a.prototype.onAdd.apply(this,arguments);var d=$("<div class='file-selection-queue'><span class='file-name'></span><span class='tool-icon remove file-remove'></span></div>");d.find(".file-name").text(c.name+"  ("+c.size.toByteNotation()+")");this.cacheFile(c);this.initializeQueue(d,c);return d};m.prototype.initializeQueue=function(a,b){var c=this;a.data("file",b);this.queue.append(a);a.find(".file-remove").click(function(){a.remove();b.formData&&
c.removeCache(b.formData)})};g.inherit(m);f.inherit(m,b);f.prototype.onAdd=function(a,b){var c=m.prototype.onAdd.apply(this,arguments),d=$("<img class='queue-image-preview'>");c.prepend(d);this.preview(b,d)};p.inherit(m);$.prototype.file=function(){if(!this.length)return this;this.each(function(){var a=$(this),b=a.attr("file-type"),e=a.attr("multiple");"image"==b?e?new f(a):new c(a):"video"==b?e?new g(a):new d(a):e?new p(a):new l(a)})};var z=["151,205,187","151,187,205","205,151,187"];$.prototype.chart=
function(a,b){this.length&&this.each(function(){var c=$(this);if(!c.is(".no-record-chart")){if(a){var d=c.data("wcui-chart");c.html("<canvas></canvas>");var e=c.children()[0].getContext("2d"),f=b.capitalize();e=(new Chart(e))[f](d.data,d.options)}else{f=c.children();c.html("<canvas></canvas>");e=c.children()[0].getContext("2d");var g=$.extend([],{labels:[],datasets:[]}),l=f.filter("label").each(function(){g.labels.push($(this).text())}).length;d=f.filter("div.dataset");var m=d.length,p=f.filter("div.data");
d.each(function(a){var b=z[a],c=[];g.datasets.push({label:$(this).text(),fillColor:"rgba("+b+",0.2)",strokeColor:"rgba("+b+",1)",pointColor:"rgba("+b+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+b+",1)",data:c});for(b=0;b<l;b++)c[b]=+p.eq(b*m+a).text();if(1==m)for(b=0;b<l;b++){a=Math.floor(210*Math.random()+20);var d=Math.floor(210*Math.random()+20),e=Math.floor(210*Math.random()+20);g.push({value:c[b],color:"rgba("+a+","+d+","+e+",1)",highlight:"rgba("+(a+
10)+","+(d+10)+","+(e+10)+",1)",label:g.labels[b]})}});d={responsive:!0,multiTooltipTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%> <%= value %>",maintainAspectRatio:!1};f=c.attr("chart-type").capitalize();e=(new Chart(e))[f](g,d);c.data("wcui-chart",{data:g,options:d})}if("Pie"==f||"Doughnut"==f)e=e.generateLegend(),c.append(e)}})};$.prototype.scrollTo=function(a,b,c){if(a){"function"==typeof b&&2==arguments.length&&(c=b,b=a);var d=$.extend({scrollTarget:a,offsetTop:50,duration:500,easing:"swing"},
b),e=d.scrollTarget;return this.each(function(){var a=$(this),b="number"==typeof e?e:e.offset().top+a.scrollTop()-parseInt(d.offsetTop);a.animate({scrollTop:b},parseInt(d.duration),d.easing,function(){"function"==typeof c&&c.call(this)})})}};$.prototype.refreshTooltip=function(a){this.is(".tooltipstered")&&this.tooltipster("destroy").attr("title",$.i18n.prop(a)).tooltipster();return this}})();
(function(){app.config=$.extend({shopping_cart_page_message_display_time:15E3,server_message_display_time:8E3,newsletter_subscription_message_display_time:6E3,checkout_step_message_display_time:6E3,validation_newsletter_subscription_error_position:"inline",customer_profile_message_display_time:6E3,product_details_page_status_time:5E3,product_zoom_box_dimension:"1x",number_block_in_paginator_count:7,number_block_in_paginator_count_800:3,site_popup_animation_clazz:"anim-fade-zoom"},app.config)})();
